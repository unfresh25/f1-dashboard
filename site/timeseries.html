<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jorge Borja">
<meta name="author" content="Jose Mercado">
<meta name="description" content="La Fórmula 1, también conocida como F1, representa la cúspide de las carreras internacionales de monoplazas de ruedas abiertas, bajo la supervisión de la Federación Internacional del Automóvil (FIA). Desde su primera temporada en 1950, el Campeonato Mundial de Pilotos, rebautizado como el Campeonato Mundial de Fórmula 1 de la FIA en 1981, ha destacado como una de las principales competiciones a nivel global. La palabra “fórmula” en su nombre alude al conjunto de reglas que guían a todos los participantes en cuanto a la construcción y funcionamiento de los vehículos.">

<title>F1 Dashboard - Campeonato Mundial de la Formula 1 (1950 - 2023)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./logisticbinary.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">

<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="icon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
<link rel="manifest" href="icon/manifest.json">
<link rel="mask-icon" href="icon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./logisticbinary.html">Análisis Predictivos</a></li><li class="breadcrumb-item"><a href="./timeseries.html">Modelo de Serie de Tiempo</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./"><span style="color: #e10600">F1</span> Dashboard</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Análisis Exploratorio de Datos (EDA)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./races.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis de la tabla races</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./constructors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis de la tabla constructors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./drivers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis de la tabla drivers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Análisis Predictivos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logisticbinary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modelo de Regresión Logística Binaria</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./timeseries.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Modelo de Serie de Tiempo</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#definición" id="toc-definición" class="nav-link active" data-scroll-target="#definición">Definición</a></li>
  <li><a href="#planteamiento-del-problema" id="toc-planteamiento-del-problema" class="nav-link" data-scroll-target="#planteamiento-del-problema">Planteamiento del problema</a></li>
  <li><a href="#obtención-de-los-datos" id="toc-obtención-de-los-datos" class="nav-link" data-scroll-target="#obtención-de-los-datos">Obtención de los datos</a></li>
  <li><a href="#construcción-del-modelo-sarima" id="toc-construcción-del-modelo-sarima" class="nav-link" data-scroll-target="#construcción-del-modelo-sarima">Construcción del modelo SARIMA</a>
  <ul class="collapse">
  <li><a href="#visualización-de-las-series-de-tiempo" id="toc-visualización-de-las-series-de-tiempo" class="nav-link" data-scroll-target="#visualización-de-las-series-de-tiempo">Visualización de las series de tiempo</a>
  <ul class="collapse">
  <li><a href="#ferrari" id="toc-ferrari" class="nav-link" data-scroll-target="#ferrari">Ferrari</a></li>
  <li><a href="#red-bull" id="toc-red-bull" class="nav-link" data-scroll-target="#red-bull">Red Bull</a></li>
  <li><a href="#mercedes" id="toc-mercedes" class="nav-link" data-scroll-target="#mercedes">Mercedes</a></li>
  <li><a href="#williams" id="toc-williams" class="nav-link" data-scroll-target="#williams">Williams</a></li>
  <li><a href="#mclaren" id="toc-mclaren" class="nav-link" data-scroll-target="#mclaren">McLaren</a></li>
  </ul></li>
  <li><a href="#divisón-de-datos-para-entrenamiento-del-modelo" id="toc-divisón-de-datos-para-entrenamiento-del-modelo" class="nav-link" data-scroll-target="#divisón-de-datos-para-entrenamiento-del-modelo">Divisón de datos para entrenamiento del modelo</a></li>
  <li><a href="#criterios-aic-bic-y-hqic" id="toc-criterios-aic-bic-y-hqic" class="nav-link" data-scroll-target="#criterios-aic-bic-y-hqic">Criterios AIC, BIC y HQIC</a></li>
  </ul></li>
  <li><a href="#modelos-ajustados" id="toc-modelos-ajustados" class="nav-link" data-scroll-target="#modelos-ajustados">Modelos ajustados</a>
  <ul class="collapse">
  <li><a href="#ferrari-1" id="toc-ferrari-1" class="nav-link" data-scroll-target="#ferrari-1">Ferrari</a>
  <ul class="collapse">
  <li><a href="#forecasting-sin-rolling" id="toc-forecasting-sin-rolling" class="nav-link" data-scroll-target="#forecasting-sin-rolling">Forecasting sin rolling</a></li>
  <li><a href="#rolling-forecasting" id="toc-rolling-forecasting" class="nav-link" data-scroll-target="#rolling-forecasting">Rolling Forecasting</a></li>
  </ul></li>
  <li><a href="#red-bull-1" id="toc-red-bull-1" class="nav-link" data-scroll-target="#red-bull-1">Red Bull</a>
  <ul class="collapse">
  <li><a href="#forecasting-sin-rolling-1" id="toc-forecasting-sin-rolling-1" class="nav-link" data-scroll-target="#forecasting-sin-rolling-1">Forecasting sin rolling</a></li>
  <li><a href="#rolling-forecasting-1" id="toc-rolling-forecasting-1" class="nav-link" data-scroll-target="#rolling-forecasting-1">Rolling Forecasting</a></li>
  </ul></li>
  <li><a href="#mercedes-1" id="toc-mercedes-1" class="nav-link" data-scroll-target="#mercedes-1">Mercedes</a>
  <ul class="collapse">
  <li><a href="#forecasting-sin-rolling-2" id="toc-forecasting-sin-rolling-2" class="nav-link" data-scroll-target="#forecasting-sin-rolling-2">Forecasting sin rolling</a></li>
  <li><a href="#rolling-forecasting-2" id="toc-rolling-forecasting-2" class="nav-link" data-scroll-target="#rolling-forecasting-2">Rolling Forecasting</a></li>
  </ul></li>
  <li><a href="#williams-1" id="toc-williams-1" class="nav-link" data-scroll-target="#williams-1">Williams</a>
  <ul class="collapse">
  <li><a href="#forecasting-sin-rolling-3" id="toc-forecasting-sin-rolling-3" class="nav-link" data-scroll-target="#forecasting-sin-rolling-3">Forecasting sin rolling</a></li>
  <li><a href="#rolling-forecasting-3" id="toc-rolling-forecasting-3" class="nav-link" data-scroll-target="#rolling-forecasting-3">Rolling Forecasting</a></li>
  </ul></li>
  <li><a href="#mclaren-1" id="toc-mclaren-1" class="nav-link" data-scroll-target="#mclaren-1">McLaren</a>
  <ul class="collapse">
  <li><a href="#forecasting-sin-rolling-4" id="toc-forecasting-sin-rolling-4" class="nav-link" data-scroll-target="#forecasting-sin-rolling-4">Forecasting sin rolling</a></li>
  <li><a href="#rolling-forecasting-4" id="toc-rolling-forecasting-4" class="nav-link" data-scroll-target="#rolling-forecasting-4">Rolling Forecasting</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#evaluación-de-los-modelos" id="toc-evaluación-de-los-modelos" class="nav-link" data-scroll-target="#evaluación-de-los-modelos">Evaluación de los modelos</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./logisticbinary.html">Análisis Predictivos</a></li><li class="breadcrumb-item"><a href="./timeseries.html">Modelo de Serie de Tiempo</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Campeonato Mundial de la Formula 1 (1950 - 2023)</h1>
<p class="subtitle lead">Visualización Científica</p>
</div>

<div>
  <div class="description">
    <p>La Fórmula 1, también conocida como F1, representa la cúspide de las carreras internacionales de monoplazas de ruedas abiertas, bajo la supervisión de la Federación Internacional del Automóvil (FIA). Desde su primera temporada en 1950, el Campeonato Mundial de Pilotos, rebautizado como el Campeonato Mundial de Fórmula 1 de la FIA en 1981, ha destacado como una de las principales competiciones a nivel global. La palabra “fórmula” en su nombre alude al conjunto de reglas que guían a todos los participantes en cuanto a la construcción y funcionamiento de los vehículos.</p>
  </div>
</div>

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Autores/as</div>
  <div class="quarto-title-meta-heading">Afiliación</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://www.linkedin.com/in/jorgeborjas25/">Jorge Borja, Mag</a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://uninorte.edu.co/">
            Universidad del Norte
            </a>
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://www.linkedin.com/in/jose-javier-mercado-reyes-246352214/">Jose Mercado, Mag</a> </p>
  </div>
  <div class="quarto-title-meta-contents">
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="definición" class="level1">
<h1>Definición</h1>
<p>Una serie temporal es una realización parcial de un proceso estocástico de parámetro tiempo discreto, donde los elementos de <span class="math inline">\(I\)</span> están ordenados y corresponden a instantes equidistantes del tiempo. Estos procesos estocásticos son colecciones o familias de variables aleatorias <span class="math inline">\(\{X_{t}\}_{t\in I}\)</span> ordenadas según el subíndice <span class="math inline">\(t\)</span> que en general se suele identificar con el tiempo. Llamamos trayectoria del proceso a una realización del proceso estocástico. Si <span class="math inline">\(I\)</span> es discreto, el proceso es en tiempo discreto. Si <span class="math inline">\(I\)</span> es continuo, el proceso es en tiempo continuo. Entre las series de tiempo, existen modelos estadísticos que definen el proceso de cualquier conjunto de hipótesis bien definidas sobre las propeidades estadísticas de dicho proceso estocástico.</p>
<p>Uno de los modelos más utilizados a la hora de realizar pronósticos de series de tiempo es el modelo <code>ARIMA</code>. Estos modelos <code>ARIMA</code> (Autorregresivos Integrados de Media Móvil) aproximan los valores futuros de una serie temporal como una función lineal de observaciones pasadas y términos de ruido blanco. Una serie de tiempo <span class="math inline">\(y_t\)</span> se llama un proceso de media móvil integrada autorregresiva (<code>ARIMA</code>) de órdenes <span class="math inline">\(p, d, q\)</span>, denotado ARIMA(<span class="math inline">\(p, d, q\)</span>) si su diferencia <span class="math inline">\(d\)</span> da lugar a un proceso estacionario ARMA(<span class="math inline">\(p, q\)</span>). Por lo tanto, un ARIMA(<span class="math inline">\(p, d, q\)</span>) puede escribirse como</p>
<p><span class="math display">\[
    \Phi(B)(1 - B)^{d} y_{t} = \delta + \Theta(B) \varepsilon_{t}
\]</span></p>
<p>donde</p>
<p><span class="math display">\[
    \Phi(B) = 1 - \sum_{i = 1}^{p} \phi_{i} B^{i} \quad \text{y} \quad \Theta(B) = 1 - \sum_{i = 1}^{q} \theta_{i} B^{i},
\]</span></p>
<p>son los términos del operador back-shit en los AR(<span class="math inline">\(p\)</span>) y MA(<span class="math inline">\(q\)</span>) definidos como <span class="math inline">\(\Phi(B) y_{t} = \delta + \varepsilon_{t}\)</span> y <span class="math inline">\(y_{t} = \mu + \Theta(B) \varepsilon_{t}\)</span> con <span class="math inline">\(\delta = \mu - \phi \mu\)</span>, donde <span class="math inline">\(\mu\)</span> es la media y <span class="math inline">\(\varepsilon_{t}\)</span> el ruido blanco con <span class="math inline">\(E(\varepsilon_t) = 0\)</span> <span class="citation" data-cites="rubio2024">(<a href="#ref-rubio2024" role="doc-biblioref">Rubio 2024</a>)</span>.</p>
</section>
<section id="planteamiento-del-problema" class="level1">
<h1>Planteamiento del problema</h1>
<p>El análisis de series de tiempo <code>SARIMA</code> (Seasonal Autoregressive Integrated Moving Average) se propone como una herramienta efectiva para pronosticar la tasa de obtención de puntos de los cinco equipos más exitosos desde el año 2010. Estos equipos incluyen <strong>Red Bull Racing</strong>, <strong>Mercedes-AMG Petronas Formula One Team</strong>, <strong>Scuderia Ferrari</strong>, <strong>Williams Racing</strong> y <strong>McLaren F1 Team</strong>. El objetivo es generar pronósticos precisos para la tasa de obtención de puntos de estos equipos en los próximas 25 premios.</p>
</section>
<section id="obtención-de-los-datos" class="level1">
<h1>Obtención de los datos</h1>
<p>Siguiendo el mismo enfoque utilizado en la sección anterior para llevar a cabo los análisis exploratorios, emplearemos una función para establecer la conexión con la base de datos.</p>
<p>Primero, importamos las bibliotecas necesarias:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stats)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RPostgreSQL)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'tsibble'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: ggplot2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(TSstudio)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo </code></pre>
</div>
</div>
<p>A continuación, creamos la función que facilita las conexiones:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>connection_db <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(connection <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>      RPostgres<span class="sc">::</span><span class="fu">Postgres</span>(),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">dbname =</span> <span class="st">'f1_db'</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">host =</span> <span class="st">'ep-delicate-art-a5sxoon2.us-east-2.aws.neon.tech'</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">port =</span> <span class="dv">5432</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">user =</span> <span class="st">'f1_db_owner'</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">password =</span> <span class="st">'VOTP3ugh8Gts'</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Es importante destacar que esta función utiliza una variable de entorno para almacenar los datos de conexión a la base de datos. En este caso, estamos utilizando <a href="https://neon.tech/">Neon</a>, que nos permite crear un servidor de bases de datos con <code>PostgreSQL</code>.</p>
<p>Como mencionamos previamente, las tablas y sus respectivas columnas que utilizaremos para el desarrollo de este modelo son las siguientes:</p>
<ul>
<li><strong>Results:</strong> points (tasa de obtención de puntos).</li>
<li><strong>Races:</strong> date (fecha en que se celebró la carrera).</li>
<li><strong>Constructors:</strong> name (nombre del equipo).</li>
</ul>
<p>Luego, ejecutamos la consulta SQL para obtener los datos relevantes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>connection <span class="ot">&lt;-</span> <span class="fu">connection_db</span>() </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="st">    r.date AS race_date, </span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="st">    c.name AS team, </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(res.points) AS points_sum,</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="st">    round((SUM(res.points) / COALESCE(fs.total_first_second, 1)) * 100, 4) AS adjusted_points_percentage</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM Results res</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN Constructors c ON res.constructorId = c.constructorId</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN Races r ON res.raceId = r.raceId</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="st">  LEFT JOIN (</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT raceId, SUM(points) AS total_first_second</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Results</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="st">    WHERE positionOrder IN (1, 2)</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY raceId</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="st">  ) fs ON fs.raceId = res.raceId</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="st">  WHERE r.date &gt;= '2010-01-01'</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY r.date, c.name, fs.total_first_second</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="st">  ORDER BY r.date ASC, c.name ASC;</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>race_data <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(connection, query)</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(connection)</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>race_ts_data <span class="ot">&lt;-</span> race_data <span class="sc">%&gt;%</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ferrari"</span>, <span class="st">"Mercedes"</span>, <span class="st">"Red Bull"</span>, <span class="st">"McLaren"</span>, <span class="st">"Williams"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(race_date, team, adjusted_points_percentage) <span class="sc">%&gt;%</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(<span class="at">key =</span> team, <span class="at">value =</span> adjusted_points_percentage) <span class="sc">%&gt;%</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(Ferrari, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(Mercedes, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(<span class="st">`</span><span class="at">Red Bull</span><span class="st">`</span>, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(McLaren, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(Williams, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">index =</span> race_date)</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(race_ts_data)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["race_date"],"name":[1],"type":["date"],"align":["right"]},{"label":["Ferrari"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["McLaren"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Mercedes"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Red Bull"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Williams"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"2010-03-14","2":"100.0000","3":"48.8372","4":"41.8605","5":"37.2093","6":"2.3256"},{"1":"2010-03-28","2":"62.7907","3":"76.7442","4":"25.5814","5":"4.6512","6":"9.3023"},{"1":"2010-04-04","2":"13.9535","3":"27.9070","4":"34.8837","5":"100.0000","6":"2.3256"},{"1":"2010-04-18","2":"32.5581","3":"100.0000","4":"37.2093","5":"27.9070","6":"0.0000"},{"1":"2010-05-09","2":"60.4651","3":"23.2558","4":"27.9070","5":"93.0233","6":"4.6512"},{"1":"2010-05-16","2":"46.5116","3":"23.2558","4":"13.9535","5":"100.0000","6":"0.0000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Con este procedimiento, hemos obtenido los datos necesarios para nuestro análisis y modelado subsiguiente.</p>
</section>
<section id="construcción-del-modelo-sarima" class="level1">
<h1>Construcción del modelo SARIMA</h1>
<p>El modelo ARIMA estacional (<code>SARIMA</code>), como su nombre lo indica, es una versión designada del modelo <code>ARIMA</code> para series temporales con una componente estacional. Una serie temporal con un componente estacional tiene una fuerte relación sus rezagos estacionales. El modelo <code>SARIMA</code> utiliza los rezagos estacionales de manera similar a como lo hace el modelo <code>ARIMA</code>, esto es, utiliza los rezagos no estacionales con los procesos <code>AR</code> y <code>MA</code> y la <code>diferenciación</code>. Para ello, añade los tres componentes siguientes al modelo <code>ARIMA</code>.</p>
<ul>
<li><p><strong>Proceso SAR</strong> (<code>P</code>): Un proceso <code>AR</code> estacional de la serie con sus <code>P</code> rezagos estacionales pasados. Por ejemplo, un <code>SAR(2)</code> es un proceso <code>AR</code> de la serie con sus dos últimos rezagos estacionales, es decir, <span class="math inline">\(Y_t = c + \Phi_1 Y_{t-f} + \Phi_2 Y_{t - 2f} + \varepsilon_{t}\)</span> donde <span class="math inline">\(\Phi\)</span> representa el coeficiente estacional del proceso <code>SAR</code>, y <span class="math inline">\(f\)</span> representa la frecuencia de la serie.</p></li>
<li><p><strong>Proceso SMA</strong> (<code>Q</code>): Un proceso <code>MA</code> estacional de la serie con sus Q términos de error estacionales pasados. Por ejemplo, un <code>SMA(1)</code> es un proceso de media móvil de la serie con su término de error estacional pasado, es decir, <span class="math inline">\(Y_t = \mu + \varepsilon_{t} + \Theta_1 \varepsilon_{t - f}\)</span>, donde <span class="math inline">\(\Theta\)</span> representa el coeficiente estacional del proceso <code>SMA</code>.</p></li>
<li><p><strong>Proceso SI</strong> (<code>D</code>): Una diferenciación estacional de la serie con sus últimos <code>D</code> rezagos estacionales. De forma similar, podemos diferenciar la serie con su rezago estacional, es decir, <span class="math inline">\(Y_{D = 1}' = Y_t - Y_{t - f}\)</span>.</p></li>
</ul>
<p>Utilizamos la siguiente notación para denotar los parámetros <code>SARIMA</code>, donde los parámetros <span class="math inline">\(P\)</span> y <span class="math inline">\(Q\)</span> representan los ordenes correspondientes de los procesos <code>AR</code> y <code>MA</code> estacionales de la serie con sus rezagos estacionales, y <span class="math inline">\(D\)</span> define el grado diferenciación de la serie con sus rezagos estacionales.</p>
<p><span class="math display">\[
    \text{SARIMA}(p, d, q) \times (P, D, Q).
\]</span></p>
<section id="visualización-de-las-series-de-tiempo" class="level2">
<h2 class="anchored" data-anchor-id="visualización-de-las-series-de-tiempo">Visualización de las series de tiempo</h2>
<p>Inicialmente, veamos gráficamente las series de tiempo que tenemos para cada equipo</p>
<section id="ferrari" class="level3">
<h3 class="anchored" data-anchor-id="ferrari">Ferrari</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">l =</span> <span class="dv">0</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">r =</span> <span class="dv">0</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">b =</span> <span class="dv">0</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">t =</span> <span class="dv">80</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>frecuencia <span class="ot">&lt;-</span> <span class="dv">25</span>  </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>ferrari_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    race_ts_data<span class="sc">$</span>Ferrari, </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">frequency =</span> frecuencia, </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">start =</span> <span class="fu">c</span>(</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%Y"</span>)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(<span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%j"</span>))</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">ts_plot</span>(</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    ferrari_ts,</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rendimiento de Ferrari desde el 2013-Presente"</span>,</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">"Porcentajes de puntos ganados"</span>,</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Año"</span>,</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#a6051a"</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-504161015017875d77cc" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-504161015017875d77cc">{"x":{"visdat":{"6e702f5437d9":["function () ","plotlyVisDat"]},"cur_data":"6e702f5437d9","attrs":{"6e702f5437d9":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#a6051a"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"xaxis":{"domain":[0,1],"automargin":true,"title":"Año","showgrid":false,"gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showgrid":false,"gridcolor":"#111","showline":false,"showticklabels":false},"title":"Rendimiento de Ferrari desde el 2013-Presente","paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.2800000000002,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.0400000000002,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72,2022.76,2022.8000000000002,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0800000000002,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5600000000002,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[100,62.790700000000001,13.9535,32.558100000000003,60.4651,46.511600000000001,23.255800000000001,34.883699999999997,9.3023000000000007,0,100,69.767399999999995,27.907,93.023300000000006,67.441900000000004,34.883699999999997,93.023300000000006,34.883699999999997,16.2791,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,23.255800000000001,41.860500000000002,18.604700000000001,65.116299999999995,81.395300000000006,65.116299999999995,53.488399999999999,37.209299999999999,53.488399999999999,32.558100000000003,55.814,41.860500000000002,34.883699999999997,65.116299999999995,51.162799999999997,23.255800000000001,58.139499999999998,4.6512000000000002,18.604700000000001,41.860500000000002,53.488399999999999,25.581399999999999,58.139499999999998,69.767399999999995,58.139499999999998,27.907,23.255800000000001,62.790700000000001,44.186,41.860500000000002,62.790700000000001,60.4651,55.814,62.790700000000001,76.744200000000006,69.767399999999995,23.255800000000001,76.744200000000006,9.3023000000000007,93.023300000000006,13.9535,51.162799999999997,53.488399999999999,27.907,32.558100000000003,55.814,69.767399999999995,60.4651,23.255800000000001,30.232600000000001,27.907,32.558100000000003,23.255800000000001,48.837200000000003,41.860500000000002,27.907,6.9767000000000001,44.186,32.558100000000003,27.907,20.930199999999999,25.581399999999999,18.604700000000001,23.255800000000001,60.4651,41.860500000000002,4.6512000000000002,37.209299999999999,0,23.255800000000001,18.604700000000001,32.558100000000003,6.9767000000000001,34.883699999999997,86.046499999999995,62.790700000000001,65.116299999999995,58.139499999999998,60.4651,51.162799999999997,27.907,44.186,58.139499999999998,13.9535,65.116299999999995,93.023300000000006,62.790700000000001,51.162799999999997,34.883699999999997,0,62.790700000000001,62.790700000000001,34.883699999999997,41.860500000000002,65.116299999999995,34.883699999999997,76.744200000000006,27.907,60.4651,69.767399999999995,34.883699999999997,27.907,46.511600000000001,41.860500000000002,23.255800000000001,62.790700000000001,51.162799999999997,27.907,51.162799999999997,27.907,41.860500000000002,23.255800000000001,53.488399999999999,86.046499999999995,65.116299999999995,86.046499999999995,76.744200000000006,41.860500000000002,100,41.860500000000002,27.907,65.116299999999995,48.837200000000003,100,69.767399999999995,58.139499999999998,0,27.907,23.255800000000001,76.744200000000006,62.790700000000001,93.023300000000006,62.790700000000001,93.023300000000006,58.139499999999998,44.186,69.767399999999995,27.907,69.767399999999995,76.744200000000006,58.139499999999998,76.744200000000006,93.023300000000006,34.883699999999997,76.744200000000006,58.139499999999998,69.767399999999995,58.139499999999998,62.790700000000001,41.860500000000002,86.046499999999995,76.744200000000006,53.488399999999999,41.860500000000002,50,60.4651,58.139499999999998,60.4651,50,41.860500000000002,76.744200000000006,60.4651,68.181799999999996,34.090899999999998,40.909100000000002,61.363599999999998,88.372100000000003,58.139499999999998,100,34.090899999999998,60.4651,72.093000000000004,30.232600000000001,0,56.818199999999997,44.186,0,18.181799999999999,36.363599999999998,27.2727,13.9535,0,0,11.3636,18.181799999999999,13.6364,29.545500000000001,22.7273,62.790700000000001,2.2726999999999999,0,0,27.907,50,18.604700000000001,40.909100000000002,41.860500000000002,37.209299999999999,0,31.818200000000001,31.818200000000001,60.4651,34.883699999999997,13.6364,36.363599999999998,45.454500000000003,34.883699999999997,36.363599999999998,40.909100000000002,41.860500000000002,41.860500000000002,22.7273,22.7273,36.363599999999998,100,77.2727,59.090899999999998,18.181799999999999,75,27.2727,69.767399999999995,0,65.909099999999995,86.046499999999995,56.818199999999997,25.581399999999999,45.454500000000003,52.2727,43.181800000000003,69.767399999999995,76.744200000000006,34.883699999999997,34.883699999999997,41.860500000000002,61.363599999999998,69.767399999999995,27.907,31.818200000000001,0,58.139499999999998,36.363599999999998,27.907,22.7273,51.162799999999997,59.090899999999998,6.8182,22.7273,34.883699999999997],"mode":"lines","line":{"color":"#a6051a","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="red-bull" class="level3">
<h3 class="anchored" data-anchor-id="red-bull">Red Bull</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>redbull_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    race_ts_data<span class="sc">$</span><span class="st">`</span><span class="at">Red Bull</span><span class="st">`</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">frequency =</span> frecuencia, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">start =</span> <span class="fu">c</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%Y"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(<span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%j"</span>))</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">ts_plot</span>(</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    redbull_ts,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rendimiento de Red Bull desde el 2013-Presente"</span>,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">"Porcentajes de puntos ganados"</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Año"</span>,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#223971"</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-08641154e9c1d7e5581b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-08641154e9c1d7e5581b">{"x":{"visdat":{"6e701777106a":["function () ","plotlyVisDat"]},"cur_data":"6e701777106a","attrs":{"6e701777106a":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#223971"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"xaxis":{"domain":[0,1],"automargin":true,"title":"Año","showgrid":false,"gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showgrid":false,"gridcolor":"#111","showline":false,"showticklabels":false},"title":"Rendimiento de Red Bull desde el 2013-Presente","paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.2800000000002,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.0400000000002,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72,2022.76,2022.8000000000002,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0800000000002,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5600000000002,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[37.209299999999999,4.6512000000000002,100,27.907,93.023300000000006,100,34.883699999999997,51.162799999999997,58.139499999999998,72.093000000000004,53.488399999999999,93.023300000000006,41.860500000000002,46.511600000000001,76.744200000000006,100,0,100,67.441900000000004,81.395300000000006,86.046499999999995,76.744200000000006,100,86.046499999999995,86.046499999999995,76.744200000000006,93.023300000000006,76.744200000000006,62.790700000000001,65.116299999999995,100,58.139499999999998,93.023300000000006,62.790700000000001,93.023300000000006,86.046499999999995,27.907,100,69.767399999999995,27.907,51.162799999999997,86.046499999999995,18.604700000000001,86.046499999999995,41.860500000000002,27.907,93.023300000000006,32.558100000000003,37.209299999999999,60.4651,0,58.139499999999998,62.790700000000001,100,93.023300000000006,34.883699999999997,41.860500000000002,46.511600000000001,53.488399999999999,100,27.907,72.093000000000004,51.162799999999997,76.744200000000006,86.046499999999995,41.860500000000002,72.093000000000004,62.790700000000001,81.395300000000006,93.023300000000006,58.139499999999998,58.139499999999998,100,58.139499999999998,100,93.023300000000006,100,0,34.883699999999997,46.511600000000001,51.162799999999997,62.790700000000001,34.883699999999997,93.023300000000006,9.3023000000000007,58.139499999999998,46.511600000000001,72.093000000000004,81.395300000000006,41.860500000000002,76.744200000000006,62.790700000000001,23.255800000000001,48.837200000000003,23.255800000000001,37.209299999999999,18.604700000000001,6.9767000000000001,4.6512000000000002,23.255800000000001,16.2791,51.162799999999997,4.6512000000000002,2.3256000000000001,18.604700000000001,76.744200000000006,27.907,11.6279,60.4651,0,23.255800000000001,2.3256000000000001,51.162799999999997,13.9535,20.930199999999999,27.907,41.860500000000002,62.790700000000001,0,86.046499999999995,41.860500000000002,41.860500000000002,23.255800000000001,65.116299999999995,69.767399999999995,58.139499999999998,76.744200000000006,41.860500000000002,37.209299999999999,60.4651,100,60.4651,34.883699999999997,62.790700000000001,44.186,51.162799999999997,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,34.883699999999997,58.139499999999998,34.883699999999997,58.139499999999998,34.883699999999997,51.162799999999997,23.255800000000001,34.883699999999997,30.232600000000001,41.860500000000002,93.023300000000006,76.744200000000006,27.907,58.139499999999998,41.860500000000002,23.255800000000001,46.511600000000001,0,81.395300000000006,0,58.139499999999998,62.790700000000001,62.790700000000001,69.767399999999995,58.139499999999998,23.255800000000001,27.907,27.907,34.883699999999997,23.255800000000001,60.4651,41.860500000000002,62.790700000000001,41.860500000000002,58.139499999999998,69.767399999999995,62.790700000000001,34.090899999999998,37.209299999999999,48.837200000000003,27.907,52.2727,53.488399999999999,32.558100000000003,30.232600000000001,72.7273,50,59.090899999999998,61.363599999999998,23.255800000000001,27.907,53.488399999999999,50,27.907,41.860500000000002,58.139499999999998,58.139499999999998,59.090899999999998,0,62.790700000000001,63.636400000000002,52.2727,79.545500000000004,51.162799999999997,53.488399999999999,0,34.090899999999998,43.181800000000003,43.181800000000003,34.090899999999998,0,32.558100000000003,77.2727,18.604700000000001,86.046499999999995,65.116299999999995,56.818199999999997,69.767399999999995,65.909099999999995,86.046499999999995,58.139499999999998,93.181799999999996,84.090900000000005,77.2727,0,4.6512000000000002,59.090899999999998,65.909099999999995,22.7273,46.511600000000001,75,90.909099999999995,93.023300000000006,72.093000000000004,70.454499999999996,40.909100000000002,59.090899999999998,0,84.090900000000005,40.909100000000002,100,86.363600000000005,100,93.023300000000006,100,56.818199999999997,55.814,43.181800000000003,86.046499999999995,79.545500000000004,100,81.818200000000004,79.069800000000001,72.093000000000004,100,86.046499999999995,93.023300000000006,31.818200000000001,93.023300000000006,100,100,83.7209,100,100,58.139499999999998,86.363600000000005,79.069800000000001,93.181799999999996,77.2727,93.181799999999996,100],"mode":"lines","line":{"color":"#223971","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="mercedes" class="level3">
<h3 class="anchored" data-anchor-id="mercedes">Mercedes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mercedes_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    race_ts_data<span class="sc">$</span>Mercedes, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">frequency =</span> frecuencia, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">start =</span> <span class="fu">c</span>(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%Y"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(<span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%j"</span>))</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">ts_plot</span>(</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    mercedes_ts,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rendimiento de Mercedes desde el 2013-Presente"</span>,</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">"Porcentajes de puntos ganados"</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Año"</span>,</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#00a19c"</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-628a20be1b97f292bd76" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-628a20be1b97f292bd76">{"x":{"visdat":{"6e702e3f1083":["function () ","plotlyVisDat"]},"cur_data":"6e702e3f1083","attrs":{"6e702e3f1083":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00a19c"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"xaxis":{"domain":[0,1],"automargin":true,"title":"Año","showgrid":false,"gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showgrid":false,"gridcolor":"#111","showline":false,"showticklabels":false},"title":"Rendimiento de Mercedes desde el 2013-Presente","paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.2800000000002,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.0400000000002,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72,2022.76,2022.8000000000002,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0800000000002,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5600000000002,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[41.860500000000002,25.581399999999999,34.883699999999997,37.209299999999999,27.907,13.9535,51.162799999999997,18.604700000000001,2.3256000000000001,39.5349,13.9535,0,32.558100000000003,27.907,23.255800000000001,18.604700000000001,27.907,32.558100000000003,27.907,0,4.6512000000000002,32.558100000000003,23.255800000000001,32.558100000000003,0,27.907,13.9535,23.255800000000001,23.255800000000001,4.6512000000000002,41.860500000000002,23.255800000000001,13.9535,20.930199999999999,9.3023000000000007,41.860500000000002,32.558100000000003,13.9535,0,2.3256000000000001,58.139499999999998,25.581399999999999,13.9535,41.860500000000002,18.604700000000001,53.488399999999999,13.9535,16.2791,2.3256000000000001,13.9535,32.558100000000003,23.255800000000001,0,0,0,0,0,13.9535,23.255800000000001,62.790700000000001,34.883699999999997,27.907,18.604700000000001,86.046499999999995,58.139499999999998,86.046499999999995,27.907,58.139499999999998,62.790700000000001,23.255800000000001,51.162799999999997,37.209299999999999,9.3023000000000007,60.4651,48.837200000000003,32.558100000000003,27.907,58.139499999999998,100,100,100,100,100,41.860500000000002,100,58.139499999999998,93.023300000000006,62.790700000000001,41.860500000000002,100,58.139499999999998,100,100,100,100,58.139499999999998,100,76.744200000000006,100,93.023300000000006,100,93.023300000000006,100,100,100,27.907,100,58.139499999999998,27.907,100,58.139499999999998,100,100,100,100,100,93.023300000000006,72.093000000000004,100,0,72.093000000000004,81.395300000000006,81.395300000000006,86.046499999999995,93.023300000000006,100,86.046499999999995,93.023300000000006,100,93.023300000000006,34.883699999999997,93.023300000000006,100,100,100,100,76.744200000000006,76.744200000000006,76.744200000000006,86.046499999999995,58.139499999999998,41.860500000000002,100,65.116299999999995,86.046499999999995,100,62.790700000000001,81.395300000000006,100,93.023300000000006,65.116299999999995,86.046499999999995,81.395300000000006,46.511600000000001,69.767399999999995,100,51.162799999999997,76.744200000000006,69.767399999999995,58.139499999999998,100,58.139499999999998,65.116299999999995,72.093000000000004,0,69.767399999999995,100,81.395300000000006,69.767399999999995,93.023300000000006,86.046499999999995,100,100,58.139499999999998,51.162799999999997,81.395300000000006,81.395300000000006,100,100,100,100,100,93.023300000000006,88.372100000000003,100,56.818199999999997,100,4.5454999999999997,65.909099999999995,76.744200000000006,79.069800000000001,51.162799999999997,100,95.348799999999997,93.023300000000006,100,13.9535,86.363600000000005,86.046499999999995,100,93.181799999999996,56.818199999999997,77.2727,95.348799999999997,100,39.5349,100,93.181799999999996,56.818199999999997,100,100,58.139499999999998,65.909099999999995,16.2791,76.744200000000006,95.348799999999997,43.181800000000003,95.348799999999997,90.909099999999995,16.2791,0,68.181799999999996,77.2727,68.181799999999996,93.023300000000006,41.860500000000002,36.363599999999998,77.2727,34.090899999999998,81.395300000000006,81.818200000000004,61.363599999999998,41.860500000000002,93.023300000000006,56.818199999999997,93.181799999999996,59.090899999999998,61.363599999999998,25,61.363599999999998,27.2727,40.909100000000002,56.818199999999997,32.558100000000003,61.363599999999998,61.363599999999998,37.209299999999999,61.363599999999998,76.744200000000006,77.2727,27.2727,68.181799999999996,58.139499999999998,4.6512000000000002,32.558100000000003,67.441900000000004,72.093000000000004,100,23.255800000000001,37.209299999999999,50,41.860500000000002,30.232600000000001,45.454500000000003,53.488399999999999,75,34.883699999999997,22.7273,56.818199999999997,45.454500000000003,48.837200000000003],"mode":"lines","line":{"color":"#00a19c","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="williams" class="level3">
<h3 class="anchored" data-anchor-id="williams">Williams</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>williams_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    race_ts_data<span class="sc">$</span>Williams, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">frequency =</span> frecuencia, </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">start =</span> <span class="fu">c</span>(</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%Y"</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(<span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%j"</span>))</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">ts_plot</span>(</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    williams_ts,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rendimiento de Williams desde el 2013-Presente"</span>,</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">"Porcentajes de puntos ganados"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Año"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#00a3e0"</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-97a85fc463a79399d215" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-97a85fc463a79399d215">{"x":{"visdat":{"6e709ab1ab4":["function () ","plotlyVisDat"]},"cur_data":"6e709ab1ab4","attrs":{"6e709ab1ab4":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00a3e0"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"xaxis":{"domain":[0,1],"automargin":true,"title":"Año","showgrid":false,"gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showgrid":false,"gridcolor":"#111","showline":false,"showticklabels":false},"title":"Rendimiento de Williams desde el 2013-Presente","paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.2800000000002,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.0400000000002,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72,2022.76,2022.8000000000002,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0800000000002,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5600000000002,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[2.3256000000000001,9.3023000000000007,2.3256000000000001,0,4.6512000000000002,0,0,0,27.907,25.581399999999999,0,20.930199999999999,0,16.2791,20.930199999999999,4.6512000000000002,16.2791,9.3023000000000007,0,0,0,0,0,0,4.6512000000000002,4.6512000000000002,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,0,18.604700000000001,23.255800000000001,0,58.139499999999998,2.3256000000000001,0,2.3256000000000001,4.6512000000000002,0,13.9535,0,2.3256000000000001,0,9.3023000000000007,0,2.3256000000000001,32.558100000000003,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,9.3023000000000007,0,23.255800000000001,23.255800000000001,23.255800000000001,13.9535,23.255800000000001,13.9535,13.9535,62.790700000000001,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,62.790700000000001,23.255800000000001,32.558100000000003,34.883699999999997,51.162799999999997,37.209299999999999,76.744200000000006,27.907,41.860500000000002,41.860500000000002,30.232600000000001,46.511600000000001,0,53.488399999999999,58.139499999999998,51.162799999999997,0,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,27.907,0,53.488399999999999,23.255800000000001,9.3023000000000007,32.558100000000003,13.9535,20.930199999999999,51.162799999999997,32.558100000000003,2.3256000000000001,34.883699999999997,20.930199999999999,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,11.6279,23.255800000000001,0,23.255800000000001,6.9767000000000001,13.9535,13.9535,0,4.6512000000000002,18.604700000000001,0,18.604700000000001,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,34.883699999999997,6.9767000000000001,2.3256000000000001,0,9.3023000000000007,23.255800000000001,9.3023000000000007,13.9535,2.3256000000000001,4.6512000000000002,18.604700000000001,13.9535,2.3256000000000001,0,0,0,9.3023000000000007,0,0,0,0,0,0,0,0,0,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23.255800000000001,45.454500000000003,0,4.5454999999999997,2.3256000000000001,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,4.5454999999999997,0,0,0,0,0,0,0,0,2.2726999999999999,0,4.6512000000000002,0,4.6512000000000002,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,13.9535,0,9.0908999999999995,0,0],"mode":"lines","line":{"color":"#00a3e0","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="mclaren" class="level3">
<h3 class="anchored" data-anchor-id="mclaren">McLaren</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mclaren_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    race_ts_data<span class="sc">$</span>McLaren, </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">frequency =</span> frecuencia, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">start =</span> <span class="fu">c</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%Y"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as.integer</span>(<span class="fu">format</span>(<span class="fu">min</span>(race_ts_data<span class="sc">$</span>race_date), <span class="st">"%j"</span>))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">ts_plot</span>(</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    mclaren_ts,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Rendimiento de McLaren desde el 2013-Presente"</span>,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">"Porcentajes de puntos ganados"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Año"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#ff8000"</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b54aa11a59bb041c7ec6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b54aa11a59bb041c7ec6">{"x":{"visdat":{"6e7032f224e8":["function () ","plotlyVisDat"]},"cur_data":"6e7032f224e8","attrs":{"6e7032f224e8":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#ff8000"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"xaxis":{"domain":[0,1],"automargin":true,"title":"Año","showgrid":false,"gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showgrid":false,"gridcolor":"#111","showline":false,"showticklabels":false},"title":"Rendimiento de McLaren desde el 2013-Presente","paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.2800000000002,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.0400000000002,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72,2022.76,2022.8000000000002,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0800000000002,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5600000000002,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[48.837200000000003,76.744200000000006,27.907,100,23.255800000000001,23.255800000000001,100,100,76.744200000000006,69.767399999999995,51.162799999999997,9.3023000000000007,58.139499999999998,41.860500000000002,27.907,51.162799999999997,41.860500000000002,51.162799999999997,76.744200000000006,60.4651,51.162799999999997,86.046499999999995,46.511600000000001,76.744200000000006,53.488399999999999,58.139499999999998,46.511600000000001,27.907,58.139499999999998,86.046499999999995,34.883699999999997,69.767399999999995,65.116299999999995,81.395300000000006,69.767399999999995,55.814,93.023300000000006,34.883699999999997,93.023300000000006,34.883699999999997,76.744200000000006,9.3023000000000007,13.9535,23.255800000000001,58.139499999999998,9.3023000000000007,11.6279,41.860500000000002,76.744200000000006,58.139499999999998,58.139499999999998,41.860500000000002,51.162799999999997,2.3256000000000001,51.162799999999997,27.907,81.395300000000006,58.139499999999998,4.6512000000000002,4.6512000000000002,23.255800000000001,20.930199999999999,13.9535,18.604700000000001,0,0,27.907,18.604700000000001,18.604700000000001,2.3256000000000001,23.255800000000001,11.6279,4.6512000000000002,23.255800000000001,4.6512000000000002,16.2791,46.511600000000001,76.744200000000006,23.255800000000001,0,0,0,20.930199999999999,32.558100000000003,13.9535,41.860500000000002,13.9535,2.3256000000000001,18.604700000000001,11.6279,2.3256000000000001,23.255800000000001,51.162799999999997,9.3023000000000007,32.558100000000003,23.255800000000001,0,0,0,0,0,9.3023000000000007,0,0,2.3256000000000001,27.907,0,0,0,0,4.6512000000000002,18.604700000000001,0,0,0,0,2.3256000000000001,0,20.930199999999999,4.6512000000000002,27.907,0,0,18.604700000000001,0,13.9535,9.3023000000000007,13.9535,0,13.9535,18.604700000000001,0,27.907,0,2.3256000000000001,2.3256000000000001,0,0,0,0,0,0,0,4.6512000000000002,0,0,20.930199999999999,0,0,13.9535,13.9535,0,0,2.3256000000000001,9.3023000000000007,4.6512000000000002,27.907,23.255800000000001,13.9535,18.604700000000001,9.3023000000000007,0,0,0,9.3023000000000007,9.3023000000000007,0,9.3023000000000007,0,0,13.9535,0,0,0,9.3023000000000007,0,0,0,18.604700000000001,0,23.255800000000001,9.0908999999999995,18.604700000000001,0,23.255800000000001,27.2727,18.181799999999999,22.7273,27.2727,0,2.3256000000000001,13.9535,27.2727,23.255800000000001,0,23.255800000000001,44.186,11.3636,60.4651,30.232600000000001,4.5454999999999997,22.7273,4.5454999999999997,20.930199999999999,13.9535,69.767399999999995,18.181799999999999,0,22.7273,18.181799999999999,22.7273,34.883699999999997,50,30.232600000000001,41.860500000000002,41.860500000000002,52.2727,27.907,27.2727,34.883699999999997,27.907,40.909100000000002,22.7273,47.7273,51.162799999999997,0,27.2727,2.2726999999999999,100,44.186,13.6364,31.818200000000001,2.3256000000000001,2.3256000000000001,4.5454999999999997,25,13.6364,0,13.6364,40.909100000000002,34.090899999999998,0,9.0908999999999995,20.930199999999999,13.6364,0,18.604700000000001,18.181799999999999,18.604700000000001,13.6364,0,13.6364,13.9535,51.162799999999997,2.3256000000000001,18.604700000000001,18.604700000000001,0,25.581399999999999,0,0,27.907,4.6512000000000002,0,6.9767000000000001,0,0,27.2727,68.181799999999996,63.636400000000002,13.9535],"mode":"lines","line":{"color":"#ff8000","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="divisón-de-datos-para-entrenamiento-del-modelo" class="level2">
<h2 class="anchored" data-anchor-id="divisón-de-datos-para-entrenamiento-del-modelo">Divisón de datos para entrenamiento del modelo</h2>
<p>Ahora procederemos a definir nuestro conjunto de datos para entrenar el modelo. Donde, como mencionamos anteriormente, tomaremos como horizonte 25 premios.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ferrari_split <span class="ot">&lt;-</span> <span class="fu">ts_split</span>(ferrari_ts, <span class="at">sample.out =</span> <span class="dv">25</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>redbull_split <span class="ot">&lt;-</span> <span class="fu">ts_split</span>(redbull_ts, <span class="at">sample.out =</span> <span class="dv">25</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>williams_split <span class="ot">&lt;-</span> <span class="fu">ts_split</span>(williams_ts, <span class="at">sample.out =</span> <span class="dv">25</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>mclaren_split <span class="ot">&lt;-</span> <span class="fu">ts_split</span>(mclaren_ts, <span class="at">sample.out =</span> <span class="dv">25</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>mercedes_split <span class="ot">&lt;-</span> <span class="fu">ts_split</span>(mercedes_ts, <span class="at">sample.out =</span> <span class="dv">25</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>ferrari_train <span class="ot">&lt;-</span> ferrari_split<span class="sc">$</span>train</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>ferrari_test <span class="ot">&lt;-</span> ferrari_split<span class="sc">$</span>test</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>redbull_train <span class="ot">&lt;-</span> redbull_split<span class="sc">$</span>train</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>redbull_test <span class="ot">&lt;-</span> redbull_split<span class="sc">$</span>test</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>williams_train <span class="ot">&lt;-</span> williams_split<span class="sc">$</span>train</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>williams_test <span class="ot">&lt;-</span> williams_split<span class="sc">$</span>test</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>mclaren_train <span class="ot">&lt;-</span> mclaren_split<span class="sc">$</span>train</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>mclaren_test <span class="ot">&lt;-</span> mclaren_split<span class="sc">$</span>test</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>mercedes_train <span class="ot">&lt;-</span> mercedes_split<span class="sc">$</span>train</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>mercedes_test <span class="ot">&lt;-</span> mercedes_split<span class="sc">$</span>test</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="criterios-aic-bic-y-hqic" class="level2">
<h2 class="anchored" data-anchor-id="criterios-aic-bic-y-hqic">Criterios AIC, BIC y HQIC</h2>
<p>Los criterios de información de Akaike (<code>AIC</code>), Bayesiano (<code>BIC</code>) y de Hannan-Quinn (<code>HQIC</code>) utilizan el método de estimación de máxima verosimilitud (<code>log-verosimilitud</code>) de los modelos como medida de ajuste. Estas medidas buscan valores bajos para indicar un mejor ajuste del modelo a los datos, empleando las siguientes fórmulas:</p>
<p><span class="math display">\[
\begin{align*}
    \text{AIC} &amp;= 2k - 2 \ln(L) \\
    \text{BIC} &amp;= k \ln(n) - 2 \ln(L) \\
    \text{HQIC} &amp;= 2k \ln(\ln(n)) - 2 \ln(L).
\end{align*}
\]</span></p>
<p>donde <span class="math inline">\(k\)</span> representa el <code>número de parámetros</code> en el modelo estadístico, <span class="math inline">\(L\)</span> el valor de la función de máxima verosimilitud del modelo estimado, y <span class="math inline">\(n\)</span> el tamaño de la muestra.</p>
<p>Es importante destacar que, aunque aumentar el <code>número de parámetros</code> puede aumentar el valor de la verosimilitud, esto puede conducir a problemas de <strong>sobreajuste</strong> en el modelo. Para abordar este problema, los criterios mencionados anteriormente introducen un <code>término de penalización</code> basado en el número de parámetros. El término de penalización es mayor en el <code>BIC</code> que en el <code>AIC</code> para muestras superiores a 7. Por su parte, el <code>HQIC</code> busca equilibrar esta penalización, situándose entre el <code>AIC</code> y el <code>BIC</code>. La elección del criterio a utilizar dependerá del objetivo principal de la investigación.</p>
<p>En nuestra investigación, consideraremos el criterio de <strong>Akaike</strong> para identificar el mejor modelo. Comencemos creando una función que tome un dataframe de entrenamiento y devuelva el mejor conjunto de órdenes <span class="math inline">\(p, d, q\)</span> y <span class="math inline">\(P, D, Q\)</span> asociados al criterio AIC de bondad de ajuste, junto con el valor de AIC del mejor modelo encontrado para cada uno de los equipos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>best_ARIMA <span class="ot">&lt;-</span> <span class="cf">function</span>(ts_in, p_n, d_n, q_n) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    best_aic <span class="ot">&lt;-</span> <span class="cn">Inf</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    best_pdq <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    best_PDQ <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    fit <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(p <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>p_n) {</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span>(d <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>d_n) {</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> (q <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>q_n) {</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span>(P <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>p_n) {</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">for</span>(D <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>d_n) {</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>                        <span class="cf">for</span> (Q <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>q_n) {</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">tryCatch</span>({</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>                                fit <span class="ot">&lt;-</span> <span class="fu">arima</span>(</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">scale</span>(ts_in), </span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">order=</span><span class="fu">c</span>(p, d, q), </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">seasonal =</span> <span class="fu">list</span>(<span class="at">order =</span> <span class="fu">c</span>(P, D, Q), <span class="at">period =</span> <span class="dv">25</span>),</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">xreg=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(ts_in), </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">method=</span><span class="st">"CSS-ML"</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>                                )</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>                                tmp_aic <span class="ot">&lt;-</span> <span class="fu">AIC</span>(fit)</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>                                <span class="cf">if</span> (tmp_aic <span class="sc">&lt;</span> best_aic) {</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>                                    best_aic <span class="ot">&lt;-</span> tmp_aic</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>                                    best_pdq <span class="ot">=</span> <span class="fu">c</span>(p, d, q)</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>                                    best_PDQ <span class="ot">=</span> <span class="fu">c</span>(P, D, Q)</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>                                }</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>                            }, <span class="at">error=</span><span class="cf">function</span>(e){})</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>                        }</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>                    }</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"best_aic"</span> <span class="ot">=</span> best_aic, <span class="st">"best_pdq"</span> <span class="ot">=</span> best_pdq, <span class="st">"best_PDQ"</span> <span class="ot">=</span> best_PDQ))</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Procedemos a obtener los modelos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">file.exists</span>(<span class="st">"models/ferrari_best_arima.rda"</span>)) {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    ferrari_best_model <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">"models/ferrari_best_arima.rda"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    ferrari_best_model <span class="ot">=</span> <span class="fu">best_ARIMA</span>(ferrari_train, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">saveRDS</span>(best_model, <span class="at">file =</span> <span class="st">"models/ferrari_best_arima.rda"</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">file.exists</span>(<span class="st">"models/redbull_best_arima.rda"</span>)) {</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    redbull_best_model <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">"models/redbull_best_arima.rda"</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    redbull_best_model <span class="ot">=</span> <span class="fu">best_ARIMA</span>(redbull_train, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">saveRDS</span>(best_model, <span class="at">file =</span> <span class="st">"models/redbull_best_arima.rda"</span>)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">file.exists</span>(<span class="st">"models/williams_best_arima.rda"</span>)) {</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    williams_best_model <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">"models/williams_best_arima.rda"</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    williams_best_model <span class="ot">=</span> <span class="fu">best_ARIMA</span>(williams_train, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">saveRDS</span>(best_model, <span class="at">file =</span> <span class="st">"models/williams_best_arima.rda"</span>)</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">file.exists</span>(<span class="st">"models/mclaren_best_arima.rda"</span>)) {</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    mclaren_best_model <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">"models/mclaren_best_arima.rda"</span>)</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    mclaren_best_model <span class="ot">=</span> <span class="fu">best_ARIMA</span>(mclaren_train, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">saveRDS</span>(best_model, <span class="at">file =</span> <span class="st">"models/mclaren_best_arima.rda"</span>)</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">file.exists</span>(<span class="st">"models/mercedes_best_arima.rda"</span>)) {</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>    mercedes_best_model <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">"models/mercedes_best_arima.rda"</span>)</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>    mercedes_best_model <span class="ot">=</span> <span class="fu">best_ARIMA</span>(mercedes_train, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">saveRDS</span>(best_model, <span class="at">file =</span> <span class="st">"models/mercedes_best_arima.rda"</span>)</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Best Ferrari model: SARIMA(2,1,3) (1,1,1) | Best AIC: 676.741028823375
Best Red Bull model: SARIMA(2,1,1) (1,1,2) | Best AIC: 658.138691622105
Best Mercedes model: SARIMA(2,1,3) (1,1,2) | Best AIC: 534.574235117408
Best Williams model: SARIMA(3,1,3) (1,1,1) | Best AIC: 535.393333012716
Best McLaren model: SARIMA(3,1,3) (1,1,1) | Best AIC: 578.999389008676</code></pre>
</div>
</div>
</section>
</section>
<section id="modelos-ajustados" class="level1">
<h1>Modelos ajustados</h1>
<p>Luego de identificar los mejores ordenes para el modelo <code>SARIMA</code>, podemos pasar a identificar el mejor modelo ajustado teniendo en cuenta estos parámetros. Definamos una función para realizar hallar este modelo para cada uno de los equipos de interés.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>fitted_model <span class="ot">&lt;-</span> <span class="cf">function</span>(file, train, order_pdq, order_PDQ){</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    fit_model <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">file.exists</span>(file)) {</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        fit_model <span class="ot">=</span> <span class="fu">readRDS</span>(file)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        fit_model <span class="ot">&lt;-</span> <span class="fu">arima</span>(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>            train, </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">order =</span> order_pdq, </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">seasonal =</span> <span class="fu">list</span>(<span class="at">order =</span> order_PDQ)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        )    </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">saveRDS</span>(fit_model, <span class="at">file =</span> file)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(fit_model)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="ferrari-1" class="level2">
<h2 class="anchored" data-anchor-id="ferrari-1">Ferrari</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>ferrari_fit_model <span class="ot">&lt;-</span> <span class="fu">fitted_model</span>(<span class="st">'models/ferrari_model.rda'</span>, ferrari_train, ferrari_best_model<span class="sc">$</span>best_pdq, ferrari_best_model<span class="sc">$</span>best_PDQ)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(ferrari_fit_model)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="timeseries_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(2,1,3)(1,1,1)[25]
Q* = 27.147, df = 42, p-value = 0.9632

Model df: 7.   Total lags used: 49</code></pre>
</div>
</div>
<section id="forecasting-sin-rolling" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-sin-rolling">Forecasting sin rolling</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>ferrari_pred_25 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(ferrari_fit_model, <span class="at">h =</span> <span class="dv">25</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>ferrari_pred_25</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Point Forecast     Lo 80     Hi 80        Lo 95     Hi 95
2022.72       64.89216 36.114274  93.67005  20.88018134 108.90414
2022.76       67.48479 38.262048  96.70754  22.79246178 112.17712
2022.80       53.65407 24.024977  83.28317   8.34028008  98.96787
2022.84       49.80833 19.818323  79.79834   3.94257104  95.67409
2022.88       44.74469 14.514650  74.97472  -1.48816453  90.97754
2022.92       47.83882 17.298642  78.37900   1.13164716  94.54600
2022.96       49.14583 18.281043  80.01062   1.94221035  96.34945
2023.00       53.90034 22.678677  85.12201   6.15092535 101.64976
2023.04       60.23923 28.626499  91.85197  11.89172818 108.58674
2023.08       57.61234 25.590611  89.63406   8.63933396 106.58534
2023.12       54.51237 22.090746  86.93399   4.92777573 104.09696
2023.16       49.60666 16.817809  82.39551  -0.53955978  99.75288
2023.20       50.68929 17.574455  83.80413   0.04451918 101.33406
2023.24       39.47190  6.063613  72.88019 -11.62166826  90.56548
2023.28       50.37498 16.685517  84.06444  -1.14860546 101.89856
2023.32       53.57825 19.596778  87.55972   1.60807396 105.54843
2023.36       56.36384 22.062218  90.66547   3.90403566 108.82365
2023.40       58.63530 23.981531  93.28906   5.63693588 111.63366
2023.44       66.17163 31.146404 101.19686  12.60516804 119.73810
2023.48       54.61252 19.220226  90.00481   0.48467719 108.74036
2023.52       62.75652 27.023972  98.48906   8.10830618 117.40473
2023.56       44.69876  8.662669  80.73485 -10.41368503  99.81120
2023.60       41.04906  4.740166  77.35795 -14.48060191  96.57872
2023.64       55.15901 18.590676  91.72735  -0.76743125 111.08545
2023.68       43.04838  6.212865  79.88389 -13.28667728  99.38343</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_forecast</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    ferrari_pred_25,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Pronóstico últimas 25 carreras Ferrari"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">""</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Year"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#a6051a"</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-88cf12cec0a51ee675d2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-88cf12cec0a51ee675d2">{"x":{"visdat":{"6e70153f15a5":["function () ","plotlyVisDat"]},"cur_data":"6e70153f15a5","attrs":{"6e70153f15a5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[100,62.790700000000001,13.9535,32.558100000000003,60.4651,46.511600000000001,23.255800000000001,34.883699999999997,9.3023000000000007,0,100,69.767399999999995,27.907,93.023300000000006,67.441900000000004,34.883699999999997,93.023300000000006,34.883699999999997,16.2791,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,23.255800000000001,41.860500000000002,18.604700000000001,65.116299999999995,81.395300000000006,65.116299999999995,53.488399999999999,37.209299999999999,53.488399999999999,32.558100000000003,55.814,41.860500000000002,34.883699999999997,65.116299999999995,51.162799999999997,23.255800000000001,58.139499999999998,4.6512000000000002,18.604700000000001,41.860500000000002,53.488399999999999,25.581399999999999,58.139499999999998,69.767399999999995,58.139499999999998,27.907,23.255800000000001,62.790700000000001,44.186,41.860500000000002,62.790700000000001,60.4651,55.814,62.790700000000001,76.744200000000006,69.767399999999995,23.255800000000001,76.744200000000006,9.3023000000000007,93.023300000000006,13.9535,51.162799999999997,53.488399999999999,27.907,32.558100000000003,55.814,69.767399999999995,60.4651,23.255800000000001,30.232600000000001,27.907,32.558100000000003,23.255800000000001,48.837200000000003,41.860500000000002,27.907,6.9767000000000001,44.186,32.558100000000003,27.907,20.930199999999999,25.581399999999999,18.604700000000001,23.255800000000001,60.4651,41.860500000000002,4.6512000000000002,37.209299999999999,0,23.255800000000001,18.604700000000001,32.558100000000003,6.9767000000000001,34.883699999999997,86.046499999999995,62.790700000000001,65.116299999999995,58.139499999999998,60.4651,51.162799999999997,27.907,44.186,58.139499999999998,13.9535,65.116299999999995,93.023300000000006,62.790700000000001,51.162799999999997,34.883699999999997,0,62.790700000000001,62.790700000000001,34.883699999999997,41.860500000000002,65.116299999999995,34.883699999999997,76.744200000000006,27.907,60.4651,69.767399999999995,34.883699999999997,27.907,46.511600000000001,41.860500000000002,23.255800000000001,62.790700000000001,51.162799999999997,27.907,51.162799999999997,27.907,41.860500000000002,23.255800000000001,53.488399999999999,86.046499999999995,65.116299999999995,86.046499999999995,76.744200000000006,41.860500000000002,100,41.860500000000002,27.907,65.116299999999995,48.837200000000003,100,69.767399999999995,58.139499999999998,0,27.907,23.255800000000001,76.744200000000006,62.790700000000001,93.023300000000006,62.790700000000001,93.023300000000006,58.139499999999998,44.186,69.767399999999995,27.907,69.767399999999995,76.744200000000006,58.139499999999998,76.744200000000006,93.023300000000006,34.883699999999997,76.744200000000006,58.139499999999998,69.767399999999995,58.139499999999998,62.790700000000001,41.860500000000002,86.046499999999995,76.744200000000006,53.488399999999999,41.860500000000002,50,60.4651,58.139499999999998,60.4651,50,41.860500000000002,76.744200000000006,60.4651,68.181799999999996,34.090899999999998,40.909100000000002,61.363599999999998,88.372100000000003,58.139499999999998,100,34.090899999999998,60.4651,72.093000000000004,30.232600000000001,0,56.818199999999997,44.186,0,18.181799999999999,36.363599999999998,27.2727,13.9535,0,0,11.3636,18.181799999999999,13.6364,29.545500000000001,22.7273,62.790700000000001,2.2726999999999999,0,0,27.907,50,18.604700000000001,40.909100000000002,41.860500000000002,37.209299999999999,0,31.818200000000001,31.818200000000001,60.4651,34.883699999999997,13.6364,36.363599999999998,45.454500000000003,34.883699999999997,36.363599999999998,40.909100000000002,41.860500000000002,41.860500000000002,22.7273,22.7273,36.363599999999998,100,77.2727,59.090899999999998,18.181799999999999,75,27.2727,69.767399999999995,0,65.909099999999995],"type":"scatter","mode":"lines","name":"Observed","line":{"width":2,"color":"#a6051a"},"inherit":true},"6e70153f15a5.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[36.114273961552058,38.262048168024762,24.024976905671863,19.818323167476059,14.514649818675938,17.298642168090904,18.281042676141592,22.678676784735426,28.626499146964345,25.590610984459268,22.090745574492409,16.81780858138422,17.574454582392164,6.0636127651439864,16.685517213167969,19.596778468195858,22.062218421229325,23.98153143525866,31.146403904389068,19.220226125138993,27.023972351707449,8.6626687814115755,4.7401655564910143,18.590675928264943,6.2128648623864038],"ymax":[93.670045938206087,96.707536761495476,83.283172091714462,79.798342462508629,74.974721631324385,78.379003258211512,80.010620628918304,85.122008106887321,91.851968869677819,89.634060066696748,86.933989185700597,82.395507257389568,83.80412704879771,72.880194980703806,84.06443654531347,87.559721887207303,90.665465936440143,93.289063241354995,101.19686049387172,90.004814969619915,98.48906029147733,80.734849090426536,77.357953655741795,91.727345794435507,79.883888760382746],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray75"],"name":"80% confidence","inherit":true},"6e70153f15a5.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[20.880181341471037,22.792461784577874,8.3402800810130557,3.9425710419480211,-1.4881645330147535,1.1316471620587691,1.942210346474333,6.1509253499371113,11.89172818264413,8.6393339618177833,4.9277757274315732,-0.53955977859980919,0.044519184077898899,-11.621668260049738,-1.1486054559402987,1.6080739608788619,3.9040356570578254,5.6369358796373206,12.605168036750861,0.4846771871701776,8.1083061832770511,-10.41368503074942,-14.480601914374127,-0.76743125023774894,-13.286677284898396],"ymax":[108.90413855828712,112.17712314494236,98.967868916373277,95.674094588036667,90.977535983015073,94.54599826424365,96.349452958585573,101.64975954168564,108.58673983399804,106.58533708933822,104.09695903276145,99.752875617373604,101.33406244711198,90.565476005897523,101.89855921442174,105.54842639452428,108.82364870061164,111.63365879697633,119.73809636150995,108.74036390758873,117.40472645990772,99.811202902587539,96.578721126606922,111.0854529729382,99.383430907667531],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray85"],"name":"95% confidence","inherit":true},"6e70153f15a5.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[64.892159949879073,67.484792464760119,53.654074498693163,49.80833281499234,44.74468572500016,47.83882271315121,49.145831652529949,53.900342445811376,60.239234008321084,57.612335525578004,54.512367380096507,49.606657919386898,50.689290815594937,39.471903872923896,50.37497687924072,53.578250177701577,56.36384217883473,58.635297338306827,66.1716321991304,54.612520547379454,62.756516321592386,44.698758935919059,41.049059606116401,55.159010861350225,43.048376811384571],"type":"scatter","mode":"lines","name":"Forecasted","line":{"width":2,"color":"#a6051a","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Pronóstico últimas 25 carreras Ferrari","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"showticklabels":false},"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[100,62.790700000000001,13.9535,32.558100000000003,60.4651,46.511600000000001,23.255800000000001,34.883699999999997,9.3023000000000007,0,100,69.767399999999995,27.907,93.023300000000006,67.441900000000004,34.883699999999997,93.023300000000006,34.883699999999997,16.2791,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,23.255800000000001,41.860500000000002,18.604700000000001,65.116299999999995,81.395300000000006,65.116299999999995,53.488399999999999,37.209299999999999,53.488399999999999,32.558100000000003,55.814,41.860500000000002,34.883699999999997,65.116299999999995,51.162799999999997,23.255800000000001,58.139499999999998,4.6512000000000002,18.604700000000001,41.860500000000002,53.488399999999999,25.581399999999999,58.139499999999998,69.767399999999995,58.139499999999998,27.907,23.255800000000001,62.790700000000001,44.186,41.860500000000002,62.790700000000001,60.4651,55.814,62.790700000000001,76.744200000000006,69.767399999999995,23.255800000000001,76.744200000000006,9.3023000000000007,93.023300000000006,13.9535,51.162799999999997,53.488399999999999,27.907,32.558100000000003,55.814,69.767399999999995,60.4651,23.255800000000001,30.232600000000001,27.907,32.558100000000003,23.255800000000001,48.837200000000003,41.860500000000002,27.907,6.9767000000000001,44.186,32.558100000000003,27.907,20.930199999999999,25.581399999999999,18.604700000000001,23.255800000000001,60.4651,41.860500000000002,4.6512000000000002,37.209299999999999,0,23.255800000000001,18.604700000000001,32.558100000000003,6.9767000000000001,34.883699999999997,86.046499999999995,62.790700000000001,65.116299999999995,58.139499999999998,60.4651,51.162799999999997,27.907,44.186,58.139499999999998,13.9535,65.116299999999995,93.023300000000006,62.790700000000001,51.162799999999997,34.883699999999997,0,62.790700000000001,62.790700000000001,34.883699999999997,41.860500000000002,65.116299999999995,34.883699999999997,76.744200000000006,27.907,60.4651,69.767399999999995,34.883699999999997,27.907,46.511600000000001,41.860500000000002,23.255800000000001,62.790700000000001,51.162799999999997,27.907,51.162799999999997,27.907,41.860500000000002,23.255800000000001,53.488399999999999,86.046499999999995,65.116299999999995,86.046499999999995,76.744200000000006,41.860500000000002,100,41.860500000000002,27.907,65.116299999999995,48.837200000000003,100,69.767399999999995,58.139499999999998,0,27.907,23.255800000000001,76.744200000000006,62.790700000000001,93.023300000000006,62.790700000000001,93.023300000000006,58.139499999999998,44.186,69.767399999999995,27.907,69.767399999999995,76.744200000000006,58.139499999999998,76.744200000000006,93.023300000000006,34.883699999999997,76.744200000000006,58.139499999999998,69.767399999999995,58.139499999999998,62.790700000000001,41.860500000000002,86.046499999999995,76.744200000000006,53.488399999999999,41.860500000000002,50,60.4651,58.139499999999998,60.4651,50,41.860500000000002,76.744200000000006,60.4651,68.181799999999996,34.090899999999998,40.909100000000002,61.363599999999998,88.372100000000003,58.139499999999998,100,34.090899999999998,60.4651,72.093000000000004,30.232600000000001,0,56.818199999999997,44.186,0,18.181799999999999,36.363599999999998,27.2727,13.9535,0,0,11.3636,18.181799999999999,13.6364,29.545500000000001,22.7273,62.790700000000001,2.2726999999999999,0,0,27.907,50,18.604700000000001,40.909100000000002,41.860500000000002,37.209299999999999,0,31.818200000000001,31.818200000000001,60.4651,34.883699999999997,13.6364,36.363599999999998,45.454500000000003,34.883699999999997,36.363599999999998,40.909100000000002,41.860500000000002,41.860500000000002,22.7273,22.7273,36.363599999999998,100,77.2727,59.090899999999998,18.181799999999999,75,27.2727,69.767399999999995,0,65.909099999999995],"type":"scatter","mode":"lines","name":"Observed","line":{"color":"#a6051a","width":2},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(191,191,191,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"80% confidence","y":[36.114273961552058,38.262048168024762,24.024976905671863,19.818323167476059,14.514649818675938,17.298642168090904,18.281042676141592,22.678676784735426,28.626499146964345,25.590610984459268,22.090745574492409,16.81780858138422,17.574454582392164,6.0636127651439864,16.685517213167969,19.596778468195858,22.062218421229325,23.98153143525866,31.146403904389068,19.220226125138993,27.023972351707449,8.6626687814115755,4.7401655564910143,18.590675928264943,6.2128648623864038,6.2128648623864038,79.883888760382746,91.727345794435507,77.357953655741795,80.734849090426536,98.48906029147733,90.004814969619915,101.19686049387172,93.289063241354995,90.665465936440143,87.559721887207303,84.06443654531347,72.880194980703806,83.80412704879771,82.395507257389568,86.933989185700597,89.634060066696748,91.851968869677819,85.122008106887321,80.010620628918304,78.379003258211512,74.974721631324385,79.798342462508629,83.283172091714462,96.707536761495476,93.670045938206087],"marker":{"color":"rgba(191,191,191,1)","line":{"color":"rgba(191,191,191,1)"}},"textfont":{"color":"rgba(191,191,191,1)"},"error_y":{"color":"rgba(191,191,191,1)"},"error_x":{"color":"rgba(191,191,191,1)"},"line":{"color":"rgba(191,191,191,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(217,217,217,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"95% confidence","y":[20.880181341471037,22.792461784577874,8.3402800810130557,3.9425710419480211,-1.4881645330147535,1.1316471620587691,1.942210346474333,6.1509253499371113,11.89172818264413,8.6393339618177833,4.9277757274315732,-0.53955977859980919,0.044519184077898899,-11.621668260049738,-1.1486054559402987,1.6080739608788619,3.9040356570578254,5.6369358796373206,12.605168036750861,0.4846771871701776,8.1083061832770511,-10.41368503074942,-14.480601914374127,-0.76743125023774894,-13.286677284898396,-13.286677284898396,99.383430907667531,111.0854529729382,96.578721126606922,99.811202902587539,117.40472645990772,108.74036390758873,119.73809636150995,111.63365879697633,108.82364870061164,105.54842639452428,101.89855921442174,90.565476005897523,101.33406244711198,99.752875617373604,104.09695903276145,106.58533708933822,108.58673983399804,101.64975954168564,96.349452958585573,94.54599826424365,90.977535983015073,95.674094588036667,98.967868916373277,112.17712314494236,108.90413855828712],"marker":{"color":"rgba(217,217,217,1)","line":{"color":"rgba(217,217,217,1)"}},"textfont":{"color":"rgba(217,217,217,1)"},"error_y":{"color":"rgba(217,217,217,1)"},"error_x":{"color":"rgba(217,217,217,1)"},"line":{"color":"rgba(217,217,217,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[64.892159949879073,67.484792464760119,53.654074498693163,49.80833281499234,44.74468572500016,47.83882271315121,49.145831652529949,53.900342445811376,60.239234008321084,57.612335525578004,54.512367380096507,49.606657919386898,50.689290815594937,39.471903872923896,50.37497687924072,53.578250177701577,56.36384217883473,58.635297338306827,66.1716321991304,54.612520547379454,62.756516321592386,44.698758935919059,41.049059606116401,55.159010861350225,43.048376811384571],"type":"scatter","mode":"lines","name":"Forecasted","line":{"color":"#a6051a","width":2,"dash":"dash"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="rolling-forecasting" class="level3">
<h3 class="anchored" data-anchor-id="rolling-forecasting">Rolling Forecasting</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>pred_rolling <span class="ot">&lt;-</span> <span class="cf">function</span>(historico, prueba, modelo) {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    predicciones <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(prueba))</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (t <span class="cf">in</span> <span class="fu">seq_along</span>(prueba)) {</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>        modelo_ajustado <span class="ot">&lt;-</span> <span class="fu">Arima</span>(historico, <span class="at">model=</span>modelo)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>        pronostico <span class="ot">&lt;-</span> <span class="fu">forecast</span>(modelo_ajustado, <span class="at">h=</span><span class="dv">1</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>        predicciones[t] <span class="ot">&lt;-</span> pronostico<span class="sc">$</span>mean</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (predicciones[t]<span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>            predicciones[t] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> <span class="cf">if</span> (predicciones[t] <span class="sc">&gt;</span> <span class="dv">100</span>) {</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>            predicciones[t] <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>        historico <span class="ot">&lt;-</span> <span class="fu">c</span>(historico, prueba[t])</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(predicciones)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>predicciones_ferrari <span class="ot">&lt;-</span> <span class="fu">pred_rolling</span>(ferrari_train, ferrari_test, ferrari_fit_model)</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>df_entrenamiento <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(ferrari_train), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(ferrari_train))</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>df_prueba <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(ferrari_test), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(ferrari_test))</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>df_predicciones <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(ferrari_test), <span class="at">Valor =</span> predicciones_ferrari)</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>p_ferrari <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_entrenamiento, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Entrenamiento"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#a6051a'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_prueba, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Prueba"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ffeb00'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_predicciones, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Predicción"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#fff'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Predicción ARIMA Rolling -"</span>, <span class="dv">25</span>, <span class="st">"premios"</span>),</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Año"</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>p_ferrari</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-cfb9b358f4d9af432878" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cfb9b358f4d9af432878">{"x":{"visdat":{"6e703aa72b6a":["function () ","plotlyVisDat"],"6e70244f5bc8":["function () ","data"],"6e703d3417e":["function () ","data"],"6e70438736fd":["function () ","data"]},"cur_data":"6e70438736fd","attrs":{"6e70244f5bc8":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#a6051a"},"inherit":true},"6e703d3417e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#ffeb00"},"inherit":true},"6e70438736fd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#fff"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Predicción ARIMA Rolling - 25 premios","xaxis":{"domain":[0,1],"automargin":true,"title":"Año","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"color":"white"},"showlegend":true,"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001],"y":[100,62.790700000000001,13.9535,32.558100000000003,60.4651,46.511600000000001,23.255800000000001,34.883699999999997,9.3023000000000007,0,100,69.767399999999995,27.907,93.023300000000006,67.441900000000004,34.883699999999997,93.023300000000006,34.883699999999997,16.2791,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,23.255800000000001,41.860500000000002,18.604700000000001,65.116299999999995,81.395300000000006,65.116299999999995,53.488399999999999,37.209299999999999,53.488399999999999,32.558100000000003,55.814,41.860500000000002,34.883699999999997,65.116299999999995,51.162799999999997,23.255800000000001,58.139499999999998,4.6512000000000002,18.604700000000001,41.860500000000002,53.488399999999999,25.581399999999999,58.139499999999998,69.767399999999995,58.139499999999998,27.907,23.255800000000001,62.790700000000001,44.186,41.860500000000002,62.790700000000001,60.4651,55.814,62.790700000000001,76.744200000000006,69.767399999999995,23.255800000000001,76.744200000000006,9.3023000000000007,93.023300000000006,13.9535,51.162799999999997,53.488399999999999,27.907,32.558100000000003,55.814,69.767399999999995,60.4651,23.255800000000001,30.232600000000001,27.907,32.558100000000003,23.255800000000001,48.837200000000003,41.860500000000002,27.907,6.9767000000000001,44.186,32.558100000000003,27.907,20.930199999999999,25.581399999999999,18.604700000000001,23.255800000000001,60.4651,41.860500000000002,4.6512000000000002,37.209299999999999,0,23.255800000000001,18.604700000000001,32.558100000000003,6.9767000000000001,34.883699999999997,86.046499999999995,62.790700000000001,65.116299999999995,58.139499999999998,60.4651,51.162799999999997,27.907,44.186,58.139499999999998,13.9535,65.116299999999995,93.023300000000006,62.790700000000001,51.162799999999997,34.883699999999997,0,62.790700000000001,62.790700000000001,34.883699999999997,41.860500000000002,65.116299999999995,34.883699999999997,76.744200000000006,27.907,60.4651,69.767399999999995,34.883699999999997,27.907,46.511600000000001,41.860500000000002,23.255800000000001,62.790700000000001,51.162799999999997,27.907,51.162799999999997,27.907,41.860500000000002,23.255800000000001,53.488399999999999,86.046499999999995,65.116299999999995,86.046499999999995,76.744200000000006,41.860500000000002,100,41.860500000000002,27.907,65.116299999999995,48.837200000000003,100,69.767399999999995,58.139499999999998,0,27.907,23.255800000000001,76.744200000000006,62.790700000000001,93.023300000000006,62.790700000000001,93.023300000000006,58.139499999999998,44.186,69.767399999999995,27.907,69.767399999999995,76.744200000000006,58.139499999999998,76.744200000000006,93.023300000000006,34.883699999999997,76.744200000000006,58.139499999999998,69.767399999999995,58.139499999999998,62.790700000000001,41.860500000000002,86.046499999999995,76.744200000000006,53.488399999999999,41.860500000000002,50,60.4651,58.139499999999998,60.4651,50,41.860500000000002,76.744200000000006,60.4651,68.181799999999996,34.090899999999998,40.909100000000002,61.363599999999998,88.372100000000003,58.139499999999998,100,34.090899999999998,60.4651,72.093000000000004,30.232600000000001,0,56.818199999999997,44.186,0,18.181799999999999,36.363599999999998,27.2727,13.9535,0,0,11.3636,18.181799999999999,13.6364,29.545500000000001,22.7273,62.790700000000001,2.2726999999999999,0,0,27.907,50,18.604700000000001,40.909100000000002,41.860500000000002,37.209299999999999,0,31.818200000000001,31.818200000000001,60.4651,34.883699999999997,13.6364,36.363599999999998,45.454500000000003,34.883699999999997,36.363599999999998,40.909100000000002,41.860500000000002,41.860500000000002,22.7273,22.7273,36.363599999999998,100,77.2727,59.090899999999998,18.181799999999999,75,27.2727,69.767399999999995,0,65.909099999999995],"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#a6051a"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[86.046499999999995,56.818199999999997,25.581399999999999,45.454500000000003,52.2727,43.181800000000003,69.767399999999995,76.744200000000006,34.883699999999997,34.883699999999997,41.860500000000002,61.363599999999998,69.767399999999995,27.907,31.818200000000001,0,58.139499999999998,36.363599999999998,27.907,22.7273,51.162799999999997,59.090899999999998,6.8182,22.7273,34.883699999999997],"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#ffeb00"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[52.296266155642577,64.488243205945309,48.990156699093802,27.347721593694555,38.626153166190406,44.213079553531529,45.440512980385982,54.668103232912699,63.225412530633427,55.239247912864663,49.94551417856529,43.662899886613069,48.234823144734818,40.258000060337977,49.980234511492029,49.849054388754006,39.679629536643347,49.110620505491809,54.642304019441781,38.937752530164367,40.390738807821307,28.825467368352506,30.605580801448337,41.455926009444383,24.110681129982162],"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#fff"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="red-bull-1" class="level2">
<h2 class="anchored" data-anchor-id="red-bull-1">Red Bull</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>redbull_fit_model <span class="ot">&lt;-</span> <span class="fu">fitted_model</span>(<span class="st">'models/redbull_model.rda'</span>, redbull_train, redbull_best_model<span class="sc">$</span>best_pdq, redbull_best_model<span class="sc">$</span>best_PDQ)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(redbull_fit_model)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="timeseries_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(2,1,1)(1,1,2)[25]
Q* = 40.678, df = 43, p-value = 0.5725

Model df: 6.   Total lags used: 49</code></pre>
</div>
</div>
<section id="forecasting-sin-rolling-1" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-sin-rolling-1">Forecasting sin rolling</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>redbull_pred_25 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(redbull_fit_model, <span class="at">h =</span> <span class="dv">25</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>redbull_pred_25</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Point Forecast    Lo 80     Hi 80    Lo 95    Hi 95
2022.72       77.23443 46.51130 107.95756 30.24746 124.2214
2022.76       68.37542 37.19930  99.55153 20.69566 116.0552
2022.80       66.86079 34.65631  99.06527 17.60829 116.1133
2022.84       79.30214 46.75327 111.85100 29.52294 129.0813
2022.88       81.19826 48.42753 113.96899 31.07976 131.3168
2022.92       81.64702 48.57870 114.71534 31.07339 132.2207
2022.96       79.87575 46.51245 113.23905 28.85098 130.9005
2023.00       67.90005 34.25252 101.54758 16.44059 119.3595
2023.04       78.88032 44.95140 112.80924 26.99051 130.7701
2023.08       83.06694 48.86008 117.27381 30.75206 135.3818
2023.12       66.20413 31.72169 100.68657 13.46778 118.9405
2023.16       67.31245 32.55678 102.06813 14.15823 120.4667
2023.20       82.90410 47.87735 117.93084 29.33531 136.4729
2023.24       83.79745 48.50174 119.09317 29.81731 137.7776
2023.28       68.72183 33.15919 104.28448 14.33346 123.1102
2023.32       68.55585 32.72826 104.38343 13.76229 123.3494
2023.36       84.75133 48.66075 120.84190 29.55556 139.9471
2023.40       71.23061 34.87895 107.58228 15.63554 126.8257
2023.44       76.90339 40.29250 113.51428 20.91187 132.8949
2023.48       73.62196 36.75367 110.49026 17.23677 130.0072
2023.52       82.89631 45.77239 120.02023 26.12018 139.6724
2023.56       76.83706 39.45925 114.21486 19.67264 134.0015
2023.60       83.41197 45.78200 121.04195 25.86189 140.9621
2023.64       85.13179 47.25125 123.01234 27.19850 143.0651
2023.68       76.65561 38.52614 114.78508 18.34162 134.9696</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_forecast</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    redbull_pred_25,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Pronóstico últimas 25 carreras Red Bull"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">""</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Year"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#223971'</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-42c8c22ba456e584c261" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-42c8c22ba456e584c261">{"x":{"visdat":{"6e7048402f5c":["function () ","plotlyVisDat"]},"cur_data":"6e7048402f5c","attrs":{"6e7048402f5c":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[37.209299999999999,4.6512000000000002,100,27.907,93.023300000000006,100,34.883699999999997,51.162799999999997,58.139499999999998,72.093000000000004,53.488399999999999,93.023300000000006,41.860500000000002,46.511600000000001,76.744200000000006,100,0,100,67.441900000000004,81.395300000000006,86.046499999999995,76.744200000000006,100,86.046499999999995,86.046499999999995,76.744200000000006,93.023300000000006,76.744200000000006,62.790700000000001,65.116299999999995,100,58.139499999999998,93.023300000000006,62.790700000000001,93.023300000000006,86.046499999999995,27.907,100,69.767399999999995,27.907,51.162799999999997,86.046499999999995,18.604700000000001,86.046499999999995,41.860500000000002,27.907,93.023300000000006,32.558100000000003,37.209299999999999,60.4651,0,58.139499999999998,62.790700000000001,100,93.023300000000006,34.883699999999997,41.860500000000002,46.511600000000001,53.488399999999999,100,27.907,72.093000000000004,51.162799999999997,76.744200000000006,86.046499999999995,41.860500000000002,72.093000000000004,62.790700000000001,81.395300000000006,93.023300000000006,58.139499999999998,58.139499999999998,100,58.139499999999998,100,93.023300000000006,100,0,34.883699999999997,46.511600000000001,51.162799999999997,62.790700000000001,34.883699999999997,93.023300000000006,9.3023000000000007,58.139499999999998,46.511600000000001,72.093000000000004,81.395300000000006,41.860500000000002,76.744200000000006,62.790700000000001,23.255800000000001,48.837200000000003,23.255800000000001,37.209299999999999,18.604700000000001,6.9767000000000001,4.6512000000000002,23.255800000000001,16.2791,51.162799999999997,4.6512000000000002,2.3256000000000001,18.604700000000001,76.744200000000006,27.907,11.6279,60.4651,0,23.255800000000001,2.3256000000000001,51.162799999999997,13.9535,20.930199999999999,27.907,41.860500000000002,62.790700000000001,0,86.046499999999995,41.860500000000002,41.860500000000002,23.255800000000001,65.116299999999995,69.767399999999995,58.139499999999998,76.744200000000006,41.860500000000002,37.209299999999999,60.4651,100,60.4651,34.883699999999997,62.790700000000001,44.186,51.162799999999997,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,34.883699999999997,58.139499999999998,34.883699999999997,58.139499999999998,34.883699999999997,51.162799999999997,23.255800000000001,34.883699999999997,30.232600000000001,41.860500000000002,93.023300000000006,76.744200000000006,27.907,58.139499999999998,41.860500000000002,23.255800000000001,46.511600000000001,0,81.395300000000006,0,58.139499999999998,62.790700000000001,62.790700000000001,69.767399999999995,58.139499999999998,23.255800000000001,27.907,27.907,34.883699999999997,23.255800000000001,60.4651,41.860500000000002,62.790700000000001,41.860500000000002,58.139499999999998,69.767399999999995,62.790700000000001,34.090899999999998,37.209299999999999,48.837200000000003,27.907,52.2727,53.488399999999999,32.558100000000003,30.232600000000001,72.7273,50,59.090899999999998,61.363599999999998,23.255800000000001,27.907,53.488399999999999,50,27.907,41.860500000000002,58.139499999999998,58.139499999999998,59.090899999999998,0,62.790700000000001,63.636400000000002,52.2727,79.545500000000004,51.162799999999997,53.488399999999999,0,34.090899999999998,43.181800000000003,43.181800000000003,34.090899999999998,0,32.558100000000003,77.2727,18.604700000000001,86.046499999999995,65.116299999999995,56.818199999999997,69.767399999999995,65.909099999999995,86.046499999999995,58.139499999999998,93.181799999999996,84.090900000000005,77.2727,0,4.6512000000000002,59.090899999999998,65.909099999999995,22.7273,46.511600000000001,75,90.909099999999995,93.023300000000006,72.093000000000004,70.454499999999996,40.909100000000002,59.090899999999998,0,84.090900000000005,40.909100000000002,100,86.363600000000005,100,93.023300000000006,100,56.818199999999997],"type":"scatter","mode":"lines","name":"Observed","line":{"width":2,"color":"#223971"},"inherit":true},"6e7048402f5c.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[46.511304958207077,37.199302135632614,34.656313864007942,46.753271486213677,48.427531907488209,48.578696680796433,46.512446009557657,34.252517083846499,44.951395481656185,48.860076378328678,31.721687261944304,32.556776178299515,47.877347938541106,48.501736260025865,33.159186694542619,32.728264611507207,48.660752082664011,34.878948873329797,40.292500834719782,36.753667800299631,45.772391945294757,39.459254555378045,45.781996937622466,47.251247135726821,38.526143928747551],"ymax":[107.95756188688186,99.551528277311718,99.065271600208362,111.85100484954013,113.96898991457158,114.71533838668785,113.23905419997263,101.54758092764507,112.80923687991267,117.27380717277859,100.68657312583449,102.06812514413198,117.93084434552705,119.09316956565809,104.28447856695178,104.38343080179831,120.8419012834764,107.58227528353538,113.51428088150982,110.49025913550341,120.02022747295503,114.21485875788008,121.04195262351507,123.01234053656361,114.7850833513443],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray75"],"name":"80% confidence","inherit":true},"6e7048402f5c.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[30.247463173782364,20.695664785483444,17.608292544544732,29.522942270639746,31.079755873139135,31.073385037381392,28.850979670283081,16.440589621792306,26.990509798824554,30.752055660081894,13.467784608879825,14.158233479197214,29.335307479811462,29.817312504950891,14.333459112362299,13.762287769202473,29.555555947077615,15.635540779171841,20.911866352178933,17.236771000701516,26.120176981907271,19.672641342145994,25.861889950487708,27.198497007814247,18.341621918614251],"ymax":[124.22140367130658,116.05516562746089,116.11329291967158,129.08133406511405,131.31676594892065,132.22065003010289,130.90052053924722,119.35950838969927,130.77012256274432,135.38182789102535,118.94047577889897,120.46666784323429,136.47288480425669,137.77759332073305,123.1102061491321,123.34940764410304,139.9470974190628,126.82568337769334,132.89491536405069,130.00715593510154,139.67244243634252,134.00147197111212,140.96205961064982,143.0650906644762,134.96960536147759],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray85"],"name":"95% confidence","inherit":true},"6e7048402f5c.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[77.23443342254447,68.375415206472169,66.860792732108152,79.302138167876905,81.198260911029891,81.647017533742144,79.875750104765146,67.900049005745785,78.880316180784433,83.06694177555363,66.204130193889398,67.312450661215749,82.904096142034078,83.797452912841976,68.721832630747201,68.555847706652756,84.751326683070204,71.230612078432586,76.903390858114804,73.621963467901523,82.896309709124893,76.837056656629059,83.411974780568769,85.131793836145221,76.655613640045928],"type":"scatter","mode":"lines","name":"Forecasted","line":{"width":2,"color":"#223971","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Pronóstico últimas 25 carreras Red Bull","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"showticklabels":false},"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[37.209299999999999,4.6512000000000002,100,27.907,93.023300000000006,100,34.883699999999997,51.162799999999997,58.139499999999998,72.093000000000004,53.488399999999999,93.023300000000006,41.860500000000002,46.511600000000001,76.744200000000006,100,0,100,67.441900000000004,81.395300000000006,86.046499999999995,76.744200000000006,100,86.046499999999995,86.046499999999995,76.744200000000006,93.023300000000006,76.744200000000006,62.790700000000001,65.116299999999995,100,58.139499999999998,93.023300000000006,62.790700000000001,93.023300000000006,86.046499999999995,27.907,100,69.767399999999995,27.907,51.162799999999997,86.046499999999995,18.604700000000001,86.046499999999995,41.860500000000002,27.907,93.023300000000006,32.558100000000003,37.209299999999999,60.4651,0,58.139499999999998,62.790700000000001,100,93.023300000000006,34.883699999999997,41.860500000000002,46.511600000000001,53.488399999999999,100,27.907,72.093000000000004,51.162799999999997,76.744200000000006,86.046499999999995,41.860500000000002,72.093000000000004,62.790700000000001,81.395300000000006,93.023300000000006,58.139499999999998,58.139499999999998,100,58.139499999999998,100,93.023300000000006,100,0,34.883699999999997,46.511600000000001,51.162799999999997,62.790700000000001,34.883699999999997,93.023300000000006,9.3023000000000007,58.139499999999998,46.511600000000001,72.093000000000004,81.395300000000006,41.860500000000002,76.744200000000006,62.790700000000001,23.255800000000001,48.837200000000003,23.255800000000001,37.209299999999999,18.604700000000001,6.9767000000000001,4.6512000000000002,23.255800000000001,16.2791,51.162799999999997,4.6512000000000002,2.3256000000000001,18.604700000000001,76.744200000000006,27.907,11.6279,60.4651,0,23.255800000000001,2.3256000000000001,51.162799999999997,13.9535,20.930199999999999,27.907,41.860500000000002,62.790700000000001,0,86.046499999999995,41.860500000000002,41.860500000000002,23.255800000000001,65.116299999999995,69.767399999999995,58.139499999999998,76.744200000000006,41.860500000000002,37.209299999999999,60.4651,100,60.4651,34.883699999999997,62.790700000000001,44.186,51.162799999999997,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,34.883699999999997,58.139499999999998,34.883699999999997,58.139499999999998,34.883699999999997,51.162799999999997,23.255800000000001,34.883699999999997,30.232600000000001,41.860500000000002,93.023300000000006,76.744200000000006,27.907,58.139499999999998,41.860500000000002,23.255800000000001,46.511600000000001,0,81.395300000000006,0,58.139499999999998,62.790700000000001,62.790700000000001,69.767399999999995,58.139499999999998,23.255800000000001,27.907,27.907,34.883699999999997,23.255800000000001,60.4651,41.860500000000002,62.790700000000001,41.860500000000002,58.139499999999998,69.767399999999995,62.790700000000001,34.090899999999998,37.209299999999999,48.837200000000003,27.907,52.2727,53.488399999999999,32.558100000000003,30.232600000000001,72.7273,50,59.090899999999998,61.363599999999998,23.255800000000001,27.907,53.488399999999999,50,27.907,41.860500000000002,58.139499999999998,58.139499999999998,59.090899999999998,0,62.790700000000001,63.636400000000002,52.2727,79.545500000000004,51.162799999999997,53.488399999999999,0,34.090899999999998,43.181800000000003,43.181800000000003,34.090899999999998,0,32.558100000000003,77.2727,18.604700000000001,86.046499999999995,65.116299999999995,56.818199999999997,69.767399999999995,65.909099999999995,86.046499999999995,58.139499999999998,93.181799999999996,84.090900000000005,77.2727,0,4.6512000000000002,59.090899999999998,65.909099999999995,22.7273,46.511600000000001,75,90.909099999999995,93.023300000000006,72.093000000000004,70.454499999999996,40.909100000000002,59.090899999999998,0,84.090900000000005,40.909100000000002,100,86.363600000000005,100,93.023300000000006,100,56.818199999999997],"type":"scatter","mode":"lines","name":"Observed","line":{"color":"#223971","width":2},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(191,191,191,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"80% confidence","y":[46.511304958207077,37.199302135632614,34.656313864007942,46.753271486213677,48.427531907488209,48.578696680796433,46.512446009557657,34.252517083846499,44.951395481656185,48.860076378328678,31.721687261944304,32.556776178299515,47.877347938541106,48.501736260025865,33.159186694542619,32.728264611507207,48.660752082664011,34.878948873329797,40.292500834719782,36.753667800299631,45.772391945294757,39.459254555378045,45.781996937622466,47.251247135726821,38.526143928747551,38.526143928747551,114.7850833513443,123.01234053656361,121.04195262351507,114.21485875788008,120.02022747295503,110.49025913550341,113.51428088150982,107.58227528353538,120.8419012834764,104.38343080179831,104.28447856695178,119.09316956565809,117.93084434552705,102.06812514413198,100.68657312583449,117.27380717277859,112.80923687991267,101.54758092764507,113.23905419997263,114.71533838668785,113.96898991457158,111.85100484954013,99.065271600208362,99.551528277311718,107.95756188688186],"marker":{"color":"rgba(191,191,191,1)","line":{"color":"rgba(191,191,191,1)"}},"textfont":{"color":"rgba(191,191,191,1)"},"error_y":{"color":"rgba(191,191,191,1)"},"error_x":{"color":"rgba(191,191,191,1)"},"line":{"color":"rgba(191,191,191,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(217,217,217,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"95% confidence","y":[30.247463173782364,20.695664785483444,17.608292544544732,29.522942270639746,31.079755873139135,31.073385037381392,28.850979670283081,16.440589621792306,26.990509798824554,30.752055660081894,13.467784608879825,14.158233479197214,29.335307479811462,29.817312504950891,14.333459112362299,13.762287769202473,29.555555947077615,15.635540779171841,20.911866352178933,17.236771000701516,26.120176981907271,19.672641342145994,25.861889950487708,27.198497007814247,18.341621918614251,18.341621918614251,134.96960536147759,143.0650906644762,140.96205961064982,134.00147197111212,139.67244243634252,130.00715593510154,132.89491536405069,126.82568337769334,139.9470974190628,123.34940764410304,123.1102061491321,137.77759332073305,136.47288480425669,120.46666784323429,118.94047577889897,135.38182789102535,130.77012256274432,119.35950838969927,130.90052053924722,132.22065003010289,131.31676594892065,129.08133406511405,116.11329291967158,116.05516562746089,124.22140367130658],"marker":{"color":"rgba(217,217,217,1)","line":{"color":"rgba(217,217,217,1)"}},"textfont":{"color":"rgba(217,217,217,1)"},"error_y":{"color":"rgba(217,217,217,1)"},"error_x":{"color":"rgba(217,217,217,1)"},"line":{"color":"rgba(217,217,217,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[77.23443342254447,68.375415206472169,66.860792732108152,79.302138167876905,81.198260911029891,81.647017533742144,79.875750104765146,67.900049005745785,78.880316180784433,83.06694177555363,66.204130193889398,67.312450661215749,82.904096142034078,83.797452912841976,68.721832630747201,68.555847706652756,84.751326683070204,71.230612078432586,76.903390858114804,73.621963467901523,82.896309709124893,76.837056656629059,83.411974780568769,85.131793836145221,76.655613640045928],"type":"scatter","mode":"lines","name":"Forecasted","line":{"color":"#223971","width":2,"dash":"dash"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="rolling-forecasting-1" class="level3">
<h3 class="anchored" data-anchor-id="rolling-forecasting-1">Rolling Forecasting</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>predicciones_redbull <span class="ot">&lt;-</span> <span class="fu">pred_rolling</span>(redbull_train, redbull_test, redbull_fit_model)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>df_entrenamiento <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(redbull_train), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(redbull_train))</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>df_prueba <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(redbull_test), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(redbull_test))</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>df_predicciones <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(redbull_test), <span class="at">Valor =</span> predicciones_redbull)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>p_redbull <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_entrenamiento, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Entrenamiento"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#223971'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_prueba, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Prueba"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#cc1e4a'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_predicciones, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Predicción"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ffc906'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Predicción ARIMA Rolling -"</span>, <span class="dv">25</span>, <span class="st">"premios"</span>),</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Año"</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>p_redbull</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a562883f17f8c5e6f169" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a562883f17f8c5e6f169">{"x":{"visdat":{"6e70418439d":["function () ","plotlyVisDat"],"6e704fbc887":["function () ","data"],"6e704f224f12":["function () ","data"],"6e701fea1798":["function () ","data"]},"cur_data":"6e701fea1798","attrs":{"6e704fbc887":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#223971"},"inherit":true},"6e704f224f12":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#cc1e4a"},"inherit":true},"6e701fea1798":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#ffc906"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Predicción ARIMA Rolling - 25 premios","xaxis":{"domain":[0,1],"automargin":true,"title":"Año","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"color":"white"},"showlegend":true,"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001],"y":[37.209299999999999,4.6512000000000002,100,27.907,93.023300000000006,100,34.883699999999997,51.162799999999997,58.139499999999998,72.093000000000004,53.488399999999999,93.023300000000006,41.860500000000002,46.511600000000001,76.744200000000006,100,0,100,67.441900000000004,81.395300000000006,86.046499999999995,76.744200000000006,100,86.046499999999995,86.046499999999995,76.744200000000006,93.023300000000006,76.744200000000006,62.790700000000001,65.116299999999995,100,58.139499999999998,93.023300000000006,62.790700000000001,93.023300000000006,86.046499999999995,27.907,100,69.767399999999995,27.907,51.162799999999997,86.046499999999995,18.604700000000001,86.046499999999995,41.860500000000002,27.907,93.023300000000006,32.558100000000003,37.209299999999999,60.4651,0,58.139499999999998,62.790700000000001,100,93.023300000000006,34.883699999999997,41.860500000000002,46.511600000000001,53.488399999999999,100,27.907,72.093000000000004,51.162799999999997,76.744200000000006,86.046499999999995,41.860500000000002,72.093000000000004,62.790700000000001,81.395300000000006,93.023300000000006,58.139499999999998,58.139499999999998,100,58.139499999999998,100,93.023300000000006,100,0,34.883699999999997,46.511600000000001,51.162799999999997,62.790700000000001,34.883699999999997,93.023300000000006,9.3023000000000007,58.139499999999998,46.511600000000001,72.093000000000004,81.395300000000006,41.860500000000002,76.744200000000006,62.790700000000001,23.255800000000001,48.837200000000003,23.255800000000001,37.209299999999999,18.604700000000001,6.9767000000000001,4.6512000000000002,23.255800000000001,16.2791,51.162799999999997,4.6512000000000002,2.3256000000000001,18.604700000000001,76.744200000000006,27.907,11.6279,60.4651,0,23.255800000000001,2.3256000000000001,51.162799999999997,13.9535,20.930199999999999,27.907,41.860500000000002,62.790700000000001,0,86.046499999999995,41.860500000000002,41.860500000000002,23.255800000000001,65.116299999999995,69.767399999999995,58.139499999999998,76.744200000000006,41.860500000000002,37.209299999999999,60.4651,100,60.4651,34.883699999999997,62.790700000000001,44.186,51.162799999999997,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,34.883699999999997,58.139499999999998,34.883699999999997,58.139499999999998,34.883699999999997,51.162799999999997,23.255800000000001,34.883699999999997,30.232600000000001,41.860500000000002,93.023300000000006,76.744200000000006,27.907,58.139499999999998,41.860500000000002,23.255800000000001,46.511600000000001,0,81.395300000000006,0,58.139499999999998,62.790700000000001,62.790700000000001,69.767399999999995,58.139499999999998,23.255800000000001,27.907,27.907,34.883699999999997,23.255800000000001,60.4651,41.860500000000002,62.790700000000001,41.860500000000002,58.139499999999998,69.767399999999995,62.790700000000001,34.090899999999998,37.209299999999999,48.837200000000003,27.907,52.2727,53.488399999999999,32.558100000000003,30.232600000000001,72.7273,50,59.090899999999998,61.363599999999998,23.255800000000001,27.907,53.488399999999999,50,27.907,41.860500000000002,58.139499999999998,58.139499999999998,59.090899999999998,0,62.790700000000001,63.636400000000002,52.2727,79.545500000000004,51.162799999999997,53.488399999999999,0,34.090899999999998,43.181800000000003,43.181800000000003,34.090899999999998,0,32.558100000000003,77.2727,18.604700000000001,86.046499999999995,65.116299999999995,56.818199999999997,69.767399999999995,65.909099999999995,86.046499999999995,58.139499999999998,93.181799999999996,84.090900000000005,77.2727,0,4.6512000000000002,59.090899999999998,65.909099999999995,22.7273,46.511600000000001,75,90.909099999999995,93.023300000000006,72.093000000000004,70.454499999999996,40.909100000000002,59.090899999999998,0,84.090900000000005,40.909100000000002,100,86.363600000000005,100,93.023300000000006,100,56.818199999999997],"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#223971"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[55.814,43.181800000000003,86.046499999999995,79.545500000000004,100,81.818200000000004,79.069800000000001,72.093000000000004,100,86.046499999999995,93.023300000000006,31.818200000000001,93.023300000000006,100,100,83.7209,100,100,58.139499999999998,86.363600000000005,79.069800000000001,93.181799999999996,77.2727,93.181799999999996,100],"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#cc1e4a"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[76.125875486360641,63.690695147040401,45.872066522635109,73.317480602677918,76.978121547663733,85.5449416147177,77.523830885261134,70.013713572041084,81.997689441580846,79.985654054957763,74.535284934333276,70.44321373601089,87.374273752084946,63.163541378191297,73.84437191832771,86.03675483480103,99.076787475246036,84.43948297873844,92.826035453287204,84.460632164977852,77.142166489236004,87.453073340973091,85.993876957352057,95.568676482302763,85.213240099356284],"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#ffc906"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="mercedes-1" class="level2">
<h2 class="anchored" data-anchor-id="mercedes-1">Mercedes</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>mercedes_fit_model <span class="ot">&lt;-</span> <span class="fu">fitted_model</span>(<span class="st">'models/mercedes_model.rda'</span>, mercedes_train, mercedes_best_model<span class="sc">$</span>best_pdq, mercedes_best_model<span class="sc">$</span>best_PDQ)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(mercedes_fit_model)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="timeseries_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(2,1,3)(1,1,2)[25]
Q* = 59.821, df = 41, p-value = 0.02894

Model df: 8.   Total lags used: 49</code></pre>
</div>
</div>
<section id="forecasting-sin-rolling-2" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-sin-rolling-2">Forecasting sin rolling</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>mercedes_pred_25 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(mercedes_fit_model, <span class="at">h =</span> <span class="dv">25</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>mercedes_pred_25</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Point Forecast     Lo 80     Hi 80       Lo 95     Hi 95
2022.72       42.97671 14.040902  71.91252  -1.2767899  87.23021
2022.76       51.48153 22.437065  80.52599   7.0618545  95.90120
2022.80       55.52588 25.645174  85.40659   9.8272817 101.22448
2022.84       54.05646 23.484336  84.62859   7.3004296 100.81250
2022.88       52.19536 21.575777  82.81495   5.3667470  99.02398
2022.92       50.31769 19.134560  81.50083   2.6272060  98.00818
2022.96       60.71599 28.817430  92.61455  11.9313527 109.50063
2023.00       59.42068 27.300846  91.54051  10.2976339 108.54373
2023.04       66.59120 34.057730  99.12466  16.8355539 116.34684
2023.08       37.45663  4.251574  70.66169 -13.3261221  88.23939
2023.12       57.90353 24.404243  91.40282   6.6707922 109.13627
2023.16       60.31590 26.479356  94.15245   8.5673714 112.06443
2023.20       42.19866  7.766517  76.63080 -10.4607568  94.85807
2023.24       64.08325 29.295798  98.87070  10.8804353 117.28606
2023.28       53.43908 18.346405  88.53175  -0.2305343 107.10869
2023.32       52.93462 17.326162  88.54308  -1.5238188 107.39306
2023.36       29.74798 -6.255628  65.75159 -25.3147884  84.81075
2023.40       38.06940  1.767040  74.37176 -17.4502697  93.58907
2023.44       58.17589 21.426057  94.92572   1.9718724 114.37990
2023.48       46.24906  9.087175  83.41095 -10.5851412 103.08327
2023.52       40.24723  2.779780  77.71468 -17.0542912  97.54875
2023.56       65.08028 27.216784 102.94377   7.1730623 122.98749
2023.60       55.28715 17.013745  93.56055  -3.2469702 113.82126
2023.64       57.07778 18.487095  95.66846  -1.9415783 116.09713
2023.68       51.66780 12.715974  90.61962  -7.9038745 111.23947</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_forecast</span>(</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    mercedes_pred_25,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Pronóstico últimas 25 carreras Mercedes"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">""</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Year"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00a19c'</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ad74fe3ca99e2d8ff95b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ad74fe3ca99e2d8ff95b">{"x":{"visdat":{"6e7030696b55":["function () ","plotlyVisDat"]},"cur_data":"6e7030696b55","attrs":{"6e7030696b55":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[41.860500000000002,25.581399999999999,34.883699999999997,37.209299999999999,27.907,13.9535,51.162799999999997,18.604700000000001,2.3256000000000001,39.5349,13.9535,0,32.558100000000003,27.907,23.255800000000001,18.604700000000001,27.907,32.558100000000003,27.907,0,4.6512000000000002,32.558100000000003,23.255800000000001,32.558100000000003,0,27.907,13.9535,23.255800000000001,23.255800000000001,4.6512000000000002,41.860500000000002,23.255800000000001,13.9535,20.930199999999999,9.3023000000000007,41.860500000000002,32.558100000000003,13.9535,0,2.3256000000000001,58.139499999999998,25.581399999999999,13.9535,41.860500000000002,18.604700000000001,53.488399999999999,13.9535,16.2791,2.3256000000000001,13.9535,32.558100000000003,23.255800000000001,0,0,0,0,0,13.9535,23.255800000000001,62.790700000000001,34.883699999999997,27.907,18.604700000000001,86.046499999999995,58.139499999999998,86.046499999999995,27.907,58.139499999999998,62.790700000000001,23.255800000000001,51.162799999999997,37.209299999999999,9.3023000000000007,60.4651,48.837200000000003,32.558100000000003,27.907,58.139499999999998,100,100,100,100,100,41.860500000000002,100,58.139499999999998,93.023300000000006,62.790700000000001,41.860500000000002,100,58.139499999999998,100,100,100,100,58.139499999999998,100,76.744200000000006,100,93.023300000000006,100,93.023300000000006,100,100,100,27.907,100,58.139499999999998,27.907,100,58.139499999999998,100,100,100,100,100,93.023300000000006,72.093000000000004,100,0,72.093000000000004,81.395300000000006,81.395300000000006,86.046499999999995,93.023300000000006,100,86.046499999999995,93.023300000000006,100,93.023300000000006,34.883699999999997,93.023300000000006,100,100,100,100,76.744200000000006,76.744200000000006,76.744200000000006,86.046499999999995,58.139499999999998,41.860500000000002,100,65.116299999999995,86.046499999999995,100,62.790700000000001,81.395300000000006,100,93.023300000000006,65.116299999999995,86.046499999999995,81.395300000000006,46.511600000000001,69.767399999999995,100,51.162799999999997,76.744200000000006,69.767399999999995,58.139499999999998,100,58.139499999999998,65.116299999999995,72.093000000000004,0,69.767399999999995,100,81.395300000000006,69.767399999999995,93.023300000000006,86.046499999999995,100,100,58.139499999999998,51.162799999999997,81.395300000000006,81.395300000000006,100,100,100,100,100,93.023300000000006,88.372100000000003,100,56.818199999999997,100,4.5454999999999997,65.909099999999995,76.744200000000006,79.069800000000001,51.162799999999997,100,95.348799999999997,93.023300000000006,100,13.9535,86.363600000000005,86.046499999999995,100,93.181799999999996,56.818199999999997,77.2727,95.348799999999997,100,39.5349,100,93.181799999999996,56.818199999999997,100,100,58.139499999999998,65.909099999999995,16.2791,76.744200000000006,95.348799999999997,43.181800000000003,95.348799999999997,90.909099999999995,16.2791,0,68.181799999999996,77.2727,68.181799999999996,93.023300000000006,41.860500000000002,36.363599999999998,77.2727,34.090899999999998,81.395300000000006,81.818200000000004,61.363599999999998,41.860500000000002,93.023300000000006,56.818199999999997,93.181799999999996,59.090899999999998,61.363599999999998,25,61.363599999999998,27.2727,40.909100000000002,56.818199999999997,32.558100000000003,61.363599999999998,61.363599999999998],"type":"scatter","mode":"lines","name":"Observed","line":{"width":2,"color":"#00a19c"},"inherit":true},"6e7030696b55.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[14.040902003150109,22.437064842267866,25.645173793689061,23.484336004910102,21.575776891980396,19.13455987372533,28.817430496020958,27.300846453344029,34.057730450603373,4.2515740014307042,24.404243109224637,26.479356211730483,7.7665174024029184,29.295798209918772,18.346404537092617,17.326161916681151,-6.2556280078093778,1.7670395907785377,21.426056953757396,9.0871746451377646,2.7797797138193872,27.216783967701879,17.013745002925859,18.487094676017982,12.715974057053835],"ymax":[71.91251944033263,80.525992104968054,85.40659270868349,84.628589731586899,82.814949573542137,81.500827220597444,92.614551217156546,91.540512575175882,99.124662463137412,70.661690679480813,91.402815567830231,94.152445611339942,76.630798731151202,98.870695520282695,88.531750137505583,88.54308423170778,65.751593904045407,74.371762351794303,94.925715786928023,83.410953194118107,77.714683478616621,102.94376702412296,93.560549272436205,95.668458525851008,90.619616465365993],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray75"],"name":"80% confidence","inherit":true},"6e7030696b55.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[-1.2767898604833192,7.0618545422466497,9.8272816936965413,7.3004296395197201,5.3667469968299599,2.6272060410573559,11.93135265217775,10.297633917509685,16.835553860121252,-13.326122094699684,6.6707921764213864,8.5673714290601026,-10.460756838710566,10.880435280052517,-0.23053429508539125,-1.523818778639928,-25.314788370820018,-17.450269693949075,1.9718723992864042,-10.585141221789129,-17.05429122684707,7.1730623025878302,-3.2469702296999827,-1.9415783319551636,-7.9038745373024142],"ymax":[87.230211303966058,95.901202404989263,101.22448480867601,100.81249609697728,99.023979468692573,98.008181053265417,109.50062906099976,108.54372511101023,116.34683905361953,88.239386775611194,109.13626650063348,112.06443039401033,94.858072972264694,117.28605845014894,107.1086889696836,107.39306492702886,84.810754267056041,93.589071636521908,114.37990034139901,103.083269061045,97.548754419283071,122.98748868923701,113.82126450506205,116.09713153382415,111.23946505972224],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray85"],"name":"95% confidence","inherit":true},"6e7030696b55.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[42.97671072174137,51.481528473617956,55.525883251186272,54.056462868248502,52.195363232761267,50.317693547161383,60.715990856588753,59.420679514259959,66.591196456870392,37.456632340455755,57.903529338527434,60.315900911535216,42.198658066777064,64.083246865100733,53.439077337299103,52.934623074194462,29.747982948118015,38.06940097128642,58.17588637034271,46.249063919627936,40.247231596218001,65.080275495912417,55.287147137681032,57.077776600934499,51.667795261209911],"type":"scatter","mode":"lines","name":"Forecasted","line":{"width":2,"color":"#00a19c","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Pronóstico últimas 25 carreras Mercedes","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"showticklabels":false},"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[41.860500000000002,25.581399999999999,34.883699999999997,37.209299999999999,27.907,13.9535,51.162799999999997,18.604700000000001,2.3256000000000001,39.5349,13.9535,0,32.558100000000003,27.907,23.255800000000001,18.604700000000001,27.907,32.558100000000003,27.907,0,4.6512000000000002,32.558100000000003,23.255800000000001,32.558100000000003,0,27.907,13.9535,23.255800000000001,23.255800000000001,4.6512000000000002,41.860500000000002,23.255800000000001,13.9535,20.930199999999999,9.3023000000000007,41.860500000000002,32.558100000000003,13.9535,0,2.3256000000000001,58.139499999999998,25.581399999999999,13.9535,41.860500000000002,18.604700000000001,53.488399999999999,13.9535,16.2791,2.3256000000000001,13.9535,32.558100000000003,23.255800000000001,0,0,0,0,0,13.9535,23.255800000000001,62.790700000000001,34.883699999999997,27.907,18.604700000000001,86.046499999999995,58.139499999999998,86.046499999999995,27.907,58.139499999999998,62.790700000000001,23.255800000000001,51.162799999999997,37.209299999999999,9.3023000000000007,60.4651,48.837200000000003,32.558100000000003,27.907,58.139499999999998,100,100,100,100,100,41.860500000000002,100,58.139499999999998,93.023300000000006,62.790700000000001,41.860500000000002,100,58.139499999999998,100,100,100,100,58.139499999999998,100,76.744200000000006,100,93.023300000000006,100,93.023300000000006,100,100,100,27.907,100,58.139499999999998,27.907,100,58.139499999999998,100,100,100,100,100,93.023300000000006,72.093000000000004,100,0,72.093000000000004,81.395300000000006,81.395300000000006,86.046499999999995,93.023300000000006,100,86.046499999999995,93.023300000000006,100,93.023300000000006,34.883699999999997,93.023300000000006,100,100,100,100,76.744200000000006,76.744200000000006,76.744200000000006,86.046499999999995,58.139499999999998,41.860500000000002,100,65.116299999999995,86.046499999999995,100,62.790700000000001,81.395300000000006,100,93.023300000000006,65.116299999999995,86.046499999999995,81.395300000000006,46.511600000000001,69.767399999999995,100,51.162799999999997,76.744200000000006,69.767399999999995,58.139499999999998,100,58.139499999999998,65.116299999999995,72.093000000000004,0,69.767399999999995,100,81.395300000000006,69.767399999999995,93.023300000000006,86.046499999999995,100,100,58.139499999999998,51.162799999999997,81.395300000000006,81.395300000000006,100,100,100,100,100,93.023300000000006,88.372100000000003,100,56.818199999999997,100,4.5454999999999997,65.909099999999995,76.744200000000006,79.069800000000001,51.162799999999997,100,95.348799999999997,93.023300000000006,100,13.9535,86.363600000000005,86.046499999999995,100,93.181799999999996,56.818199999999997,77.2727,95.348799999999997,100,39.5349,100,93.181799999999996,56.818199999999997,100,100,58.139499999999998,65.909099999999995,16.2791,76.744200000000006,95.348799999999997,43.181800000000003,95.348799999999997,90.909099999999995,16.2791,0,68.181799999999996,77.2727,68.181799999999996,93.023300000000006,41.860500000000002,36.363599999999998,77.2727,34.090899999999998,81.395300000000006,81.818200000000004,61.363599999999998,41.860500000000002,93.023300000000006,56.818199999999997,93.181799999999996,59.090899999999998,61.363599999999998,25,61.363599999999998,27.2727,40.909100000000002,56.818199999999997,32.558100000000003,61.363599999999998,61.363599999999998],"type":"scatter","mode":"lines","name":"Observed","line":{"color":"#00a19c","width":2},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(191,191,191,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"80% confidence","y":[14.040902003150109,22.437064842267866,25.645173793689061,23.484336004910102,21.575776891980396,19.13455987372533,28.817430496020958,27.300846453344029,34.057730450603373,4.2515740014307042,24.404243109224637,26.479356211730483,7.7665174024029184,29.295798209918772,18.346404537092617,17.326161916681151,-6.2556280078093778,1.7670395907785377,21.426056953757396,9.0871746451377646,2.7797797138193872,27.216783967701879,17.013745002925859,18.487094676017982,12.715974057053835,12.715974057053835,90.619616465365993,95.668458525851008,93.560549272436205,102.94376702412296,77.714683478616621,83.410953194118107,94.925715786928023,74.371762351794303,65.751593904045407,88.54308423170778,88.531750137505583,98.870695520282695,76.630798731151202,94.152445611339942,91.402815567830231,70.661690679480813,99.124662463137412,91.540512575175882,92.614551217156546,81.500827220597444,82.814949573542137,84.628589731586899,85.40659270868349,80.525992104968054,71.91251944033263],"marker":{"color":"rgba(191,191,191,1)","line":{"color":"rgba(191,191,191,1)"}},"textfont":{"color":"rgba(191,191,191,1)"},"error_y":{"color":"rgba(191,191,191,1)"},"error_x":{"color":"rgba(191,191,191,1)"},"line":{"color":"rgba(191,191,191,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(217,217,217,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"95% confidence","y":[-1.2767898604833192,7.0618545422466497,9.8272816936965413,7.3004296395197201,5.3667469968299599,2.6272060410573559,11.93135265217775,10.297633917509685,16.835553860121252,-13.326122094699684,6.6707921764213864,8.5673714290601026,-10.460756838710566,10.880435280052517,-0.23053429508539125,-1.523818778639928,-25.314788370820018,-17.450269693949075,1.9718723992864042,-10.585141221789129,-17.05429122684707,7.1730623025878302,-3.2469702296999827,-1.9415783319551636,-7.9038745373024142,-7.9038745373024142,111.23946505972224,116.09713153382415,113.82126450506205,122.98748868923701,97.548754419283071,103.083269061045,114.37990034139901,93.589071636521908,84.810754267056041,107.39306492702886,107.1086889696836,117.28605845014894,94.858072972264694,112.06443039401033,109.13626650063348,88.239386775611194,116.34683905361953,108.54372511101023,109.50062906099976,98.008181053265417,99.023979468692573,100.81249609697728,101.22448480867601,95.901202404989263,87.230211303966058],"marker":{"color":"rgba(217,217,217,1)","line":{"color":"rgba(217,217,217,1)"}},"textfont":{"color":"rgba(217,217,217,1)"},"error_y":{"color":"rgba(217,217,217,1)"},"error_x":{"color":"rgba(217,217,217,1)"},"line":{"color":"rgba(217,217,217,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[42.97671072174137,51.481528473617956,55.525883251186272,54.056462868248502,52.195363232761267,50.317693547161383,60.715990856588753,59.420679514259959,66.591196456870392,37.456632340455755,57.903529338527434,60.315900911535216,42.198658066777064,64.083246865100733,53.439077337299103,52.934623074194462,29.747982948118015,38.06940097128642,58.17588637034271,46.249063919627936,40.247231596218001,65.080275495912417,55.287147137681032,57.077776600934499,51.667795261209911],"type":"scatter","mode":"lines","name":"Forecasted","line":{"color":"#00a19c","width":2,"dash":"dash"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="rolling-forecasting-2" class="level3">
<h3 class="anchored" data-anchor-id="rolling-forecasting-2">Rolling Forecasting</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>predicciones_mercedes <span class="ot">&lt;-</span> <span class="fu">pred_rolling</span>(mercedes_train, mercedes_test, mercedes_fit_model)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>df_entrenamiento <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(mercedes_train), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(mercedes_train))</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>df_prueba <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(mercedes_test), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(mercedes_test))</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>df_predicciones <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(mercedes_test), <span class="at">Valor =</span> predicciones_mercedes)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>p_mercedes <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_entrenamiento, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Entrenamiento"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#00a19c'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_prueba, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Prueba"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#80142b'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_predicciones, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Predicción"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#c6c6c6'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Predicción ARIMA Rolling -"</span>, <span class="dv">25</span>, <span class="st">"premios"</span>),</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Año"</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>p_mercedes</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-62c62f7d949b862caa5d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-62c62f7d949b862caa5d">{"x":{"visdat":{"6e70719c207b":["function () ","plotlyVisDat"],"6e702f875219":["function () ","data"],"6e7053324da7":["function () ","data"],"6e707c7bf16":["function () ","data"]},"cur_data":"6e707c7bf16","attrs":{"6e702f875219":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#00a19c"},"inherit":true},"6e7053324da7":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#80142b"},"inherit":true},"6e707c7bf16":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#c6c6c6"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Predicción ARIMA Rolling - 25 premios","xaxis":{"domain":[0,1],"automargin":true,"title":"Año","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"color":"white"},"showlegend":true,"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001],"y":[41.860500000000002,25.581399999999999,34.883699999999997,37.209299999999999,27.907,13.9535,51.162799999999997,18.604700000000001,2.3256000000000001,39.5349,13.9535,0,32.558100000000003,27.907,23.255800000000001,18.604700000000001,27.907,32.558100000000003,27.907,0,4.6512000000000002,32.558100000000003,23.255800000000001,32.558100000000003,0,27.907,13.9535,23.255800000000001,23.255800000000001,4.6512000000000002,41.860500000000002,23.255800000000001,13.9535,20.930199999999999,9.3023000000000007,41.860500000000002,32.558100000000003,13.9535,0,2.3256000000000001,58.139499999999998,25.581399999999999,13.9535,41.860500000000002,18.604700000000001,53.488399999999999,13.9535,16.2791,2.3256000000000001,13.9535,32.558100000000003,23.255800000000001,0,0,0,0,0,13.9535,23.255800000000001,62.790700000000001,34.883699999999997,27.907,18.604700000000001,86.046499999999995,58.139499999999998,86.046499999999995,27.907,58.139499999999998,62.790700000000001,23.255800000000001,51.162799999999997,37.209299999999999,9.3023000000000007,60.4651,48.837200000000003,32.558100000000003,27.907,58.139499999999998,100,100,100,100,100,41.860500000000002,100,58.139499999999998,93.023300000000006,62.790700000000001,41.860500000000002,100,58.139499999999998,100,100,100,100,58.139499999999998,100,76.744200000000006,100,93.023300000000006,100,93.023300000000006,100,100,100,27.907,100,58.139499999999998,27.907,100,58.139499999999998,100,100,100,100,100,93.023300000000006,72.093000000000004,100,0,72.093000000000004,81.395300000000006,81.395300000000006,86.046499999999995,93.023300000000006,100,86.046499999999995,93.023300000000006,100,93.023300000000006,34.883699999999997,93.023300000000006,100,100,100,100,76.744200000000006,76.744200000000006,76.744200000000006,86.046499999999995,58.139499999999998,41.860500000000002,100,65.116299999999995,86.046499999999995,100,62.790700000000001,81.395300000000006,100,93.023300000000006,65.116299999999995,86.046499999999995,81.395300000000006,46.511600000000001,69.767399999999995,100,51.162799999999997,76.744200000000006,69.767399999999995,58.139499999999998,100,58.139499999999998,65.116299999999995,72.093000000000004,0,69.767399999999995,100,81.395300000000006,69.767399999999995,93.023300000000006,86.046499999999995,100,100,58.139499999999998,51.162799999999997,81.395300000000006,81.395300000000006,100,100,100,100,100,93.023300000000006,88.372100000000003,100,56.818199999999997,100,4.5454999999999997,65.909099999999995,76.744200000000006,79.069800000000001,51.162799999999997,100,95.348799999999997,93.023300000000006,100,13.9535,86.363600000000005,86.046499999999995,100,93.181799999999996,56.818199999999997,77.2727,95.348799999999997,100,39.5349,100,93.181799999999996,56.818199999999997,100,100,58.139499999999998,65.909099999999995,16.2791,76.744200000000006,95.348799999999997,43.181800000000003,95.348799999999997,90.909099999999995,16.2791,0,68.181799999999996,77.2727,68.181799999999996,93.023300000000006,41.860500000000002,36.363599999999998,77.2727,34.090899999999998,81.395300000000006,81.818200000000004,61.363599999999998,41.860500000000002,93.023300000000006,56.818199999999997,93.181799999999996,59.090899999999998,61.363599999999998,25,61.363599999999998,27.2727,40.909100000000002,56.818199999999997,32.558100000000003,61.363599999999998,61.363599999999998],"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#00a19c"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[37.209299999999999,61.363599999999998,76.744200000000006,77.2727,27.2727,68.181799999999996,58.139499999999998,4.6512000000000002,32.558100000000003,67.441900000000004,72.093000000000004,100,23.255800000000001,37.209299999999999,50,41.860500000000002,30.232600000000001,45.454500000000003,53.488399999999999,75,34.883699999999997,22.7273,56.818199999999997,45.454500000000003,48.837200000000003],"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#80142b"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[47.735042106476079,55.229461208920739,56.994354680575697,61.580204531435683,63.496527939003471,57.620424831215132,61.284577147293845,63.967587044337179,69.708971989933289,21.569923763809086,42.790434173133306,67.13557117424044,49.731716832714262,62.536698326169557,55.177408229219054,51.192846169942996,21.165219312097527,36.324967984752817,37.549903299091994,43.903151952890759,45.119326274907579,74.297008998771588,53.765806441704179,31.10638265095632,47.854363629378007],"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#c6c6c6"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="williams-1" class="level2">
<h2 class="anchored" data-anchor-id="williams-1">Williams</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>williams_fit_model <span class="ot">&lt;-</span> <span class="fu">fitted_model</span>(<span class="st">'models/williams_model.rda'</span>, williams_train, williams_best_model<span class="sc">$</span>best_pdq, williams_best_model<span class="sc">$</span>best_PDQ)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(williams_fit_model)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="timeseries_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(3,1,3)(1,1,1)[25]
Q* = 24.201, df = 41, p-value = 0.9829

Model df: 8.   Total lags used: 49</code></pre>
</div>
</div>
<section id="forecasting-sin-rolling-3" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-sin-rolling-3">Forecasting sin rolling</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>williams_pred_25 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(williams_fit_model, <span class="at">h =</span> <span class="dv">25</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>williams_pred_25</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Point Forecast      Lo 80    Hi 80     Lo 95    Hi 95
2022.72    -2.92262198 -16.494597 10.64935 -23.67917 17.83392
2022.76    -1.66065607 -16.129885 12.80857 -23.78943 20.46812
2022.80     4.25142274 -11.204597 19.70744 -19.38652 27.88937
2022.84     0.10730987 -16.041396 16.25602 -24.59000 24.80462
2022.88    -1.02135177 -17.391565 15.34886 -26.05743 24.01473
2022.92     0.87879321 -15.812818 17.57040 -24.64882 26.40641
2022.96     7.39704629  -9.980915 24.77501 -19.18025 33.97434
2023.00     6.83030797 -11.080986 24.74160 -20.56265 34.22327
2023.04     2.11998645 -16.037032 20.27701 -25.64878 29.88875
2023.08     3.85567844 -14.633726 22.34508 -24.42143 32.13278
2023.12    -0.01034271 -19.077553 19.05687 -29.17112 29.15044
2023.16     2.86309429 -16.649794 22.37598 -26.97929 32.70548
2023.20    -0.95690395 -20.721597 18.80779 -31.18439 29.27059
2023.24     5.58340684 -14.515580 25.68239 -25.15534 36.32215
2023.28     4.62993092 -15.967528 25.22739 -26.87116 36.13103
2023.32     4.70479399 -16.280505 25.69009 -27.38945 36.79904
2023.36     4.49578553 -16.745647 25.73722 -27.99018 36.98175
2023.40     1.96002664 -19.611209 23.53126 -31.03033 34.95038
2023.44     5.27471400 -16.735345 27.28477 -28.38677 38.93619
2023.48     1.67422779 -20.683945 24.03240 -32.51965 35.86810
2023.52     1.09712036 -21.519391 23.71363 -33.49185 35.68609
2023.56     5.16411475 -17.773734 28.10196 -29.91630 40.24453
2023.60     8.07904394 -15.251975 31.41006 -27.60267 43.76076
2023.64     0.99622808 -22.654654 24.64711 -35.17467 37.16713
2023.68     0.91093394 -22.998385 24.82025 -35.65521 37.47708</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_forecast</span>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    williams_pred_25,</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Pronóstico últimas 25 carreras Williams"</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">""</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Year"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#00a3e0'</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-e31f7c6548de4cbb8405" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e31f7c6548de4cbb8405">{"x":{"visdat":{"6e7032f47a5e":["function () ","plotlyVisDat"]},"cur_data":"6e7032f47a5e","attrs":{"6e7032f47a5e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[2.3256000000000001,9.3023000000000007,2.3256000000000001,0,4.6512000000000002,0,0,0,27.907,25.581399999999999,0,20.930199999999999,0,16.2791,20.930199999999999,4.6512000000000002,16.2791,9.3023000000000007,0,0,0,0,0,0,4.6512000000000002,4.6512000000000002,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,0,18.604700000000001,23.255800000000001,0,58.139499999999998,2.3256000000000001,0,2.3256000000000001,4.6512000000000002,0,13.9535,0,2.3256000000000001,0,9.3023000000000007,0,2.3256000000000001,32.558100000000003,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,9.3023000000000007,0,23.255800000000001,23.255800000000001,23.255800000000001,13.9535,23.255800000000001,13.9535,13.9535,62.790700000000001,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,62.790700000000001,23.255800000000001,32.558100000000003,34.883699999999997,51.162799999999997,37.209299999999999,76.744200000000006,27.907,41.860500000000002,41.860500000000002,30.232600000000001,46.511600000000001,0,53.488399999999999,58.139499999999998,51.162799999999997,0,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,27.907,0,53.488399999999999,23.255800000000001,9.3023000000000007,32.558100000000003,13.9535,20.930199999999999,51.162799999999997,32.558100000000003,2.3256000000000001,34.883699999999997,20.930199999999999,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,11.6279,23.255800000000001,0,23.255800000000001,6.9767000000000001,13.9535,13.9535,0,4.6512000000000002,18.604700000000001,0,18.604700000000001,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,34.883699999999997,6.9767000000000001,2.3256000000000001,0,9.3023000000000007,23.255800000000001,9.3023000000000007,13.9535,2.3256000000000001,4.6512000000000002,18.604700000000001,13.9535,2.3256000000000001,0,0,0,9.3023000000000007,0,0,0,0,0,0,0,0,0,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23.255800000000001,45.454500000000003,0,4.5454999999999997,2.3256000000000001,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,4.5454999999999997,0,0,0,0],"type":"scatter","mode":"lines","name":"Observed","line":{"width":2,"color":"#00a3e0"},"inherit":true},"6e7032f47a5e.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[-16.494597137644476,-16.129885239884381,-11.204597332496832,-16.041395810899189,-17.391564960889756,-15.812817769712293,-9.9809146297641504,-11.080986389814658,-16.037032263119499,-14.633726418497668,-19.077552570621268,-16.649793655599836,-20.721597162364205,-14.515580038957115,-15.967528061410782,-16.280505058467099,-16.745647393999576,-19.611208616885403,-16.735345007217333,-20.683945473558992,-21.519391107258436,-17.773733638192297,-15.251974520942138,-22.654653544793717,-22.998385216794293],"ymax":[10.649353178177169,12.808573108359429,19.707442803237168,16.256015551278104,15.3488614176993,17.570404180780766,24.775007209035884,24.741602329240141,20.277005164149834,22.345083298127676,19.056867151054849,22.375982233550125,18.807789264972207,25.682393716009184,25.227389891632313,25.690093045344241,25.73721846356235,23.531261901812048,27.284773008866395,24.032401057831237,23.713631829581963,28.101963146389032,31.410062402629894,24.647109705249846,24.820253102130547],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray75"],"name":"80% confidence","inherit":true},"6e7032f47a5e.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[-23.679166799117091,-23.789432486306904,-19.386520123740922,-24.590004215975249,-26.057432357728466,-24.648822877189922,-19.180251450462929,-20.562652879467667,-25.64877736838028,-24.421426120135337,-29.171123764292382,-26.979292575482056,-31.184393739800097,-25.15534099240481,-26.871164204591224,-27.389451335705942,-27.990182755337287,-31.030330786031914,-28.386766436781869,-32.519647459576198,-33.491849076992281,-29.916297100125274,-27.60266964538032,-35.174673999677026,-35.655214238428158],"ymax":[17.833922839649787,20.468120354781949,27.889365594481255,24.804623956354163,24.01472881453801,26.406409288258395,33.974344029734667,34.223268818893146,29.888750269410608,32.132782999765347,29.150438344725963,32.705481153432345,29.270585842408099,36.322154669456879,36.131026034812756,36.799039322583084,36.981753824900053,34.950384070958563,38.936194438430931,35.868103043848443,35.686089799315809,40.244526608322005,43.76075752706808,37.167130160133155,37.477082123764418],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray85"],"name":"95% confidence","inherit":true},"6e7032f47a5e.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[-2.9226219797336532,-1.6606560657624767,4.2514227353701672,0.10730987018945548,-1.0213517715952269,0.87879320553423668,7.3970462896358669,6.8303079697127416,2.1199864505151655,3.8556784398150032,-0.010342709783208281,2.8630942889751432,-0.95690394869599782,5.5834068385260345,4.6299309151107657,4.704793993438571,4.4957855347813851,1.9600266424633226,5.274714000824531,1.6742277921361213,1.0971203611617653,5.1641147540983674,8.0790439408438779,0.99622808022806275,0.91093394266812755],"type":"scatter","mode":"lines","name":"Forecasted","line":{"width":2,"color":"#00a3e0","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Pronóstico últimas 25 carreras Williams","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"showticklabels":false},"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[2.3256000000000001,9.3023000000000007,2.3256000000000001,0,4.6512000000000002,0,0,0,27.907,25.581399999999999,0,20.930199999999999,0,16.2791,20.930199999999999,4.6512000000000002,16.2791,9.3023000000000007,0,0,0,0,0,0,4.6512000000000002,4.6512000000000002,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,0,18.604700000000001,23.255800000000001,0,58.139499999999998,2.3256000000000001,0,2.3256000000000001,4.6512000000000002,0,13.9535,0,2.3256000000000001,0,9.3023000000000007,0,2.3256000000000001,32.558100000000003,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,9.3023000000000007,0,23.255800000000001,23.255800000000001,23.255800000000001,13.9535,23.255800000000001,13.9535,13.9535,62.790700000000001,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,62.790700000000001,23.255800000000001,32.558100000000003,34.883699999999997,51.162799999999997,37.209299999999999,76.744200000000006,27.907,41.860500000000002,41.860500000000002,30.232600000000001,46.511600000000001,0,53.488399999999999,58.139499999999998,51.162799999999997,0,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,27.907,0,53.488399999999999,23.255800000000001,9.3023000000000007,32.558100000000003,13.9535,20.930199999999999,51.162799999999997,32.558100000000003,2.3256000000000001,34.883699999999997,20.930199999999999,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,11.6279,23.255800000000001,0,23.255800000000001,6.9767000000000001,13.9535,13.9535,0,4.6512000000000002,18.604700000000001,0,18.604700000000001,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,34.883699999999997,6.9767000000000001,2.3256000000000001,0,9.3023000000000007,23.255800000000001,9.3023000000000007,13.9535,2.3256000000000001,4.6512000000000002,18.604700000000001,13.9535,2.3256000000000001,0,0,0,9.3023000000000007,0,0,0,0,0,0,0,0,0,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23.255800000000001,45.454500000000003,0,4.5454999999999997,2.3256000000000001,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,4.5454999999999997,0,0,0,0],"type":"scatter","mode":"lines","name":"Observed","line":{"color":"#00a3e0","width":2},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(191,191,191,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"80% confidence","y":[-16.494597137644476,-16.129885239884381,-11.204597332496832,-16.041395810899189,-17.391564960889756,-15.812817769712293,-9.9809146297641504,-11.080986389814658,-16.037032263119499,-14.633726418497668,-19.077552570621268,-16.649793655599836,-20.721597162364205,-14.515580038957115,-15.967528061410782,-16.280505058467099,-16.745647393999576,-19.611208616885403,-16.735345007217333,-20.683945473558992,-21.519391107258436,-17.773733638192297,-15.251974520942138,-22.654653544793717,-22.998385216794293,-22.998385216794293,24.820253102130547,24.647109705249846,31.410062402629894,28.101963146389032,23.713631829581963,24.032401057831237,27.284773008866395,23.531261901812048,25.73721846356235,25.690093045344241,25.227389891632313,25.682393716009184,18.807789264972207,22.375982233550125,19.056867151054849,22.345083298127676,20.277005164149834,24.741602329240141,24.775007209035884,17.570404180780766,15.3488614176993,16.256015551278104,19.707442803237168,12.808573108359429,10.649353178177169],"marker":{"color":"rgba(191,191,191,1)","line":{"color":"rgba(191,191,191,1)"}},"textfont":{"color":"rgba(191,191,191,1)"},"error_y":{"color":"rgba(191,191,191,1)"},"error_x":{"color":"rgba(191,191,191,1)"},"line":{"color":"rgba(191,191,191,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(217,217,217,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"95% confidence","y":[-23.679166799117091,-23.789432486306904,-19.386520123740922,-24.590004215975249,-26.057432357728466,-24.648822877189922,-19.180251450462929,-20.562652879467667,-25.64877736838028,-24.421426120135337,-29.171123764292382,-26.979292575482056,-31.184393739800097,-25.15534099240481,-26.871164204591224,-27.389451335705942,-27.990182755337287,-31.030330786031914,-28.386766436781869,-32.519647459576198,-33.491849076992281,-29.916297100125274,-27.60266964538032,-35.174673999677026,-35.655214238428158,-35.655214238428158,37.477082123764418,37.167130160133155,43.76075752706808,40.244526608322005,35.686089799315809,35.868103043848443,38.936194438430931,34.950384070958563,36.981753824900053,36.799039322583084,36.131026034812756,36.322154669456879,29.270585842408099,32.705481153432345,29.150438344725963,32.132782999765347,29.888750269410608,34.223268818893146,33.974344029734667,26.406409288258395,24.01472881453801,24.804623956354163,27.889365594481255,20.468120354781949,17.833922839649787],"marker":{"color":"rgba(217,217,217,1)","line":{"color":"rgba(217,217,217,1)"}},"textfont":{"color":"rgba(217,217,217,1)"},"error_y":{"color":"rgba(217,217,217,1)"},"error_x":{"color":"rgba(217,217,217,1)"},"line":{"color":"rgba(217,217,217,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[-2.9226219797336532,-1.6606560657624767,4.2514227353701672,0.10730987018945548,-1.0213517715952269,0.87879320553423668,7.3970462896358669,6.8303079697127416,2.1199864505151655,3.8556784398150032,-0.010342709783208281,2.8630942889751432,-0.95690394869599782,5.5834068385260345,4.6299309151107657,4.704793993438571,4.4957855347813851,1.9600266424633226,5.274714000824531,1.6742277921361213,1.0971203611617653,5.1641147540983674,8.0790439408438779,0.99622808022806275,0.91093394266812755],"type":"scatter","mode":"lines","name":"Forecasted","line":{"color":"#00a3e0","width":2,"dash":"dash"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="rolling-forecasting-3" class="level3">
<h3 class="anchored" data-anchor-id="rolling-forecasting-3">Rolling Forecasting</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>predicciones_williams <span class="ot">&lt;-</span> <span class="fu">pred_rolling</span>(williams_train, williams_test, williams_fit_model)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>df_entrenamiento <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(williams_train), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(williams_train))</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>df_prueba <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(williams_test), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(williams_test))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>df_predicciones <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(williams_test), <span class="at">Valor =</span> predicciones_williams)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>p_williams <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_entrenamiento, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Entrenamiento"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#00a3e0'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_prueba, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Prueba"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#e40046'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_predicciones, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Predicción"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#041e42'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Predicción ARIMA Rolling -"</span>, <span class="dv">25</span>, <span class="st">"premios"</span>),</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Año"</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>p_williams</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-220e0f95c037d49d7dcf" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-220e0f95c037d49d7dcf">{"x":{"visdat":{"6e7047071d1f":["function () ","plotlyVisDat"],"6e70268e7b4b":["function () ","data"],"6e702d663bcf":["function () ","data"],"6e7041551b4":["function () ","data"]},"cur_data":"6e7041551b4","attrs":{"6e70268e7b4b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#00a3e0"},"inherit":true},"6e702d663bcf":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#e40046"},"inherit":true},"6e7041551b4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#041e42"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Predicción ARIMA Rolling - 25 premios","xaxis":{"domain":[0,1],"automargin":true,"title":"Año","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"color":"white"},"showlegend":true,"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001],"y":[2.3256000000000001,9.3023000000000007,2.3256000000000001,0,4.6512000000000002,0,0,0,27.907,25.581399999999999,0,20.930199999999999,0,16.2791,20.930199999999999,4.6512000000000002,16.2791,9.3023000000000007,0,0,0,0,0,0,4.6512000000000002,4.6512000000000002,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,0,18.604700000000001,23.255800000000001,0,58.139499999999998,2.3256000000000001,0,2.3256000000000001,4.6512000000000002,0,13.9535,0,2.3256000000000001,0,9.3023000000000007,0,2.3256000000000001,32.558100000000003,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,0,9.3023000000000007,0,23.255800000000001,23.255800000000001,23.255800000000001,13.9535,23.255800000000001,13.9535,13.9535,62.790700000000001,41.860500000000002,41.860500000000002,32.558100000000003,34.883699999999997,62.790700000000001,23.255800000000001,32.558100000000003,34.883699999999997,51.162799999999997,37.209299999999999,76.744200000000006,27.907,41.860500000000002,41.860500000000002,30.232600000000001,46.511600000000001,0,53.488399999999999,58.139499999999998,51.162799999999997,0,23.255800000000001,62.790700000000001,23.255800000000001,23.255800000000001,27.907,0,53.488399999999999,23.255800000000001,9.3023000000000007,32.558100000000003,13.9535,20.930199999999999,51.162799999999997,32.558100000000003,2.3256000000000001,34.883699999999997,20.930199999999999,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,11.6279,23.255800000000001,0,23.255800000000001,6.9767000000000001,13.9535,13.9535,0,4.6512000000000002,18.604700000000001,0,18.604700000000001,4.6512000000000002,0,4.6512000000000002,4.6512000000000002,34.883699999999997,6.9767000000000001,2.3256000000000001,0,9.3023000000000007,23.255800000000001,9.3023000000000007,13.9535,2.3256000000000001,4.6512000000000002,18.604700000000001,13.9535,2.3256000000000001,0,0,0,9.3023000000000007,0,0,0,0,0,0,0,0,0,6.9767000000000001,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23.255800000000001,45.454500000000003,0,4.5454999999999997,2.3256000000000001,0,0,0,0,0,0,0,0,0,2.2726999999999999,0,4.5454999999999997,0,0,0,0],"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#00a3e0"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[0,0,0,0,2.2726999999999999,0,4.6512000000000002,0,4.6512000000000002,0,0,0,0,2.3256000000000001,0,0,0,0,0,0,13.9535,0,9.0908999999999995,0,0],"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#e40046"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[0,0,12.194729089497574,0,0,0,15.204247346571243,5.8790769495870441,0,0.12802827588015742,9.6258890149198546,2.487384022190664,0,4.1270138626592434,9.7555432901803769,0.26266724193481689,0,1.0073340483302942,13.86820965419783,0,0,10.41313804432777,19.013475723919473,0.94525518832511757,0],"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#041e42"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="mclaren-1" class="level2">
<h2 class="anchored" data-anchor-id="mclaren-1">McLaren</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>mclaren_fit_model <span class="ot">&lt;-</span> <span class="fu">fitted_model</span>(<span class="st">'models/mclaren_model.rda'</span>, mclaren_train, mclaren_best_model<span class="sc">$</span>best_pdq, mclaren_best_model<span class="sc">$</span>best_PDQ)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">checkresiduals</span>(mclaren_fit_model)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="timeseries_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals from ARIMA(3,1,3)(1,1,1)[25]
Q* = 50.772, df = 41, p-value = 0.141

Model df: 8.   Total lags used: 49</code></pre>
</div>
</div>
<section id="forecasting-sin-rolling-4" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-sin-rolling-4">Forecasting sin rolling</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>mclaren_pred_25 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(mclaren_fit_model, <span class="at">h =</span> <span class="dv">25</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>mclaren_pred_25</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Point Forecast       Lo 80    Hi 80      Lo 95    Hi 95
2022.72       27.29786   3.6223290 50.97340  -8.910742 63.50647
2022.76       23.64509  -0.6467697 47.93695 -13.506104 60.79628
2022.80       33.12711   8.5853564 57.66886  -4.406261 70.66047
2022.84       32.54800   7.9552240 57.14077  -5.063403 70.15940
2022.88       21.12748  -3.9615711 46.21653 -17.242912 59.49787
2022.92       22.41200  -2.6930942 47.51710 -15.982931 60.80694
2022.96       13.70429 -11.8348902 39.24348 -25.354518 52.76311
2023.00       34.16183   8.5404978 59.78317  -5.022618 73.34629
2023.04       26.75649   0.9551518 52.55784 -12.703254 66.21624
2023.08       22.37703  -3.6981238 48.45218 -17.501475 62.25553
2023.12       30.29711   4.1688176 56.42540  -9.662663 70.25688
2023.16       20.30576  -6.2131738 46.82468 -20.251447 60.86296
2023.20       18.70793  -7.8608388 45.27670 -21.925496 59.34136
2023.24       17.45056  -9.4028716 44.30400 -23.618222 58.51935
2023.28       18.26857  -8.7222396 45.25938 -23.010310 59.54745
2023.32       20.43566  -6.6844274 47.55574 -21.040934 61.91225
2023.36       17.93969  -9.4508444 45.33022 -23.950515 59.82989
2023.40       21.03588  -6.4211569 48.49291 -20.956032 63.02778
2023.44       24.78511  -2.9707030 52.54093 -17.663745 67.23397
2023.48       21.18122  -6.6615364 49.02399 -21.400604 63.76305
2023.52       24.27119  -3.7749784 52.31736 -18.621725 67.16411
2023.56       14.47817 -13.7378950 42.69424 -28.674578 57.63092
2023.60       20.32873  -7.9982275 48.65569 -22.993613 63.65107
2023.64       17.61866 -10.9545177 46.19184 -26.080245 61.31757
2023.68       18.00467 -10.6529797 46.66233 -25.823424 61.83277</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_forecast</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    mclaren_pred_25,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Pronóstico últimas 25 carreras McLaren"</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ytitle =</span> <span class="st">""</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Xtitle =</span> <span class="st">"Year"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">'#ff8000'</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>fig <span class="sc">%&gt;%</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">showticklabels =</span> F),</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-e5424b5ef9ea6fd328d3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e5424b5ef9ea6fd328d3">{"x":{"visdat":{"6e7030a366ff":["function () ","plotlyVisDat"]},"cur_data":"6e7030a366ff","attrs":{"6e7030a366ff":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[48.837200000000003,76.744200000000006,27.907,100,23.255800000000001,23.255800000000001,100,100,76.744200000000006,69.767399999999995,51.162799999999997,9.3023000000000007,58.139499999999998,41.860500000000002,27.907,51.162799999999997,41.860500000000002,51.162799999999997,76.744200000000006,60.4651,51.162799999999997,86.046499999999995,46.511600000000001,76.744200000000006,53.488399999999999,58.139499999999998,46.511600000000001,27.907,58.139499999999998,86.046499999999995,34.883699999999997,69.767399999999995,65.116299999999995,81.395300000000006,69.767399999999995,55.814,93.023300000000006,34.883699999999997,93.023300000000006,34.883699999999997,76.744200000000006,9.3023000000000007,13.9535,23.255800000000001,58.139499999999998,9.3023000000000007,11.6279,41.860500000000002,76.744200000000006,58.139499999999998,58.139499999999998,41.860500000000002,51.162799999999997,2.3256000000000001,51.162799999999997,27.907,81.395300000000006,58.139499999999998,4.6512000000000002,4.6512000000000002,23.255800000000001,20.930199999999999,13.9535,18.604700000000001,0,0,27.907,18.604700000000001,18.604700000000001,2.3256000000000001,23.255800000000001,11.6279,4.6512000000000002,23.255800000000001,4.6512000000000002,16.2791,46.511600000000001,76.744200000000006,23.255800000000001,0,0,0,20.930199999999999,32.558100000000003,13.9535,41.860500000000002,13.9535,2.3256000000000001,18.604700000000001,11.6279,2.3256000000000001,23.255800000000001,51.162799999999997,9.3023000000000007,32.558100000000003,23.255800000000001,0,0,0,0,0,9.3023000000000007,0,0,2.3256000000000001,27.907,0,0,0,0,4.6512000000000002,18.604700000000001,0,0,0,0,2.3256000000000001,0,20.930199999999999,4.6512000000000002,27.907,0,0,18.604700000000001,0,13.9535,9.3023000000000007,13.9535,0,13.9535,18.604700000000001,0,27.907,0,2.3256000000000001,2.3256000000000001,0,0,0,0,0,0,0,4.6512000000000002,0,0,20.930199999999999,0,0,13.9535,13.9535,0,0,2.3256000000000001,9.3023000000000007,4.6512000000000002,27.907,23.255800000000001,13.9535,18.604700000000001,9.3023000000000007,0,0,0,9.3023000000000007,9.3023000000000007,0,9.3023000000000007,0,0,13.9535,0,0,0,9.3023000000000007,0,0,0,18.604700000000001,0,23.255800000000001,9.0908999999999995,18.604700000000001,0,23.255800000000001,27.2727,18.181799999999999,22.7273,27.2727,0,2.3256000000000001,13.9535,27.2727,23.255800000000001,0,23.255800000000001,44.186,11.3636,60.4651,30.232600000000001,4.5454999999999997,22.7273,4.5454999999999997,20.930199999999999,13.9535,69.767399999999995,18.181799999999999,0,22.7273,18.181799999999999,22.7273,34.883699999999997,50,30.232600000000001,41.860500000000002,41.860500000000002,52.2727,27.907,27.2727,34.883699999999997,27.907,40.909100000000002,22.7273,47.7273,51.162799999999997,0,27.2727,2.2726999999999999,100,44.186,13.6364,31.818200000000001,2.3256000000000001,2.3256000000000001,4.5454999999999997,25,13.6364,0,13.6364,40.909100000000002,34.090899999999998,0,9.0908999999999995,20.930199999999999,13.6364,0],"type":"scatter","mode":"lines","name":"Observed","line":{"width":2,"color":"#ff8000"},"inherit":true},"6e7030a366ff.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[3.6223290024101189,-0.64676970989003379,8.5853564187201279,7.9552240340583502,-3.9615710865246285,-2.6930942023559936,-11.834890167476843,8.5404978334797264,0.95515176729054474,-3.6981238470309385,4.1688176456356416,-6.2131737644999738,-7.8608387647256244,-9.402871581248192,-8.7222396098427488,-6.6844274389052778,-9.4508443774182531,-6.421156939097262,-2.9707030208506247,-6.6615363781902808,-3.7749784360205574,-13.737894990686648,-7.9982274937647908,-10.954517678095307,-10.652979684614532],"ymax":[50.973399742445324,47.936950737484068,57.66885604831073,57.1407686560824,46.216529209347087,47.517102578014516,39.243479628177646,59.78317021604456,52.557835928171215,48.452179759094491,56.425396382334199,46.824684675685191,45.276699277099425,44.303999597521198,45.259376471533542,47.555744312032786,45.330215811221152,48.49290841016294,52.540929804723561,49.023985544326564,52.317363954961323,42.694235835004797,48.655687037551985,46.191842290780464,46.662325084136896],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray75"],"name":"80% confidence","inherit":true},"6e7030a366ff.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"ymin":[-8.9107423567283028,-13.506103738519428,-4.4062611687947708,-5.0634032314220718,-17.242911969539627,-15.98293051164783,-25.354517993255602,-5.0226182601260447,-12.703253688039162,-17.501475413982604,-9.6626632492141695,-20.251446905485096,-21.925495502551925,-23.618221697723108,-23.010310309318559,-21.040933690234148,-23.950515150290077,-20.956032051451629,-17.6637446900641,-21.400603711163789,-18.621724642606516,-28.674577763281967,-22.993612867282422,-26.080245485542115,-25.82342447943892],"ymax":[63.506471101583742,60.796284766113459,70.660473635825625,70.159395921562819,59.497870092362085,60.806938887306352,52.763107453956408,73.346286309650338,66.216241383500915,62.255531326046153,70.256877277184003,60.862957816670317,59.341356014925722,58.519349713996114,59.547447171009352,61.91225056336166,59.829886584092975,63.027783522517311,67.233971473937032,63.763052877300076,67.164110161547285,57.630918607600115,63.65107241106962,61.317570098227272,61.83276987896128],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","color":["gray85"],"name":"95% confidence","inherit":true},"6e7030a366ff.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[27.297864372427721,23.645090513797015,33.127106233515427,32.547996345070374,21.127479061411229,22.412004187829261,13.704294730350401,34.161834024762143,26.75649384773088,22.377027956031775,30.29710701398492,20.30575545559261,18.707930256186899,17.450564008136503,18.268568430845395,20.435658436563756,17.939685716901447,21.035875735532841,24.78511339193647,21.181224583068143,24.271192759470381,14.478170422159074,20.328729771893599,17.618662306342578,18.00467269976118],"type":"scatter","mode":"lines","name":"Forecasted","line":{"width":2,"color":"#ff8000","dash":"dash"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Pronóstico últimas 25 carreras McLaren","xaxis":{"domain":[0,1],"automargin":true,"title":"Year","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"showticklabels":false},"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","showlegend":false,"font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.9200000000001,2012.96,2013,2013.04,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.28,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.52,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.76,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.04,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.28,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.52,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.04,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.28,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.52,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.04,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.28,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5599999999999,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.04,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.28,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5599999999999,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.04,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3199999999999,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5599999999999,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.04,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3199999999999,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5599999999999,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0799999999999,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3199999999999,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5599999999999,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0799999999999,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3199999999999,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5599999999999,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0799999999999,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3199999999999,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5599999999999,2022.6000000000001,2022.6400000000001,2022.6800000000001,2022.72],"y":[48.837200000000003,76.744200000000006,27.907,100,23.255800000000001,23.255800000000001,100,100,76.744200000000006,69.767399999999995,51.162799999999997,9.3023000000000007,58.139499999999998,41.860500000000002,27.907,51.162799999999997,41.860500000000002,51.162799999999997,76.744200000000006,60.4651,51.162799999999997,86.046499999999995,46.511600000000001,76.744200000000006,53.488399999999999,58.139499999999998,46.511600000000001,27.907,58.139499999999998,86.046499999999995,34.883699999999997,69.767399999999995,65.116299999999995,81.395300000000006,69.767399999999995,55.814,93.023300000000006,34.883699999999997,93.023300000000006,34.883699999999997,76.744200000000006,9.3023000000000007,13.9535,23.255800000000001,58.139499999999998,9.3023000000000007,11.6279,41.860500000000002,76.744200000000006,58.139499999999998,58.139499999999998,41.860500000000002,51.162799999999997,2.3256000000000001,51.162799999999997,27.907,81.395300000000006,58.139499999999998,4.6512000000000002,4.6512000000000002,23.255800000000001,20.930199999999999,13.9535,18.604700000000001,0,0,27.907,18.604700000000001,18.604700000000001,2.3256000000000001,23.255800000000001,11.6279,4.6512000000000002,23.255800000000001,4.6512000000000002,16.2791,46.511600000000001,76.744200000000006,23.255800000000001,0,0,0,20.930199999999999,32.558100000000003,13.9535,41.860500000000002,13.9535,2.3256000000000001,18.604700000000001,11.6279,2.3256000000000001,23.255800000000001,51.162799999999997,9.3023000000000007,32.558100000000003,23.255800000000001,0,0,0,0,0,9.3023000000000007,0,0,2.3256000000000001,27.907,0,0,0,0,4.6512000000000002,18.604700000000001,0,0,0,0,2.3256000000000001,0,20.930199999999999,4.6512000000000002,27.907,0,0,18.604700000000001,0,13.9535,9.3023000000000007,13.9535,0,13.9535,18.604700000000001,0,27.907,0,2.3256000000000001,2.3256000000000001,0,0,0,0,0,0,0,4.6512000000000002,0,0,20.930199999999999,0,0,13.9535,13.9535,0,0,2.3256000000000001,9.3023000000000007,4.6512000000000002,27.907,23.255800000000001,13.9535,18.604700000000001,9.3023000000000007,0,0,0,9.3023000000000007,9.3023000000000007,0,9.3023000000000007,0,0,13.9535,0,0,0,9.3023000000000007,0,0,0,18.604700000000001,0,23.255800000000001,9.0908999999999995,18.604700000000001,0,23.255800000000001,27.2727,18.181799999999999,22.7273,27.2727,0,2.3256000000000001,13.9535,27.2727,23.255800000000001,0,23.255800000000001,44.186,11.3636,60.4651,30.232600000000001,4.5454999999999997,22.7273,4.5454999999999997,20.930199999999999,13.9535,69.767399999999995,18.181799999999999,0,22.7273,18.181799999999999,22.7273,34.883699999999997,50,30.232600000000001,41.860500000000002,41.860500000000002,52.2727,27.907,27.2727,34.883699999999997,27.907,40.909100000000002,22.7273,47.7273,51.162799999999997,0,27.2727,2.2726999999999999,100,44.186,13.6364,31.818200000000001,2.3256000000000001,2.3256000000000001,4.5454999999999997,25,13.6364,0,13.6364,40.909100000000002,34.090899999999998,0,9.0908999999999995,20.930199999999999,13.6364,0],"type":"scatter","mode":"lines","name":"Observed","line":{"color":"#ff8000","width":2},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(191,191,191,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"80% confidence","y":[3.6223290024101189,-0.64676970989003379,8.5853564187201279,7.9552240340583502,-3.9615710865246285,-2.6930942023559936,-11.834890167476843,8.5404978334797264,0.95515176729054474,-3.6981238470309385,4.1688176456356416,-6.2131737644999738,-7.8608387647256244,-9.402871581248192,-8.7222396098427488,-6.6844274389052778,-9.4508443774182531,-6.421156939097262,-2.9707030208506247,-6.6615363781902808,-3.7749784360205574,-13.737894990686648,-7.9982274937647908,-10.954517678095307,-10.652979684614532,-10.652979684614532,46.662325084136896,46.191842290780464,48.655687037551985,42.694235835004797,52.317363954961323,49.023985544326564,52.540929804723561,48.49290841016294,45.330215811221152,47.555744312032786,45.259376471533542,44.303999597521198,45.276699277099425,46.824684675685191,56.425396382334199,48.452179759094491,52.557835928171215,59.78317021604456,39.243479628177646,47.517102578014516,46.216529209347087,57.1407686560824,57.66885604831073,47.936950737484068,50.973399742445324],"marker":{"color":"rgba(191,191,191,1)","line":{"color":"rgba(191,191,191,1)"}},"textfont":{"color":"rgba(191,191,191,1)"},"error_y":{"color":"rgba(191,191,191,1)"},"error_x":{"color":"rgba(191,191,191,1)"},"line":{"color":"rgba(191,191,191,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(217,217,217,0.5)","x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72,2023.72,2023.72,2023.6800000000001,2023.6400000000001,2023.5999999999999,2023.5599999999999,2023.52,2023.48,2023.4400000000001,2023.4000000000001,2023.3600000000001,2023.3199999999999,2023.28,2023.24,2023.2,2023.1600000000001,2023.1199999999999,2023.0799999999999,2023.04,2023,2022.96,2022.9200000000001,2022.8800000000001,2022.8399999999999,2022.8,2022.76],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","name":"95% confidence","y":[-8.9107423567283028,-13.506103738519428,-4.4062611687947708,-5.0634032314220718,-17.242911969539627,-15.98293051164783,-25.354517993255602,-5.0226182601260447,-12.703253688039162,-17.501475413982604,-9.6626632492141695,-20.251446905485096,-21.925495502551925,-23.618221697723108,-23.010310309318559,-21.040933690234148,-23.950515150290077,-20.956032051451629,-17.6637446900641,-21.400603711163789,-18.621724642606516,-28.674577763281967,-22.993612867282422,-26.080245485542115,-25.82342447943892,-25.82342447943892,61.83276987896128,61.317570098227272,63.65107241106962,57.630918607600115,67.164110161547285,63.763052877300076,67.233971473937032,63.027783522517311,59.829886584092975,61.91225056336166,59.547447171009352,58.519349713996114,59.341356014925722,60.862957816670317,70.256877277184003,62.255531326046153,66.216241383500915,73.346286309650338,52.763107453956408,60.806938887306352,59.497870092362085,70.159395921562819,70.660473635825625,60.796284766113459,63.506471101583742],"marker":{"color":"rgba(217,217,217,1)","line":{"color":"rgba(217,217,217,1)"}},"textfont":{"color":"rgba(217,217,217,1)"},"error_y":{"color":"rgba(217,217,217,1)"},"error_x":{"color":"rgba(217,217,217,1)"},"line":{"color":"rgba(217,217,217,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.76,2022.8,2022.8399999999999,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1199999999999,2023.1600000000001,2023.2,2023.24,2023.28,2023.3199999999999,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.5999999999999,2023.6400000000001,2023.6800000000001,2023.72],"y":[27.297864372427721,23.645090513797015,33.127106233515427,32.547996345070374,21.127479061411229,22.412004187829261,13.704294730350401,34.161834024762143,26.75649384773088,22.377027956031775,30.29710701398492,20.30575545559261,18.707930256186899,17.450564008136503,18.268568430845395,20.435658436563756,17.939685716901447,21.035875735532841,24.78511339193647,21.181224583068143,24.271192759470381,14.478170422159074,20.328729771893599,17.618662306342578,18.00467269976118],"type":"scatter","mode":"lines","name":"Forecasted","line":{"color":"#ff8000","width":2,"dash":"dash"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="rolling-forecasting-4" class="level3">
<h3 class="anchored" data-anchor-id="rolling-forecasting-4">Rolling Forecasting</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>predicciones_mclaren <span class="ot">&lt;-</span> <span class="fu">pred_rolling</span>(mclaren_train, mclaren_test, mclaren_fit_model)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>df_entrenamiento <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(mclaren_train), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(mclaren_train))</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>df_prueba <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(mclaren_test), <span class="at">Valor =</span> <span class="fu">as.numeric</span>(mclaren_test))</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>df_predicciones <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Fecha =</span> <span class="fu">time</span>(mclaren_test), <span class="at">Valor =</span> predicciones_mclaren)</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>p_mclaren <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_entrenamiento, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Entrenamiento"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ff8000'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_prueba, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Prueba"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#47c7fc'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">data =</span> df_predicciones, <span class="at">x =</span> <span class="sc">~</span>Fecha, <span class="at">y =</span> <span class="sc">~</span>Valor, <span class="at">name =</span> <span class="st">"Predicción"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#fff'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Predicción ARIMA Rolling -"</span>, <span class="dv">25</span>, <span class="st">"premios"</span>),</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Año"</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">""</span>, <span class="at">gridcolor =</span> <span class="st">"#111"</span>, <span class="at">showline =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">'white'</span>),</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">showlegend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">paper_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot_bgcolor =</span> <span class="st">"rgba(0, 0, 0, 0.0)"</span>,</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">margin =</span> m</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>p_mclaren</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-1f13d2e3025ba8064613" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1f13d2e3025ba8064613">{"x":{"visdat":{"6e702c17e39":["function () ","plotlyVisDat"],"6e707b046cc1":["function () ","data"],"6e705a21496f":["function () ","data"],"6e7017ab5133":["function () ","data"]},"cur_data":"6e7017ab5133","attrs":{"6e707b046cc1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#ff8000"},"inherit":true},"6e705a21496f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#47c7fc"},"inherit":true},"6e7017ab5133":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#fff"},"inherit":true}},"layout":{"margin":{"b":0,"l":0,"t":80,"r":0},"title":"Predicción ARIMA Rolling - 25 premios","xaxis":{"domain":[0,1],"automargin":true,"title":"Año","gridcolor":"#111","showline":false,"color":"white"},"yaxis":{"domain":[0,1],"automargin":true,"title":"","gridcolor":"#111","showline":false,"color":"white"},"showlegend":true,"paper_bgcolor":"rgba(0, 0, 0, 0.0)","plot_bgcolor":"rgba(0, 0, 0, 0.0)","font":{"color":"white"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2012.8800000000001,2012.9200000000001,2012.96,2013,2013.0400000000002,2013.0800000000002,2013.1200000000001,2013.1600000000001,2013.2,2013.24,2013.2800000000002,2013.3200000000002,2013.3600000000001,2013.4000000000001,2013.4400000000001,2013.48,2013.5200000000002,2013.5600000000002,2013.6000000000001,2013.6400000000001,2013.6800000000001,2013.72,2013.7600000000002,2013.8000000000002,2013.8400000000001,2013.8800000000001,2013.9200000000001,2013.96,2014,2014.0400000000002,2014.0800000000002,2014.1200000000001,2014.1600000000001,2014.2,2014.24,2014.2800000000002,2014.3200000000002,2014.3600000000001,2014.4000000000001,2014.4400000000001,2014.48,2014.5200000000002,2014.5600000000002,2014.6000000000001,2014.6400000000001,2014.6800000000001,2014.72,2014.76,2014.8000000000002,2014.8400000000001,2014.8800000000001,2014.9200000000001,2014.96,2015,2015.0400000000002,2015.0800000000002,2015.1200000000001,2015.1600000000001,2015.2,2015.24,2015.2800000000002,2015.3200000000002,2015.3600000000001,2015.4000000000001,2015.4400000000001,2015.48,2015.5200000000002,2015.5600000000002,2015.6000000000001,2015.6400000000001,2015.6800000000001,2015.72,2015.76,2015.8000000000002,2015.8400000000001,2015.8800000000001,2015.9200000000001,2015.96,2016,2016.0400000000002,2016.0800000000002,2016.1200000000001,2016.1600000000001,2016.2,2016.24,2016.2800000000002,2016.3200000000002,2016.3600000000001,2016.4000000000001,2016.4400000000001,2016.48,2016.52,2016.5600000000002,2016.6000000000001,2016.6400000000001,2016.6800000000001,2016.72,2016.76,2016.8000000000002,2016.8400000000001,2016.8800000000001,2016.9200000000001,2016.96,2017,2017.0400000000002,2017.0800000000002,2017.1200000000001,2017.1600000000001,2017.2,2017.24,2017.2800000000002,2017.3200000000002,2017.3600000000001,2017.4000000000001,2017.4400000000001,2017.48,2017.52,2017.5600000000002,2017.6000000000001,2017.6400000000001,2017.6800000000001,2017.72,2017.76,2017.8000000000002,2017.8400000000001,2017.8800000000001,2017.9200000000001,2017.96,2018,2018.0400000000002,2018.0800000000002,2018.1200000000001,2018.1600000000001,2018.2,2018.24,2018.28,2018.3200000000002,2018.3600000000001,2018.4000000000001,2018.4400000000001,2018.48,2018.52,2018.5600000000002,2018.6000000000001,2018.6400000000001,2018.6800000000001,2018.72,2018.76,2018.8000000000002,2018.8400000000001,2018.8800000000001,2018.9200000000001,2018.96,2019,2019.0400000000002,2019.0800000000002,2019.1200000000001,2019.1600000000001,2019.2,2019.24,2019.28,2019.3200000000002,2019.3600000000001,2019.4000000000001,2019.4400000000001,2019.48,2019.52,2019.5600000000002,2019.6000000000001,2019.6400000000001,2019.6800000000001,2019.72,2019.76,2019.8000000000002,2019.8400000000001,2019.8800000000001,2019.9200000000001,2019.96,2020,2020.04,2020.0800000000002,2020.1200000000001,2020.1600000000001,2020.2,2020.24,2020.28,2020.3200000000002,2020.3600000000001,2020.4000000000001,2020.4400000000001,2020.48,2020.52,2020.5600000000002,2020.6000000000001,2020.6400000000001,2020.6800000000001,2020.72,2020.76,2020.8000000000002,2020.8400000000001,2020.8800000000001,2020.9200000000001,2020.96,2021,2021.04,2021.0800000000002,2021.1200000000001,2021.1600000000001,2021.2,2021.24,2021.28,2021.3200000000002,2021.3600000000001,2021.4000000000001,2021.4400000000001,2021.48,2021.52,2021.5600000000002,2021.6000000000001,2021.6400000000001,2021.6800000000001,2021.72,2021.76,2021.8000000000002,2021.8400000000001,2021.8800000000001,2021.9200000000001,2021.96,2022,2022.04,2022.0800000000002,2022.1200000000001,2022.1600000000001,2022.2,2022.24,2022.28,2022.3200000000002,2022.3600000000001,2022.4000000000001,2022.4400000000001,2022.48,2022.52,2022.5600000000002,2022.6000000000001,2022.6400000000001,2022.6800000000001],"y":[48.837200000000003,76.744200000000006,27.907,100,23.255800000000001,23.255800000000001,100,100,76.744200000000006,69.767399999999995,51.162799999999997,9.3023000000000007,58.139499999999998,41.860500000000002,27.907,51.162799999999997,41.860500000000002,51.162799999999997,76.744200000000006,60.4651,51.162799999999997,86.046499999999995,46.511600000000001,76.744200000000006,53.488399999999999,58.139499999999998,46.511600000000001,27.907,58.139499999999998,86.046499999999995,34.883699999999997,69.767399999999995,65.116299999999995,81.395300000000006,69.767399999999995,55.814,93.023300000000006,34.883699999999997,93.023300000000006,34.883699999999997,76.744200000000006,9.3023000000000007,13.9535,23.255800000000001,58.139499999999998,9.3023000000000007,11.6279,41.860500000000002,76.744200000000006,58.139499999999998,58.139499999999998,41.860500000000002,51.162799999999997,2.3256000000000001,51.162799999999997,27.907,81.395300000000006,58.139499999999998,4.6512000000000002,4.6512000000000002,23.255800000000001,20.930199999999999,13.9535,18.604700000000001,0,0,27.907,18.604700000000001,18.604700000000001,2.3256000000000001,23.255800000000001,11.6279,4.6512000000000002,23.255800000000001,4.6512000000000002,16.2791,46.511600000000001,76.744200000000006,23.255800000000001,0,0,0,20.930199999999999,32.558100000000003,13.9535,41.860500000000002,13.9535,2.3256000000000001,18.604700000000001,11.6279,2.3256000000000001,23.255800000000001,51.162799999999997,9.3023000000000007,32.558100000000003,23.255800000000001,0,0,0,0,0,9.3023000000000007,0,0,2.3256000000000001,27.907,0,0,0,0,4.6512000000000002,18.604700000000001,0,0,0,0,2.3256000000000001,0,20.930199999999999,4.6512000000000002,27.907,0,0,18.604700000000001,0,13.9535,9.3023000000000007,13.9535,0,13.9535,18.604700000000001,0,27.907,0,2.3256000000000001,2.3256000000000001,0,0,0,0,0,0,0,4.6512000000000002,0,0,20.930199999999999,0,0,13.9535,13.9535,0,0,2.3256000000000001,9.3023000000000007,4.6512000000000002,27.907,23.255800000000001,13.9535,18.604700000000001,9.3023000000000007,0,0,0,9.3023000000000007,9.3023000000000007,0,9.3023000000000007,0,0,13.9535,0,0,0,9.3023000000000007,0,0,0,18.604700000000001,0,23.255800000000001,9.0908999999999995,18.604700000000001,0,23.255800000000001,27.2727,18.181799999999999,22.7273,27.2727,0,2.3256000000000001,13.9535,27.2727,23.255800000000001,0,23.255800000000001,44.186,11.3636,60.4651,30.232600000000001,4.5454999999999997,22.7273,4.5454999999999997,20.930199999999999,13.9535,69.767399999999995,18.181799999999999,0,22.7273,18.181799999999999,22.7273,34.883699999999997,50,30.232600000000001,41.860500000000002,41.860500000000002,52.2727,27.907,27.2727,34.883699999999997,27.907,40.909100000000002,22.7273,47.7273,51.162799999999997,0,27.2727,2.2726999999999999,100,44.186,13.6364,31.818200000000001,2.3256000000000001,2.3256000000000001,4.5454999999999997,25,13.6364,0,13.6364,40.909100000000002,34.090899999999998,0,9.0908999999999995,20.930199999999999,13.6364,0],"type":"scatter","mode":"lines","name":"Entrenamiento","line":{"color":"#ff8000"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[18.604700000000001,18.181799999999999,18.604700000000001,13.6364,0,13.6364,13.9535,51.162799999999997,2.3256000000000001,18.604700000000001,18.604700000000001,0,25.581399999999999,0,0,27.907,4.6512000000000002,0,6.9767000000000001,0,0,27.2727,68.181799999999996,63.636400000000002,13.9535],"type":"scatter","mode":"lines","name":"Prueba","line":{"color":"#47c7fc"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2022.72,2022.76,2022.8,2022.8400000000001,2022.8800000000001,2022.9200000000001,2022.96,2023,2023.04,2023.0799999999999,2023.1200000000001,2023.1600000000001,2023.2,2023.24,2023.28,2023.3200000000002,2023.3600000000001,2023.4000000000001,2023.4400000000001,2023.48,2023.52,2023.5599999999999,2023.6000000000001,2023.6400000000001,2023.6800000000001],"y":[16.355367587818698,19.017755633656542,18.233298065501373,34.345263423116769,0,17.959952557158076,7.6032704640675561,23.847068217979619,33.075993222992508,6.6733965725148749,28.185435488601943,11.347254247999249,0,25.291379569435392,1.6534545548589916,19.417342731152615,8.2682723716486439,9.6632410658956509,18.46827931131056,2.3590073350303555,14.45346682318997,0,17.410706940358345,22.277414764581124,18.146351758050912],"type":"scatter","mode":"lines","name":"Predicción","line":{"color":"#fff"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
</section>
<section id="evaluación-de-los-modelos" class="level1">
<h1>Evaluación de los modelos</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>forecast_accuracy <span class="ot">&lt;-</span> <span class="cf">function</span>(forecast, actual, str_name) {</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  epsilon <span class="ot">&lt;-</span> <span class="fl">0.0001</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  mape <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(forecast <span class="sc">-</span> actual) <span class="sc">/</span> (<span class="fu">abs</span>(actual) <span class="sc">+</span> epsilon))</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(forecast <span class="sc">-</span> actual))</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((forecast <span class="sc">-</span> actual)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  mse <span class="ot">&lt;-</span> <span class="fu">mean</span>((forecast <span class="sc">-</span> actual)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  r_squared <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">sum</span>((actual <span class="sc">-</span> forecast)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> <span class="fu">sum</span>((actual <span class="sc">-</span> <span class="fu">mean</span>(actual))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  df_acc <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAE =</span> mae,</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">MSE =</span> mse,</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAPE =</span> mape,</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">RMSE =</span> rmse,</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">R2 =</span> r_squared</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(df_acc) <span class="ot">&lt;-</span> str_name</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(df_acc)</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Comencemos obteniendo las métricas para los modelo utilizando <code>rolling</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>ferrari_accuracy <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(predicciones_ferrari, ferrari_test, <span class="st">'Ferrari Rolling'</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>redbull_accuracy <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(predicciones_redbull, redbull_test, <span class="st">'Red Bull Rolling'</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>mercedes_accuracy <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(predicciones_mercedes, mercedes_test, <span class="st">'Mercedes Rolling'</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>williams_accuracy <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(predicciones_williams, williams_test, <span class="st">'Williams Rolling'</span>)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>mclaren_accuracy <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(predicciones_mclaren, mclaren_test, <span class="st">'McLaren Rolling'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora, obtendremos las métricas para lo modelos <code>sin utilizar rolling</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>ferrari_accuracy_nor <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(ferrari_pred_25<span class="sc">$</span>mean, ferrari_test, <span class="st">'Ferrari sin Rolling'</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>redbull_accuracy_nor <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(redbull_pred_25<span class="sc">$</span>mean, redbull_test, <span class="st">'Red Bull sin Rolling'</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>mercedes_accuracy_nor <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(mercedes_pred_25<span class="sc">$</span>mean, mercedes_test, <span class="st">'Mercedes sin Rolling'</span>)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>williams_accuracy_nor <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(williams_pred_25<span class="sc">$</span>mean, williams_test, <span class="st">'Williams sin Rolling'</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>mclaren_accuracy_nor <span class="ot">=</span> <span class="fu">forecast_accuracy</span>(mclaren_pred_25<span class="sc">$</span>mean, mclaren_test, <span class="st">'McLaren sin Rolling'</span>)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>accuracy <span class="ot">&lt;-</span> <span class="fu">rbind</span>(ferrari_accuracy, redbull_accuracy, mercedes_accuracy, williams_accuracy, mclaren_accuracy,</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>                  ferrari_accuracy_nor, redbull_accuracy_nor, mercedes_accuracy_nor, williams_accuracy_nor, mclaren_accuracy_nor)</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>accuracy</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["MAE"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["MSE"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["MAPE"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["RMSE"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["R2"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"19.554937","2":"476.51790","3":"1.994017e+04","4":"21.829290","5":"-0.11270409","_rn_":"Ferrari Rolling"},{"1":"14.254186","2":"363.84394","3":"2.098132e-01","4":"19.074694","5":"-0.10663851","_rn_":"Red Bull Rolling"},{"1":"20.730910","2":"679.32877","3":"9.600165e-01","4":"26.063936","5":"-0.49598238","_rn_":"Mercedes Rolling"},{"1":"4.388868","2":"44.58452","3":"2.662719e+04","4":"6.677164","5":"-3.02986918","_rn_":"Williams Rolling"},{"1":"14.078426","2":"376.79679","3":"2.590807e+04","4":"19.411254","5":"-0.06996709","_rn_":"McLaren Rolling"},{"1":"19.607169","2":"527.04260","3":"2.143195e+04","4":"22.957408","5":"-0.23068293","_rn_":"Ferrari sin Rolling"},{"1":"15.296843","2":"333.78400","3":"2.159850e-01","4":"18.269756","5":"-0.01521059","_rn_":"Red Bull sin Rolling"},{"1":"17.737931","2":"519.48528","3":"8.339703e-01","4":"22.792220","5":"-0.14398339","_rn_":"Mercedes sin Rolling"},{"1":"3.193802","2":"17.17010","3":"2.165936e+04","4":"4.143682","5":"-0.55195725","_rn_":"Williams sin Rolling"},{"1":"16.532430","2":"397.98138","3":"5.745720e+04","4":"19.949471","5":"-0.13012370","_rn_":"McLaren sin Rolling"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ferrari_test</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time Series:
Start = c(2022, 19) 
End = c(2023, 18) 
Frequency = 25 
 [1] 86.0465 56.8182 25.5814 45.4545 52.2727 43.1818 69.7674 76.7442 34.8837
[10] 34.8837 41.8605 61.3636 69.7674 27.9070 31.8182  0.0000 58.1395 36.3636
[19] 27.9070 22.7273 51.1628 59.0909  6.8182 22.7273 34.8837</code></pre>
</div>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referencias</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-rubio2024" class="csl-entry" role="listitem">
Rubio, Lihki. 2024. <span>«Predicciones de series de tiempo con Python»</span>. 2024. <a href="https://lihkir.github.io/DataVizPythonRUninorte/predictive_model.html">https://lihkir.github.io/DataVizPythonRUninorte/predictive_model.html</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./logisticbinary.html" class="pagination-link" aria-label="Modelo de Regresión Logística Binaria">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Modelo de Regresión Logística Binaria</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>