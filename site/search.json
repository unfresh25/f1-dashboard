[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "",
    "text": "Introducción\nLa Fórmula 1, reconocida como la máxima expresión del automovilismo deportivo, constituye un fascinante universo donde convergen la tecnología y la destreza de los pilotos para brindar un espectáculo emocionante en circuitos de todo el mundo (consultar en ABC 2020). Cada temporada de Fórmula 1 se erige como un emocionante periplo repleto de una competencia feroz, innovación tecnológica y cambiantes clasificaciones de pilotos y equipos. Este apasionante deporte atrae no solo a fervientes aficionados del automovilismo, sino también a estadísticos y científicos de datos que buscan desentrañar los secretos detrás de cada carrera.\nEn el epicentro de la Fórmula 1 yace un vasto tesoro de datos que abarca décadas de competiciones, equipos, pilotos y circuitos. Gracias a los avances tecnológicos y a la meticulosa recopilación de datos, los aficionados y expertos en análisis de datos pueden sumergirse en una exploración profunda de este deporte de alto rendimiento (Amo Lledo 2020). En este proyecto, llevaremos a cabo un análisis exploratorio y predictivo de los datos extraídos de Ergast API recopilados por Vopani.\nEn este contexto, nos proponemos realizar un análisis predictivo de los datos de la Fórmula 1 utilizando diversas técnicas y modelos estadísticos. Entre estos modelos se incluyen:\n\nSeries de tiempo: Este enfoque nos permitirá analizar patrones temporales en los datos, como la evolución de rendimiento de un equipo o piloto a lo largo de las temporadas.\nRegresión logística: Utilizaremos este modelo para investigar la relación entre variables predictoras y variables de interés, como por ejemplo, predecir la probabilidad de que un equipo obtenga un determinado resultado en una carrera.\nAnálisis de componentes principales: Con este método, buscaremos reducir la dimensionalidad de nuestros datos y encontrar patrones subyacentes que expliquen la variabilidad en el desempeño de los equipos y pilotos.\nAnálisis discriminante: Este modelo nos ayudará a clasificar datos en función de múltiples variables predictoras, como predecir el rendimiento de un equipo en diferentes tipos de circuitos.\nClasificación mediante KNN (K-Nearest Neighbors): Utilizaremos este algoritmo de aprendizaje supervisado para clasificar nuevos datos en función de la similitud con ejemplos previamente clasificados, como predecir la posición final de un piloto en una carrera dada ciertas condiciones.\n\nAl combinar estos diversos enfoques, buscamos obtener una comprensión más profunda de los factores que influyen en el desempeño en la Fórmula 1 y generar predicciones precisas sobre los resultados de las carreras y los campeonatos futuros.\n\n\n\n\n\nReferencias\n\nABC. 2020. «Historia de la Formula 1». ABC.es. https://www.abc.es/deportes/formula-1/abci-historia-formula-1-202007141357_reportaje.html.\n\n\nAmo Lledo, A. 2020. «Análisis de la eficiencia aplicado a la Fórmula 1», 83. https://idus.us.es/bitstream/handle/11441/101320/TFG-2847-AMO%20LLEDO.pdf.",
    "crumbs": [
      "Introducción"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "drivers.html",
    "href": "drivers.html",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "",
    "text": "¿Qué haremos?\nEn esta sección, llevaremos a cabo un análisis exploratorio centrado en la tabla constructors, que abarca los datos de los equipos que han competido en las carreras disputadas desde 1950 hasta 2023. Sin embargo, para llevar a cabo este análisis de manera integral, necesitamos consolidar información proveniente de diversas fuentes. Utilizaremos consultas para unificar los datos de la tabla constructors con aquellos de las tablas circuits (que contiene información sobre los circuitos donde se celebran las carreras de Fórmula 1), results (que proporciona los resultados de las carreras), pit_stops (paradas realizadas en boxes).\nEs fundamental destacar que, para la tabla results nos enfocaremos exclusivamente en los equipos que obtuvieron puntos en cada carrera. Asimismo, de la tabla pit_stops, extraeremos únicamente la información correspondiente a la parada en boxes más rápida realizada.\n\n\nLibrerías\nPara este proyecto trabajaremos con las siguientes librerías:\n\nPandas\nPsycopg2\nPlotly\nMatplotlib\nSeaborn\nScikit-learn\n\nPueden instalarse utilizando el siguiente comando desde la terminal: pip install pandas psycopg2 plotly..., o bien, mediante el archivo requirements.txt utilizando pip install -r requirements.txt en la terminal.\nUna vez instaladas, podemos importarlas en nuestro entorno de trabajo de la siguiente manera:\n\nimport pandas as pd\nimport psycopg2 as psy\nfrom psycopg2 import Error\n\nimport numpy as np\n\nfrom sklearn.experimental import enable_iterative_imputer\nfrom sklearn.impute import IterativeImputer\n\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.set_style('white')\n\nAdemás, haremos uso de la siguiente función para evitar la repetición de código y facilitar la conexión a la base de datos:\n\ndef connection_db() -&gt; psy.extensions.connection:\n    try:\n        conn = psy.connect(DATABASE_URL)\n        return conn\n    except (Exception, Error) as e:\n        print('Error while connecting to PostgreSQL', e)\n\nEs importante destacar que en esta función, obtenemos una variable de entorno que almacena los datos de conexión a la base de datos. En este caso, estamos utilizando Neon que nos permite crear un servidor de bases de datos con PostgreSQL.\n\n\nObtención de los datos\nVeamos inicialmente las columnas que tenemos para cada una de las tablas mencionadas.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla drivers"
    ]
  },
  {
    "objectID": "circuits.html",
    "href": "circuits.html",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "",
    "text": "En esta sección, llevaremos a cabo un análisis exploratorio centrado en la tabla races, que abarca los datos de las carreras disputadas desde 1950 hasta 2023. Sin embargo, para llevar a cabo este análisis de manera integral, necesitamos consolidar información proveniente de diversas fuentes. Utilizaremos consultas para unificar los datos de la tabla races con aquellos de las tablas circuits (que contiene información sobre los circuitos donde se celebran las carreras de Fórmula 1), results (que proporciona los resultados de las carreras), drivers (que enumera los pilotos que participaron en las carreras), constructors (los equipos que compitieron en las carreras), lap_times (los tiempos registrados por vuelta) y pit_stops (las paradas realizadas en boxes).\nEs fundamental destacar que, para las tablas results, drivers y constructors, nos enfocaremos exclusivamente en los datos del ganador de cada carrera. Asimismo, de las tablas lap_times y pit_stops, extraeremos únicamente la información correspondiente a la vuelta más rápida registrada y a la parada en boxes más rápida realizada, respectivamente.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "constructors.html",
    "href": "constructors.html",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "",
    "text": "En esta sección, llevaremos a cabo un análisis exploratorio centrado en la tabla constructors, que abarca los datos de los equipos que han competido en las carreras disputadas desde 1950 hasta 2023. Sin embargo, para llevar a cabo este análisis de manera integral, necesitamos consolidar información proveniente de diversas fuentes. Utilizaremos consultas para unificar los datos de la tabla constructors con aquellos de las tablas circuits (que contiene información sobre los circuitos donde se celebran las carreras de Fórmula 1), results (que proporciona los resultados de las carreras), pit_stops (paradas realizadas en boxes).\nEs fundamental destacar que, para la tabla results nos enfocaremos exclusivamente en los equipos que obtuvieron puntos en cada carrera. Asimismo, de la tabla pit_stops, extraeremos únicamente la información correspondiente a la parada en boxes más rápida realizada.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "circuits.html#tabla-races",
    "href": "circuits.html#tabla-races",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla races",
    "text": "Tabla races\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM races\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\nyear\nround\ncircuitid\nname\ndate\ntime\nurl\nfp1_date\nfp1_time\nfp2_date\nfp2_time\nfp3_date\nfp3_time\nquali_date\nquali_time\nsprint_date\nsprint_time\n\n\n\n\n0\n1\n2009\n1\n1\nAustralian Grand Prix\n2009-03-29\n06:00:00\nhttp://en.wikipedia.org/wiki/2009_Australian_G...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n1\n2\n2009\n2\n2\nMalaysian Grand Prix\n2009-04-05\n09:00:00\nhttp://en.wikipedia.org/wiki/2009_Malaysian_Gr...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n2\n3\n2009\n3\n17\nChinese Grand Prix\n2009-04-19\n07:00:00\nhttp://en.wikipedia.org/wiki/2009_Chinese_Gran...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n3\n4\n2009\n4\n3\nBahrain Grand Prix\n2009-04-26\n12:00:00\nhttp://en.wikipedia.org/wiki/2009_Bahrain_Gran...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n4\n5\n2009\n5\n4\nSpanish Grand Prix\n2009-05-10\n12:00:00\nhttp://en.wikipedia.org/wiki/2009_Spanish_Gran...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "circuits.html#tabla-circuits",
    "href": "circuits.html#tabla-circuits",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla circuits",
    "text": "Tabla circuits\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM circuits\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\ncircuitid\ncircuitref\nname\nlocation\ncountry\nlat\nlng\nalt\nurl\n\n\n\n\n0\n1\nalbert_park\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n-37.8497\n144.968\n10\nhttp://en.wikipedia.org/wiki/Melbourne_Grand_P...\n\n\n1\n2\nsepang\nSepang International Circuit\nKuala Lumpur\nMalaysia\n2.76083\n101.738\n18\nhttp://en.wikipedia.org/wiki/Sepang_Internatio...\n\n\n2\n3\nbahrain\nBahrain International Circuit\nSakhir\nBahrain\n26.0325\n50.5106\n7\nhttp://en.wikipedia.org/wiki/Bahrain_Internati...\n\n\n3\n4\ncatalunya\nCircuit de Barcelona-Catalunya\nMontmeló\nSpain\n41.57\n2.26111\n109\nhttp://en.wikipedia.org/wiki/Circuit_de_Barcel...\n\n\n4\n5\nistanbul\nIstanbul Park\nIstanbul\nTurkey\n40.9517\n29.405\n130\nhttp://en.wikipedia.org/wiki/Istanbul_Park",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "circuits.html#tabla-results",
    "href": "circuits.html#tabla-results",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla results",
    "text": "Tabla results\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM results\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nresultid\nraceid\ndriverid\nconstructorid\nnumber\ngrid\nposition\npositiontext\npositionorder\npoints\nlaps\ntime\nmilliseconds\nfastestlap\nrank\nfastestlaptime\nfastestlapspeed\nstatusid\n\n\n\n\n0\n1\n18\n1\n1\n22\n1\n1\n1\n1\n10\n58\n1:34:50.616\n5690616\n39\n2\n1:27.452\n218.300\n1\n\n\n1\n2\n18\n2\n2\n3\n5\n2\n2\n2\n8\n58\n+5.478\n5696094\n41\n3\n1:27.739\n217.586\n1\n\n\n2\n3\n18\n3\n3\n7\n7\n3\n3\n3\n6\n58\n+8.163\n5698779\n41\n5\n1:28.090\n216.719\n1\n\n\n3\n4\n18\n4\n4\n5\n11\n4\n4\n4\n5\n58\n+17.181\n5707797\n58\n7\n1:28.603\n215.464\n1\n\n\n4\n5\n18\n5\n1\n23\n3\n5\n5\n5\n4\n58\n+18.014\n5708630\n43\n1\n1:27.418\n218.385\n1",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "circuits.html#tabla-drivers",
    "href": "circuits.html#tabla-drivers",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla drivers",
    "text": "Tabla drivers\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM drivers\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\ndriverid\ndriverref\nnumber\ncode\nforename\nsurname\ndob\nnationality\nurl\n\n\n\n\n0\n1\nhamilton\n44.0\nHAM\nLewis\nHamilton\n1985-01-07\nBritish\nhttp://en.wikipedia.org/wiki/Lewis_Hamilton\n\n\n1\n2\nheidfeld\nNaN\nHEI\nNick\nHeidfeld\n1977-05-10\nGerman\nhttp://en.wikipedia.org/wiki/Nick_Heidfeld\n\n\n2\n3\nrosberg\n6.0\nROS\nNico\nRosberg\n1985-06-27\nGerman\nhttp://en.wikipedia.org/wiki/Nico_Rosberg\n\n\n3\n4\nalonso\n14.0\nALO\nFernando\nAlonso\n1981-07-29\nSpanish\nhttp://en.wikipedia.org/wiki/Fernando_Alonso\n\n\n4\n5\nkovalainen\nNaN\nKOV\nHeikki\nKovalainen\n1981-10-19\nFinnish\nhttp://en.wikipedia.org/wiki/Heikki_Kovalainen",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "circuits.html#tabla-constructors",
    "href": "circuits.html#tabla-constructors",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla constructors",
    "text": "Tabla constructors\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM constructors\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nconstructorid\nconstructorref\nname\nnationality\nurl\n\n\n\n\n0\n1\nmclaren\nMcLaren\nBritish\nhttp://en.wikipedia.org/wiki/McLaren\n\n\n1\n2\nbmw_sauber\nBMW Sauber\nGerman\nhttp://en.wikipedia.org/wiki/BMW_Sauber\n\n\n2\n3\nwilliams\nWilliams\nBritish\nhttp://en.wikipedia.org/wiki/Williams_Grand_Pr...\n\n\n3\n4\nrenault\nRenault\nFrench\nhttp://en.wikipedia.org/wiki/Renault_in_Formul...\n\n\n4\n5\ntoro_rosso\nToro Rosso\nItalian\nhttp://en.wikipedia.org/wiki/Scuderia_Toro_Rosso",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "circuits.html#tabla-lap_times",
    "href": "circuits.html#tabla-lap_times",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla lap_times",
    "text": "Tabla lap_times\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM lap_times\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\ndriverid\nlap\nposition\ntime\nmilliseconds\n\n\n\n\n0\n841\n20\n1\n1\n1:38.109\n98109\n\n\n1\n841\n20\n2\n1\n1:33.006\n93006\n\n\n2\n841\n20\n3\n1\n1:32.713\n92713\n\n\n3\n841\n20\n4\n1\n1:32.803\n92803\n\n\n4\n841\n20\n5\n1\n1:32.342\n92342",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "circuits.html#tabla-pit_stops",
    "href": "circuits.html#tabla-pit_stops",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla pit_stops",
    "text": "Tabla pit_stops\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM pit_stops\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\ndriverid\nstop\nlap\ntime\nduration\nmilliseconds\n\n\n\n\n0\n841\n153\n1\n1\n17:05:23\n26.898\n26898\n\n\n1\n841\n30\n1\n1\n17:05:52\n25.021\n25021\n\n\n2\n841\n17\n1\n11\n17:20:48\n23.426\n23426\n\n\n3\n841\n4\n1\n12\n17:22:34\n23.251\n23251\n\n\n4\n841\n13\n1\n13\n17:24:10\n23.842\n23842",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla circuits"
    ]
  },
  {
    "objectID": "races.html",
    "href": "races.html",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "",
    "text": "En esta sección, llevaremos a cabo un análisis exploratorio centrado en la tabla races, que abarca los datos de las carreras disputadas desde 1950 hasta 2023. Sin embargo, para llevar a cabo este análisis de manera integral, necesitamos consolidar información proveniente de diversas fuentes. Utilizaremos consultas para unificar los datos de la tabla races con aquellos de las tablas circuits (que contiene información sobre los circuitos donde se celebran las carreras de Fórmula 1), results (que proporciona los resultados de las carreras) y lap_times (los tiempos registrados por vuelta).\nEs fundamental destacar que, para la tabla results nos enfocaremos exclusivamente en los datos del ganador de cada carrera. Asimismo, de la tabla lap_time, extraeremos únicamente la información correspondiente a la vuelta más rápida registrada.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-races",
    "href": "races.html#tabla-races",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla races",
    "text": "Tabla races\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM races\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\nyear\nround\ncircuitid\nname\ndate\ntime\nurl\nfp1_date\nfp1_time\nfp2_date\nfp2_time\nfp3_date\nfp3_time\nquali_date\nquali_time\nsprint_date\nsprint_time\n\n\n\n\n0\n1\n2009\n1\n1\nAustralian Grand Prix\n2009-03-29\n06:00:00\nhttp://en.wikipedia.org/wiki/2009_Australian_G...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n1\n2\n2009\n2\n2\nMalaysian Grand Prix\n2009-04-05\n09:00:00\nhttp://en.wikipedia.org/wiki/2009_Malaysian_Gr...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n2\n3\n2009\n3\n17\nChinese Grand Prix\n2009-04-19\n07:00:00\nhttp://en.wikipedia.org/wiki/2009_Chinese_Gran...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n3\n4\n2009\n4\n3\nBahrain Grand Prix\n2009-04-26\n12:00:00\nhttp://en.wikipedia.org/wiki/2009_Bahrain_Gran...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n4\n5\n2009\n5\n4\nSpanish Grand Prix\n2009-05-10\n12:00:00\nhttp://en.wikipedia.org/wiki/2009_Spanish_Gran...\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone\nNone",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-circuits",
    "href": "races.html#tabla-circuits",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla circuits",
    "text": "Tabla circuits\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM circuits\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\ncircuitid\ncircuitref\nname\nlocation\ncountry\nlat\nlng\nalt\nurl\n\n\n\n\n0\n1\nalbert_park\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n-37.8497\n144.968\n10\nhttp://en.wikipedia.org/wiki/Melbourne_Grand_P...\n\n\n1\n2\nsepang\nSepang International Circuit\nKuala Lumpur\nMalaysia\n2.76083\n101.738\n18\nhttp://en.wikipedia.org/wiki/Sepang_Internatio...\n\n\n2\n3\nbahrain\nBahrain International Circuit\nSakhir\nBahrain\n26.0325\n50.5106\n7\nhttp://en.wikipedia.org/wiki/Bahrain_Internati...\n\n\n3\n4\ncatalunya\nCircuit de Barcelona-Catalunya\nMontmeló\nSpain\n41.57\n2.26111\n109\nhttp://en.wikipedia.org/wiki/Circuit_de_Barcel...\n\n\n4\n5\nistanbul\nIstanbul Park\nIstanbul\nTurkey\n40.9517\n29.405\n130\nhttp://en.wikipedia.org/wiki/Istanbul_Park",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-results",
    "href": "races.html#tabla-results",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla results",
    "text": "Tabla results\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM results\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nresultid\nraceid\ndriverid\nconstructorid\nnumber\ngrid\nposition\npositiontext\npositionorder\npoints\nlaps\ntime\nmilliseconds\nfastestlap\nrank\nfastestlaptime\nfastestlapspeed\nstatusid\n\n\n\n\n0\n1\n18\n1\n1\n22\n1\n1\n1\n1\n10\n58\n1:34:50.616\n5690616\n39\n2\n1:27.452\n218.300\n1\n\n\n1\n2\n18\n2\n2\n3\n5\n2\n2\n2\n8\n58\n+5.478\n5696094\n41\n3\n1:27.739\n217.586\n1\n\n\n2\n3\n18\n3\n3\n7\n7\n3\n3\n3\n6\n58\n+8.163\n5698779\n41\n5\n1:28.090\n216.719\n1\n\n\n3\n4\n18\n4\n4\n5\n11\n4\n4\n4\n5\n58\n+17.181\n5707797\n58\n7\n1:28.603\n215.464\n1\n\n\n4\n5\n18\n5\n1\n23\n3\n5\n5\n5\n4\n58\n+18.014\n5708630\n43\n1\n1:27.418\n218.385\n1",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-drivers",
    "href": "races.html#tabla-drivers",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla drivers",
    "text": "Tabla drivers\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM drivers\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\ndriverid\ndriverref\nnumber\ncode\nforename\nsurname\ndob\nnationality\nurl\n\n\n\n\n0\n1\nhamilton\n44.0\nHAM\nLewis\nHamilton\n1985-01-07\nBritish\nhttp://en.wikipedia.org/wiki/Lewis_Hamilton\n\n\n1\n2\nheidfeld\nNaN\nHEI\nNick\nHeidfeld\n1977-05-10\nGerman\nhttp://en.wikipedia.org/wiki/Nick_Heidfeld\n\n\n2\n3\nrosberg\n6.0\nROS\nNico\nRosberg\n1985-06-27\nGerman\nhttp://en.wikipedia.org/wiki/Nico_Rosberg\n\n\n3\n4\nalonso\n14.0\nALO\nFernando\nAlonso\n1981-07-29\nSpanish\nhttp://en.wikipedia.org/wiki/Fernando_Alonso\n\n\n4\n5\nkovalainen\nNaN\nKOV\nHeikki\nKovalainen\n1981-10-19\nFinnish\nhttp://en.wikipedia.org/wiki/Heikki_Kovalainen",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-constructors",
    "href": "races.html#tabla-constructors",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla constructors",
    "text": "Tabla constructors\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM constructors\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nconstructorid\nconstructorref\nname\nnationality\nurl\n\n\n\n\n0\n1\nmclaren\nMcLaren\nBritish\nhttp://en.wikipedia.org/wiki/McLaren\n\n\n1\n2\nbmw_sauber\nBMW Sauber\nGerman\nhttp://en.wikipedia.org/wiki/BMW_Sauber\n\n\n2\n3\nwilliams\nWilliams\nBritish\nhttp://en.wikipedia.org/wiki/Williams_Grand_Pr...\n\n\n3\n4\nrenault\nRenault\nFrench\nhttp://en.wikipedia.org/wiki/Renault_in_Formul...\n\n\n4\n5\ntoro_rosso\nToro Rosso\nItalian\nhttp://en.wikipedia.org/wiki/Scuderia_Toro_Rosso",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-lap_times",
    "href": "races.html#tabla-lap_times",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla lap_times",
    "text": "Tabla lap_times\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM lap_times\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\ndriverid\nlap\nposition\ntime\nmilliseconds\n\n\n\n\n0\n841\n20\n1\n1\n1:38.109\n98109\n\n\n1\n841\n20\n2\n1\n1:33.006\n93006\n\n\n2\n841\n20\n3\n1\n1:32.713\n92713\n\n\n3\n841\n20\n4\n1\n1:32.803\n92803\n\n\n4\n841\n20\n5\n1\n1:32.342\n92342",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-pit_stops",
    "href": "races.html#tabla-pit_stops",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "3.5 Tabla pit_stops",
    "text": "3.5 Tabla pit_stops\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM pit_stops\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\ndriverid\nstop\nlap\ntime\nduration\nmilliseconds\n\n\n\n\n0\n841\n153\n1\n1\n17:05:23\n26.898\n26898\n\n\n1\n841\n30\n1\n1\n17:05:52\n25.021\n25021\n\n\n2\n841\n17\n1\n11\n17:20:48\n23.426\n23426\n\n\n3\n841\n4\n1\n12\n17:22:34\n23.251\n23251\n\n\n4\n841\n13\n1\n13\n17:24:10\n23.842\n23842",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#tabla-final",
    "href": "races.html#tabla-final",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla final",
    "text": "Tabla final\nCon base en las columnas proporcionadas de cada tabla, podemos listar las que se utilizarán en el análisis de la siguiente manera:\n\nRaces: raceId, year, round, circuitId, name, time.\nCircuits: circuit_ref, name, location, country, lat, lng.\nResults: driverId, constructorId, points, grid, laps, milliseconds, fastestlap, rank, fastestlapspeed.\nLap Times: lap, miliseconds.\n\nRealicemos entonces la consulta a la base de datos para obtener esta tabla.\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT \n                r.raceId, r.year, r.round, r.circuitId, r.name AS race_name,\n                c.circuitref, c.name AS circuit_name, c.location AS circuit_location, c.country AS circuit_country,\n                c.lat AS circuit_lat, c.lng AS circuit_lng,\n                re.driverId, re.constructorId, re.points, re.grid, re.laps, re.milliseconds as race_time_in_milliseconds,\n                re.fastestlap AS winner_fastest_lap, re.rank as winner_lap_rank, re.fastestlapspeed as winner_fastestlapspeed,\n                l.lap as general_fastest_lap, l.milliseconds AS general_fastest_lap_time\n            FROM races AS r\n            JOIN circuits AS c ON r.circuitId = c.circuitId\n            JOIN (\n                SELECT raceId, driverId, constructorId, points, grid, laps, milliseconds, fastestlap, rank, fastestlapspeed\n                FROM results\n                WHERE positionOrder = 1\n            ) AS re ON r.raceId = re.raceId\n            LEFT JOIN (\n                SELECT lt.raceId, lt.lap, lt.milliseconds\n                FROM lap_times lt\n                JOIN (\n                    SELECT raceId, MIN(milliseconds) AS min_milliseconds\n                    FROM lap_times\n                    GROUP BY raceId\n                ) AS min_lap_times ON lt.raceId = min_lap_times.raceId AND lt.milliseconds = min_lap_times.min_milliseconds\n            ) AS l ON r.raceId = l.raceId;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data.head())\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\nyear\nround\ncircuitid\nrace_name\ncircuitref\ncircuit_name\ncircuit_location\ncircuit_country\ncircuit_lat\n...\nconstructorid\npoints\ngrid\nlaps\nrace_time_in_milliseconds\nwinner_fastest_lap\nwinner_lap_rank\nwinner_fastestlapspeed\ngeneral_fastest_lap\ngeneral_fastest_lap_time\n\n\n\n\n0\n18\n2008\n1\n1\nAustralian Grand Prix\nalbert_park\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n-37.8497\n...\n1\n10\n1\n58\n5690616\n39.0\n2.0\n218.300\n43.0\n87418.0\n\n\n1\n19\n2008\n2\n2\nMalaysian Grand Prix\nsepang\nSepang International Circuit\nKuala Lumpur\nMalaysia\n2.76083\n...\n6\n10\n2\n56\n5478555\n37.0\n2.0\n209.158\n55.0\n95366.0\n\n\n2\n20\n2008\n3\n3\nBahrain Grand Prix\nbahrain\nBahrain International Circuit\nSakhir\nBahrain\n26.0325\n...\n6\n10\n2\n57\n5466970\n38.0\n3.0\n208.153\n49.0\n93193.0\n\n\n3\n21\n2008\n4\n4\nSpanish Grand Prix\ncatalunya\nCircuit de Barcelona-Catalunya\nMontmeló\nSpain\n41.57\n...\n6\n10\n1\n66\n5899051\n46.0\n1.0\n205.191\n46.0\n81670.0\n\n\n4\n22\n2008\n5\n5\nTurkish Grand Prix\nistanbul\nIstanbul Park\nIstanbul\nTurkey\n40.9517\n...\n6\n10\n1\n58\n5209451\n16.0\n3.0\n221.734\n20.0\n86506.0\n\n\n\n\n5 rows × 22 columns",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#conociendo-los-datos",
    "href": "races.html#conociendo-los-datos",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Conociendo los datos",
    "text": "Conociendo los datos\nConocer los datos es un paso fundamental en cualquier análisis. Proporciona una comprensión inicial del problema, permite validar la calidad de los datos, seleccionar características relevantes, preparar los datos adecuadamente y generar ideas y hipótesis. En resumen, la exploración inicial de los datos sienta las bases para un análisis más profundo y asegura que los resultados sean significativos y confiables.\n\nTipos de datos\nPara realizar un análisis exploratorio, primero debes conocer el tipo de variables con las que estamos tratando. Conocer si tenemos variables numéricas o categóricas podrían determinar el rumbo del análisis que realizaremos.\n\nrecords_data.dtypes\n\nraceid                         int64\nyear                           int64\nround                          int64\ncircuitid                      int64\nrace_name                     object\ncircuitref                    object\ncircuit_name                  object\ncircuit_location              object\ncircuit_country               object\ncircuit_lat                   object\ncircuit_lng                   object\ndriverid                       int64\nconstructorid                  int64\npoints                         int64\ngrid                           int64\nlaps                           int64\nrace_time_in_milliseconds      int64\nwinner_fastest_lap           float64\nwinner_lap_rank              float64\nwinner_fastestlapspeed        object\ngeneral_fastest_lap          float64\ngeneral_fastest_lap_time     float64\ndtype: object\n\n\nObservemos que todas las variables tienen el tipo de dato correcto, excepto la columna winner_fastestlapspeed, que toma valores numéricos pero está siendo interpretada como un dato tipo object. Por lo tanto, es necesario convertir esta columna en tipo numérico. Además, vamos a cambiar los tipos de datos de las variables raceid, round, circuitid, driverid y constructorid a tipo object.\n\nrecords_data['winner_fastestlapspeed'] = pd.to_numeric(records_data['winner_fastestlapspeed'])\nrecords_data[['raceid', 'round', 'circuitid', 'driverid', 'constructorid']] = records_data[['raceid', 'round', 'circuitid', 'driverid', 'constructorid']].astype('object')\n\nrecords_data.dtypes\n\nraceid                        object\nyear                           int64\nround                         object\ncircuitid                     object\nrace_name                     object\ncircuitref                    object\ncircuit_name                  object\ncircuit_location              object\ncircuit_country               object\ncircuit_lat                   object\ncircuit_lng                   object\ndriverid                      object\nconstructorid                 object\npoints                         int64\ngrid                           int64\nlaps                           int64\nrace_time_in_milliseconds      int64\nwinner_fastest_lap           float64\nwinner_lap_rank              float64\nwinner_fastestlapspeed       float64\ngeneral_fastest_lap          float64\ngeneral_fastest_lap_time     float64\ndtype: object\n\n\n\n\nDimensiones de los registros\nDeterminar el tamaño de nuestros registros es fundamental, ya que nos permite comprender la magnitud de la información que estamos manejando. Esto a su vez nos ayuda a establecer posibles caminos a seguir en caso de realizar transformaciones y análisis adicionales.\n\nrecords_data.shape\n\n(1094, 22)\n\n\nEsto indica que desde el año 1950 hasta el 2023 se llevaron a cabo más de 1000 carreras, lo que significa que estamos trabajando con una cantidad considerable de datos sobre carreras.\n\n\nDatos faltantes\nDeterminar la presencia de datos faltantes es crucial, ya que puede indicar si podemos confiar en una columna para el análisis o si necesitamos tomar medidas para imputar esos valores ausentes.\n\nrecords_data.isnull().sum()\n\nraceid                         0\nyear                           0\nround                          0\ncircuitid                      0\nrace_name                      0\ncircuitref                     0\ncircuit_name                   0\ncircuit_location               0\ncircuit_country                0\ncircuit_lat                    0\ncircuit_lng                    0\ndriverid                       0\nconstructorid                  0\npoints                         0\ngrid                           0\nlaps                           0\nrace_time_in_milliseconds      0\nwinner_fastest_lap           717\nwinner_lap_rank              716\nwinner_fastestlapspeed       717\ngeneral_fastest_lap          584\ngeneral_fastest_lap_time     584\ndtype: int64\n\n\nCon los resultados obtenidos, observamos que tenemos una cantidad significativa de datos faltantes. Esta situación puede afectar los análisis futuros, dependiendo del tipo de variable que estemos considerando. Es importante determinar un método adecuado para la imputación de datos en caso de que sea necesario. Veamos el porcentaje que representa esta cantidad de datos faltantes en el total de nuestros datos.\n\nmissing_values = records_data.isnull().sum()\nmissing_percentage = round((missing_values / len(records_data)) * 100, 4)\nmissing_percentage\n\nraceid                        0.0000\nyear                          0.0000\nround                         0.0000\ncircuitid                     0.0000\nrace_name                     0.0000\ncircuitref                    0.0000\ncircuit_name                  0.0000\ncircuit_location              0.0000\ncircuit_country               0.0000\ncircuit_lat                   0.0000\ncircuit_lng                   0.0000\ndriverid                      0.0000\nconstructorid                 0.0000\npoints                        0.0000\ngrid                          0.0000\nlaps                          0.0000\nrace_time_in_milliseconds     0.0000\nwinner_fastest_lap           65.5393\nwinner_lap_rank              65.4479\nwinner_fastestlapspeed       65.5393\ngeneral_fastest_lap          53.3821\ngeneral_fastest_lap_time     53.3821\ndtype: float64\n\n\nTenemos un gran porcentaje de datos faltantes en nuestras variables. Sin embargo, estos datos faltantes parecen estar concentrados en las variables relacionadas con medidas de tiempos y velocidades. Esto sugiere que estos datos podrían faltar debido a limitaciones técnicas o falta de registro en las fechas más antiguas, donde la toma de estas medidas podría no haber sido sistemática.\nPara comprender mejor la distribución de estos datos faltantes, examinemos en qué fechas están ocurriendo y verifiquemos la fecha máxima y mínima en la que faltan estas observaciones.\n\nrecords_data[records_data.isnull().any(axis = 1)]\n\n\n\n\n\n\n\n\n\nraceid\nyear\nround\ncircuitid\nrace_name\ncircuitref\ncircuit_name\ncircuit_location\ncircuit_country\ncircuit_lat\n...\nconstructorid\npoints\ngrid\nlaps\nrace_time_in_milliseconds\nwinner_fastest_lap\nwinner_lap_rank\nwinner_fastestlapspeed\ngeneral_fastest_lap\ngeneral_fastest_lap_time\n\n\n\n\n90\n108\n2003\n1\n1\nAustralian Grand Prix\nalbert_park\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n-37.8497\n...\n1\n10\n11\n58\n5682100\nNaN\nNaN\nNaN\n32.0\n87724.0\n\n\n91\n109\n2003\n2\n2\nMalaysian Grand Prix\nsepang\nSepang International Circuit\nKuala Lumpur\nMalaysia\n2.76083\n...\n1\n10\n7\n56\n5542195\nNaN\nNaN\nNaN\n45.0\n96412.0\n\n\n92\n110\n2003\n3\n18\nBrazilian Grand Prix\ninterlagos\nAutódromo José Carlos Pace\nSão Paulo\nBrazil\n-23.7036\n...\n17\n10\n8\n54\n5478200\nNaN\nNaN\nNaN\n46.0\n82032.0\n\n\n93\n111\n2003\n4\n21\nSan Marino Grand Prix\nimola\nAutodromo Enzo e Dino Ferrari\nImola\nItaly\n44.3439\n...\n6\n10\n1\n62\n5292058\nNaN\nNaN\nNaN\n17.0\n82491.0\n\n\n94\n112\n2003\n5\n4\nSpanish Grand Prix\ncatalunya\nCircuit de Barcelona-Catalunya\nMontmeló\nSpain\n41.57\n...\n6\n10\n1\n65\n5626933\nNaN\nNaN\nNaN\n52.0\n80143.0\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n819\n828\n1951\n4\n55\nFrench Grand Prix\nreims\nReims-Gueux\nReims\nFrance\n49.2542\n...\n51\n5\n7\n77\n12131000\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n820\n784\n1956\n1\n25\nArgentine Grand Prix\ngalvez\nAutódromo Juan y Oscar Gálvez\nBuenos Aires\nArgentina\n-34.6943\n...\n6\n5\n3\n98\n10803700\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n821\n780\n1957\n5\n58\nBritish Grand Prix\naintree\nAintree\nLiverpool\nUK\n53.4769\n...\n118\n5\n3\n90\n11197800\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n822\n728\n1963\n10\n56\nSouth African Grand Prix\ngeorge\nPrince George Circuit\nEastern Cape Province\nSouth Africa\n-33.0486\n...\n172\n9\n1\n85\n7836900\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1049\n1063\n2021\n12\n13\nBelgian Grand Prix\nspa\nCircuit de Spa-Francorchamps\nSpa\nBelgium\n50.4372\n...\n9\n13\n1\n1\n207071\nNaN\n0.0\nNaN\n1.0\n207071.0\n\n\n\n\n717 rows × 22 columns\n\n\n\n\n\n\nFecha mínima:  1950\nFecha promedio:  1980\nFecha máxima:  2021\n\n\nObservando estos resultados, podemos confirmar nuestra teoría. Estos registros faltantes pueden ser debidos a limitaciones técnicas en aquellos tiempos. Sin embargo, también tenemos datos faltantes recientes.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#exploración-de-los-datos",
    "href": "races.html#exploración-de-los-datos",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Exploración de los datos",
    "text": "Exploración de los datos\nEn esta sección realizaremos el verdadero análisis exploratorio de nuestros datos. Abordaremos los siguientes aspectos:\n\nMedidas de tendencia central: Calcularemos medidas como la media, la mediana y la moda para entender mejor la distribución de nuestros datos.\nLimpieza de los datos: Abordaremos la limpieza de nuestros datos, incluyendo la búsqueda de datos atípicos.\nTransformación: Determinaremos si es necesario aplicar alguna transformación a nuestros datos para facilitar los análisis subsiguientes.\nVisualización: Utilizaremos herramientas gráficas para explorar el comportamiento de nuestros datos y extraer patrones o tendencias.\n\nEsta fase nos permitirá comprender mejor la naturaleza de nuestros datos y prepararlos adecuadamente para análisis más avanzados.\n\nMedidas de tendencia central\n\nrecords_data.describe()\n\n\n\n\n\n\n\n\n\nyear\npoints\ngrid\nlaps\nrace_time_in_milliseconds\nwinner_fastest_lap\nwinner_lap_rank\nwinner_fastestlapspeed\ngeneral_fastest_lap\ngeneral_fastest_lap_time\n\n\n\n\ncount\n1094.000000\n1094.000000\n1094.000000\n1094.000000\n1.094000e+03\n377.000000\n378.000000\n377.000000\n510.000000\n510.000000\n\n\nmean\n1991.635283\n13.200183\n2.710238\n64.812614\n6.390212e+06\n44.297082\n2.695767\n207.944472\n45.986275\n88098.447059\n\n\nstd\n20.236151\n6.952141\n2.657508\n20.397213\n1.657215e+06\n15.989751\n1.935302\n20.773775\n16.101282\n12714.556207\n\n\nmin\n1950.000000\n4.000000\n1.000000\n1.000000\n2.070710e+05\n5.000000\n0.000000\n151.388000\n1.000000\n55404.000000\n\n\n25%\n1976.000000\n9.000000\n1.000000\n54.000000\n5.445916e+06\n36.000000\n1.000000\n197.014000\n36.000000\n78443.000000\n\n\n50%\n1993.000000\n10.000000\n2.000000\n65.000000\n5.905204e+06\n47.000000\n2.000000\n208.314000\n49.000000\n86233.500000\n\n\n75%\n2009.000000\n10.000000\n3.000000\n73.000000\n6.805843e+06\n55.000000\n4.000000\n220.782000\n56.000000\n96421.000000\n\n\nmax\n2023.000000\n50.000000\n22.000000\n200.000000\n1.467954e+07\n78.000000\n14.000000\n257.320000\n80.000000\n207071.000000\n\n\n\n\n\n\n\n\n\nEstos resultados nos pueden permitir concluir lo siguiente:\n\nPuntos, posición en la parrilla y número de vueltas: La distribución de puntos obtenidos, la posición en la parrilla de salida y el número de vueltas varían ampliamente entre las carreras. Esto puede reflejar diferencias en la dificultad de los circuitos, la calidad de los vehículos y la estrategia de los equipos en cada evento específico.\nTiempo de carrera y velocidad: El tiempo medio de carrera es de aproximadamente 106 minutos, pero con una variabilidad significativa. lo que puede ser atribuible a factores como la longitud del circuito, condiciones climáticas y la cantidad de incidentes en la pista. La velocidad media de la vuelta más rápida realizada por el ganador es de alrededor de 207.94 km/h, lo que también puede variar según las características específicas del circuito y la competencia entre los conductores.\n\n\n\nLimpieza de los datos\nLa limpieza de datos es una etapa crucial en cualquier análisis, por lo que en este apartado trataremos los datos faltantes y observaremos si existen datos atípicos en nuestras variables.\n\nDatos faltantes\nExisten diversas estrategias para abordar este problema. Usualmente, en este tipo de análisis se recurre a la imputación de valores faltantes utilizando la media, moda o mediana, o llenando los datos con los valores anteriores o siguientes. Sin embargo, estas técnicas pueden no ser óptimas para conjuntos de datos extensos o con características específicas.\nEn nuestro caso, una estrategia efectiva sería utilizar la imputación de datos faltantes basada en puntos similares en los datos mediante el algoritmo KNN (K-Nearest Neighbors) y Random Forest Classification. Este método considera las características de observaciones similares para estimar los valores faltantes de manera más precisa y realista, lo que resulta especialmente útil en conjuntos de datos complejos como el nuestro.\nInicialmente, creemos un DataFrame temporal donde estarán los mismos datos de records_data pero sin las columnas correspondientes a tipo object.\n\ntemp_df = records_data.select_dtypes(exclude=['object'])\n\nimputer = IterativeImputer(min_value=0, max_iter=30, imputation_order='roman', random_state=1)\nimputed_data = imputer.fit_transform(temp_df)\n\ntemp_df_imputed = pd.DataFrame(imputed_data, columns=temp_df.columns)\ntemp_df_imputed.isnull().sum()\n\nyear                         0\npoints                       0\ngrid                         0\nlaps                         0\nrace_time_in_milliseconds    0\nwinner_fastest_lap           0\nwinner_lap_rank              0\nwinner_fastestlapspeed       0\ngeneral_fastest_lap          0\ngeneral_fastest_lap_time     0\ndtype: int64\n\n\nBien, ya no tenemos datos faltantes. Ahora, verifiquemos si los resultados obtenidos en las medidas de tendencia central del DataFrame original cambiaron significativamente.\n\ntemp_df_imputed.describe()\n\n\n\n\n\n\n\n\n\nyear\npoints\ngrid\nlaps\nrace_time_in_milliseconds\nwinner_fastest_lap\nwinner_lap_rank\nwinner_fastestlapspeed\ngeneral_fastest_lap\ngeneral_fastest_lap_time\n\n\n\n\ncount\n1094.000000\n1094.000000\n1094.000000\n1094.000000\n1.094000e+03\n1094.000000\n1094.000000\n1094.000000\n1094.000000\n1094.000000\n\n\nmean\n1991.635283\n13.200183\n2.710238\n64.812614\n6.390212e+06\n41.198089\n2.388976\n197.487624\n43.406781\n87917.959131\n\n\nstd\n20.236151\n6.952141\n2.657508\n20.397213\n1.657215e+06\n13.042462\n1.212770\n51.466986\n14.678942\n8687.161576\n\n\nmin\n1950.000000\n4.000000\n1.000000\n1.000000\n2.070710e+05\n4.442446\n0.000000\n0.000000\n1.000000\n55404.000000\n\n\n25%\n1976.000000\n9.000000\n1.000000\n54.000000\n5.445916e+06\n34.248065\n2.000000\n170.246741\n34.155086\n86470.178618\n\n\n50%\n1993.000000\n10.000000\n2.000000\n65.000000\n5.905204e+06\n41.206371\n2.220656\n202.165329\n44.429436\n87882.189112\n\n\n75%\n2009.000000\n10.000000\n3.000000\n73.000000\n6.805843e+06\n48.000000\n2.584096\n223.148500\n51.635757\n88294.173027\n\n\nmax\n2023.000000\n50.000000\n22.000000\n200.000000\n1.467954e+07\n97.874592\n14.000000\n368.033143\n96.392282\n207071.000000\n\n\n\n\n\n\n\n\n\nComparando los resultados de las medidas de tendencia central antes y después de la imputación de datos con el algoritmo KNN, observamos algunas diferencias significativas en ciertas variables:\n\nPuntos, posición en la parrilla y número de vueltas: No hubo cambios notables en estas variables, lo que indica que la imputación de datos no tuvo un impacto significativo en su distribución.\nTiempo de carrera y velocidad: La media del tiempo de carrera disminuyó ligeramente después de la imputación de datos, lo que sugiere que los nuevos valores imputados pueden haber afectado este aspecto. Por otro lado, la velocidad media de la vuelta más rápida realizada por el ganador experimentó una disminución significativa en su media y desviación estándar, lo que indica que la imputación de datos pudo haber tenido un impacto más notable en esta variable.\n\nAhora que hemos realizado la imputación de datos, pasemos estos datos a nuestro dataframe original.\n\nrecords_data[temp_df.columns] = temp_df_imputed\nrecords_data.isnull().sum()\n\nraceid                       0\nyear                         0\nround                        0\ncircuitid                    0\nrace_name                    0\ncircuitref                   0\ncircuit_name                 0\ncircuit_location             0\ncircuit_country              0\ncircuit_lat                  0\ncircuit_lng                  0\ndriverid                     0\nconstructorid                0\npoints                       0\ngrid                         0\nlaps                         0\nrace_time_in_milliseconds    0\nwinner_fastest_lap           0\nwinner_lap_rank              0\nwinner_fastestlapspeed       0\ngeneral_fastest_lap          0\ngeneral_fastest_lap_time     0\ndtype: int64\n\n\n\n\nDatos atípicos\nVeamos ahora si existen datos atípicos en nuestro registro. En este caso, utilizaremos el rango intercuartílico (IQR) para identificar los valores atípicos. Si un valor cae por debajo de Q1 - 1.5 * IQR o por encima de Q3 + 1.5 * IQR, se considera un valor atípico.\n\nnumeric_columns = temp_df.columns\n\nfor col in numeric_columns:\n    q1 = records_data[col].quantile(0.25)\n    q3 = records_data[col].quantile(0.75)\n\n    iqr = q3 - q1\n    lower_bound = q1 - 1.5 * iqr\n    upper_bound = q3 + 1.5 * iqr\n    outliers = records_data[(records_data[col] &lt; lower_bound) | (records_data[col] &gt; upper_bound)]\n    n_outliers = len(outliers)\n    print(f'#Outliers in {col} are {n_outliers} and represent a {round(n_outliers/len(records_data) * 100, 4)}% of total records')\n\n#Outliers in year are 0 and represent a 0.0% of total records\n#Outliers in points are 282 and represent a 25.777% of total records\n#Outliers in grid are 84 and represent a 7.6782% of total records\n#Outliers in laps are 47 and represent a 4.2962% of total records\n#Outliers in race_time_in_milliseconds are 94 and represent a 8.5923% of total records\n#Outliers in winner_fastest_lap are 48 and represent a 4.3876% of total records\n#Outliers in winner_lap_rank are 234 and represent a 21.3894% of total records\n#Outliers in winner_fastestlapspeed are 78 and represent a 7.1298% of total records\n#Outliers in general_fastest_lap are 17 and represent a 1.5539% of total records\n#Outliers in general_fastest_lap_time are 412 and represent a 37.66% of total records\n\n\nComo podemos observar, tenemos una cantidad significativa de datos atípicos en algunas de nuestras variables. Esto podría afectar más adelante en los modelos estadísticos que querramos implementar. Veamos gráficamente qué es lo que está ocurriendo con ellos.\nRealizaremos un gráfico de caja y bigotes e histogramas para ver el comportamiento y la distribución de nuestros datos.\n\nplt.figure(figsize=(9,12))\n\ni = 1\nfor col in numeric_columns:\n    plt.subplot(5,3,i)\n    plt.boxplot(records_data[col],whis=1.5)\n    plt.title(col)\n\n    i += 1\nplt.show()\n\n\n\n\n\n\n\n\n\nplt.figure(figsize=(8,12))\n\ni = 1\nfor col in numeric_columns:\n    plt.subplot(5, 3, i)\n    sns.histplot(records_data[col], kde=True)\n    plt.title(col)\n    i += 1\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nDada la naturaleza de las variables, en algunos casos como rank, lap, grid, points, que son datos numéricos discretos y representan una categoría específica, es normal que existan datos atípicos. Por otro lado, para las otras variables en nuestra base de datos, estos datos atípicos no están afectando mucho la distribución de cada una de ellas, por lo tanto, no realizaremos cambios en ellas.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "races.html#visualización",
    "href": "races.html#visualización",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Visualización",
    "text": "Visualización\nLa visualización es uno de los puntos más importantes a la hora de realizar una exploración de los datos. Con ella, no solo podemos encontrar las relaciones que existen entre nuestras variables, sino que también podemos representar gráficamente las informaciones más relevantes de los datos.\nComencemos visualizando los gráficos de correlación y dispersión entre las variables para comprender mejor sus relaciones y encontrar posibles patrones.\n\nGráfico de correlación\n\ncorr = records_data[numeric_columns].corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\nsns.heatmap(corr, annot=True, cmap='PRGn', square=True, center=0, mask=mask)\n\n\n\n\n\n\n\n\nComo podemos observar, las variables con una alta correlación (&gt;0.5 o &lt;-0.5) son aquellas que están relacionadas entre sí, como laps, winner_fastestlapspeed, general_fastest_lap, entre otras. Por lo tanto, esto no debería ser un problema y podemos proseguir con la exploración de los datos.\n\n\nGráfico de dispersión\n\nnumeric_columns = numeric_columns.drop(['points', 'winner_lap_rank'])\n\nplt.figure(figsize=(8, 12))\nsns.pairplot(records_data[numeric_columns])\nplt.show()\n\n&lt;Figure size 768x1152 with 0 Axes&gt;\n\n\n\n\n\n\n\n\n\n\nDe este gráfico podemos notar que a medida que pasan los años, la competencia ha evolucionado en términos de velocidades y tiempos de carreras obtenidos. La velocidad ha aumentado, lo que indica una mejora en los automóviles, y afecta directamente la duración de las carreras. Sin embargo, estos cambios en las velocidades y tiempos de carrera también se han vuelto más dispersos a lo largo de los años, lo que implica que ha habido una gran diferencia entre los equipos constructores. Además, también podemos observar algunas relaciones proporcionales en nuestras variables, como aquellas relacionadas nuevamente con las velocidades y tiempos.\n\n\nDistribución de tiempos de carrera por décadas\nVeamos cómo se distribuyen en cada una de las vueltas a lo largo de los años.\n\nrecords_data['race_time_in_seconds'] = records_data['race_time_in_milliseconds'] / 1000\nrecords_data['decade'] = records_data['year'].apply(lambda x: int(np.floor(x / 10) * 10))\n\nplt.figure(figsize=(8, 8))\nsns.boxplot(x='decade', y='race_time_in_seconds', data=records_data, palette=\"PRGn\", hue='decade', legend=False)\nplt.title('Distribución de duración de carreras por década')\nplt.xlabel('Década')\nplt.ylabel('Duración de Carreras (segundos)')\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nSe destaca una clara tendencia hacia la reducción de los tiempos de vuelta con cada década sucesiva, lo que refleja los avances en la tecnología automotriz y la eficiencia aerodinámica. Esta mejora continua se evidencia en la reducción de la dispersión de los boxplots en décadas más recientes, especialmente en los años 2020, lo que sugiere una menor variabilidad y una mayor consistencia en el rendimiento de los pilotos y los vehículos.\nAdemás, la presencia de valores atípicos en los datos indica la ocurrencia de carreras con condiciones anómalas o extraordinarias, como cambios climáticos extremos o incidentes en la pista que han impactado significativamente en los tiempos de vuelta. Este análisis revela tanto la evolución constante de las capacidades tecnológicas como la influencia de factores externos en el rendimiento en pista.\n\n\nNúmero de premios celebrados por país\n\nraces_per_country = records_data['circuit_country'].value_counts()\n\nplt.figure(figsize=(8, 8))\nsns.barplot(x=races_per_country.values, y=races_per_country.index)\nplt.title('Número de premios celebrados por país')\nplt.xlabel('Número de Premios')\nplt.ylabel('País')\nplt.show()\n\n\n\n\n\n\n\n\nEl histograma presenta la distribución del número de Grandes Premios de Fórmula 1 celebrados por país. Italia lidera la lista, seguida por el Reino Unido (UK) y Alemania, lo que sugiere su arraigada tradición y su papel significativo en la historia del automovilismo. La prominencia de naciones europeas en la parte superior del gráfico refleja la influencia y la popularidad de la Fórmula 1 en Europa.\nPor otro lado, países como Qatar y Marruecos muestran un número relativamente bajo de eventos, lo que podría indicar una incorporación más reciente al calendario de la F1 o una frecuencia de carreras menos habitual. La variación en el número de premios por país puede estar influenciada por varios factores, como el interés local en el automovilismo, la infraestructura disponible para albergar eventos de este nivel y la historia del deporte en la región.\n\n\nEvolución de la velocidad\n\nplt.figure(figsize=(8, 8))\nsns.lineplot(x='year', y='winner_fastestlapspeed', data=records_data, label='Velocidad de Vuelta Más Rápida')\nplt.title('Evolución de la velocidad a lo largo de los años')\nplt.xlabel('Año')\nplt.ylabel('Velocidad (km/h)')\nplt.legend()\nplt.show()\n\n\n\n\n\n\n\n\nEl gráfico presenta la evolución de la velocidad de la vuelta más rápida en la Fórmula 1 a lo largo de los años. Se observan fluctuaciones en la velocidad a lo largo del tiempo, con una tendencia general al aumento, especialmente notoria a partir de 2015. La sombra alrededor de la línea indica la variabilidad en la velocidad de la vuelta más rápida cada año, sugiriendo que, aunque hay años con velocidades pico, también existen otros factores que pueden afectar la velocidad, como las regulaciones técnicas, las condiciones meteorológicas o el diseño de los circuitos.\nEl incremento significativo de la velocidad a partir de la mitad de la década de 2010 podría atribuirse a avances tecnológicos en los motores y la aerodinámica, así como a cambios en las regulaciones de la F1 que permiten vehículos más rápidos. Sin embargo, el pico en los años recientes también puede reflejar el desarrollo y perfeccionamiento constante en las estrategias de carrera y la optimización del rendimiento del vehículo.\n\n\nMapa de las carreras realizadas\n\ncountry_counts = records_data['circuit_country'].value_counts().reset_index()\ncountry_counts.columns = ['circuit_country', 'num_races']\n\ntemp_df = pd.merge(records_data, country_counts, on='circuit_country')\n\nfig = px.scatter_mapbox(temp_df, lat=\"circuit_lat\", lon=\"circuit_lng\", hover_name=\"race_name\",\n                         hover_data={\"raceid\": True, \"race_time_in_milliseconds\": True, \"general_fastest_lap_time\": True},\n                         size=\"num_races\",\n                         zoom=4)\n\nfig.update_layout(mapbox_style=\"open-street-map\")\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})\n\nfig.show()",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla races"
    ]
  },
  {
    "objectID": "constructors.html#tabla-constructors",
    "href": "constructors.html#tabla-constructors",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla constructors",
    "text": "Tabla constructors\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM constructors\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nconstructorid\nconstructorref\nname\nnationality\nurl\n\n\n\n\n0\n1\nmclaren\nMcLaren\nBritish\nhttp://en.wikipedia.org/wiki/McLaren\n\n\n1\n2\nbmw_sauber\nBMW Sauber\nGerman\nhttp://en.wikipedia.org/wiki/BMW_Sauber\n\n\n2\n3\nwilliams\nWilliams\nBritish\nhttp://en.wikipedia.org/wiki/Williams_Grand_Pr...\n\n\n3\n4\nrenault\nRenault\nFrench\nhttp://en.wikipedia.org/wiki/Renault_in_Formul...\n\n\n4\n5\ntoro_rosso\nToro Rosso\nItalian\nhttp://en.wikipedia.org/wiki/Scuderia_Toro_Rosso",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#tabla-circuits",
    "href": "constructors.html#tabla-circuits",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla circuits",
    "text": "Tabla circuits\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM circuits\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\ncircuitid\ncircuitref\nname\nlocation\ncountry\nlat\nlng\nalt\nurl\n\n\n\n\n0\n1\nalbert_park\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n-37.8497\n144.968\n10\nhttp://en.wikipedia.org/wiki/Melbourne_Grand_P...\n\n\n1\n2\nsepang\nSepang International Circuit\nKuala Lumpur\nMalaysia\n2.76083\n101.738\n18\nhttp://en.wikipedia.org/wiki/Sepang_Internatio...\n\n\n2\n3\nbahrain\nBahrain International Circuit\nSakhir\nBahrain\n26.0325\n50.5106\n7\nhttp://en.wikipedia.org/wiki/Bahrain_Internati...\n\n\n3\n4\ncatalunya\nCircuit de Barcelona-Catalunya\nMontmeló\nSpain\n41.57\n2.26111\n109\nhttp://en.wikipedia.org/wiki/Circuit_de_Barcel...\n\n\n4\n5\nistanbul\nIstanbul Park\nIstanbul\nTurkey\n40.9517\n29.405\n130\nhttp://en.wikipedia.org/wiki/Istanbul_Park",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#tabla-results",
    "href": "constructors.html#tabla-results",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla results",
    "text": "Tabla results\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM results\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nresultid\nraceid\ndriverid\nconstructorid\nnumber\ngrid\nposition\npositiontext\npositionorder\npoints\nlaps\ntime\nmilliseconds\nfastestlap\nrank\nfastestlaptime\nfastestlapspeed\nstatusid\n\n\n\n\n0\n1\n18\n1\n1\n22\n1\n1\n1\n1\n10\n58\n1:34:50.616\n5690616\n39\n2\n1:27.452\n218.300\n1\n\n\n1\n2\n18\n2\n2\n3\n5\n2\n2\n2\n8\n58\n+5.478\n5696094\n41\n3\n1:27.739\n217.586\n1\n\n\n2\n3\n18\n3\n3\n7\n7\n3\n3\n3\n6\n58\n+8.163\n5698779\n41\n5\n1:28.090\n216.719\n1\n\n\n3\n4\n18\n4\n4\n5\n11\n4\n4\n4\n5\n58\n+17.181\n5707797\n58\n7\n1:28.603\n215.464\n1\n\n\n4\n5\n18\n5\n1\n23\n3\n5\n5\n5\n4\n58\n+18.014\n5708630\n43\n1\n1:27.418\n218.385\n1",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#tabla-pit-stops",
    "href": "constructors.html#tabla-pit-stops",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla pit stops",
    "text": "Tabla pit stops\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT *\n            FROM pit_stops\n            LIMIT 5;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data)\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nraceid\ndriverid\nstop\nlap\ntime\nduration\nmilliseconds\n\n\n\n\n0\n841\n153\n1\n1\n17:05:23\n26.898\n26898\n\n\n1\n841\n30\n1\n1\n17:05:52\n25.021\n25021\n\n\n2\n841\n17\n1\n11\n17:20:48\n23.426\n23426\n\n\n3\n841\n4\n1\n12\n17:22:34\n23.251\n23251\n\n\n4\n841\n13\n1\n13\n17:24:10\n23.842\n23842",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#tabla-final",
    "href": "constructors.html#tabla-final",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Tabla final",
    "text": "Tabla final\nCon base en las columnas proporcionadas de cada tabla, podemos listar las que se utilizarán en el análisis de la siguiente manera:\n\nconstructors: constructorId, constructorRef, name, nationality\nCircuits: name, location, country.\nResults: raceId, driverId, points, grid, laps, milliseconds, fastestlap, rank, fastestlapspeed, number, status.\nPit Stops: stop, miliseconds.\n\nRealicemos entonces la consulta a la base de datos para obtener esta tabla.\n\ntry:\n    connection = connection_db()\n    cursor = connection.cursor()\n\n    cursor.execute(\n        \"\"\"\n            SELECT \n                c.constructorid, c.constructorref, c.name, c.nationality,\n                circuits.name AS circuit_name, circuits.location AS circuit_location, circuits.country AS circuit_country,\n                races.year,\n                r.raceid, r.driverid, r.number, r.grid, r.positionorder, r.points, r.laps, r.milliseconds, r.fastestlap, r.rank, r.fastestlapspeed, r.statusid,\n                fastest_pit_stop.stop AS fastest_pit_stop, fastest_pit_stop.milliseconds AS fastest_pit_stop_time\n            FROM constructors c\n            JOIN constructor_results ON c.constructorId = constructor_results.constructorId\n            JOIN races ON constructor_results.raceId = races.raceId\n            JOIN circuits ON races.circuitId = circuits.circuitId\n            JOIN (\n                SELECT raceId, constructorId, MAX(points) AS points\n                FROM constructor_standings\n                GROUP BY raceId, constructorId\n            ) AS cs ON constructor_results.raceId = cs.raceId AND constructor_results.constructorId = cs.constructorId\n            JOIN results as r ON constructor_results.raceId = r.raceId AND constructor_results.constructorId = r.constructorId AND r.points &gt; 0\n            LEFT JOIN (\n                SELECT ps.raceId, ps.driverId, ps.stop, ps.milliseconds\n                FROM pit_stops ps\n                JOIN drivers d ON ps.driverId = d.driverId\n                WHERE (ps.raceId, ps.driverId, ps.milliseconds) IN (\n                    SELECT raceId, driverId, MIN(milliseconds)\n                    FROM pit_stops\n                    GROUP BY raceId, driverId\n                )\n            ) AS fastest_pit_stop ON constructor_results.raceId = fastest_pit_stop.raceId AND r.driverId = fastest_pit_stop.driverId;\n        \"\"\"\n    )\n\n    records = cursor.fetchall()\n    records_data = pd.DataFrame(records)\n\n    columns = []\n    for column in cursor.description:\n        columns.append(column[0])\n\n    records_data.columns = columns\n\n    display(records_data.head())\nexcept (Exception, Error) as e:\n    print('Error while executing the query', e)\nfinally:\n    if(connection):\n        cursor.close()\n        connection.close()\n\n\n\n\n\n\n\n\n\nconstructorid\nconstructorref\nname\nnationality\ncircuit_name\ncircuit_location\ncircuit_country\nyear\nraceid\ndriverid\n...\npositionorder\npoints\nlaps\nmilliseconds\nfastestlap\nrank\nfastestlapspeed\nstatusid\nfastest_pit_stop\nfastest_pit_stop_time\n\n\n\n\n0\n1\nmclaren\nMcLaren\nBritish\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n1\n...\n1\n10\n58\n5690616.0\n39.0\n2.0\n218.300\n1\nNaN\nNaN\n\n\n1\n2\nbmw_sauber\nBMW Sauber\nGerman\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n2\n...\n2\n8\n58\n5696094.0\n41.0\n3.0\n217.586\n1\nNaN\nNaN\n\n\n2\n3\nwilliams\nWilliams\nBritish\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n3\n...\n3\n6\n58\n5698779.0\n41.0\n5.0\n216.719\n1\nNaN\nNaN\n\n\n3\n4\nrenault\nRenault\nFrench\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n4\n...\n4\n5\n58\n5707797.0\n58.0\n7.0\n215.464\n1\nNaN\nNaN\n\n\n4\n1\nmclaren\nMcLaren\nBritish\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n5\n...\n5\n4\n58\n5708630.0\n43.0\n1.0\n218.385\n1\nNaN\nNaN\n\n\n\n\n5 rows × 22 columns",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#conociendo-los-datos",
    "href": "constructors.html#conociendo-los-datos",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Conociendo los datos",
    "text": "Conociendo los datos\nConocer los datos es un paso fundamental en cualquier análisis. Proporciona una comprensión inicial del problema, permite validar la calidad de los datos, seleccionar características relevantes, preparar los datos adecuadamente y generar ideas y hipótesis. En resumen, la exploración inicial de los datos sienta las bases para un análisis más profundo y asegura que los resultados sean significativos y confiables.\n\nTipos de datos\nPara realizar un análisis exploratorio, primero debes conocer el tipo de variables con las que estamos tratando. Conocer si tenemos variables numéricas o categóricas podrían determinar el rumbo del análisis que realizaremos.\n\nrecords_data.dtypes\n\nconstructorid              int64\nconstructorref            object\nname                      object\nnationality               object\ncircuit_name              object\ncircuit_location          object\ncircuit_country           object\nyear                       int64\nraceid                     int64\ndriverid                   int64\nnumber                     int64\ngrid                       int64\npositionorder              int64\npoints                     int64\nlaps                       int64\nmilliseconds             float64\nfastestlap               float64\nrank                     float64\nfastestlapspeed           object\nstatusid                   int64\nfastest_pit_stop         float64\nfastest_pit_stop_time    float64\ndtype: object\n\n\nObservemos que todas las variables tienen el tipo de dato correcto, excepto la columna fastestlapspeed, que toma valores numéricos pero está siendo interpretada como un dato tipo object. Por lo tanto, es necesario convertir esta columna en tipo numérico. Además, vamos a cambiar los tipos de datos de las variables raceid, statusid,circuitid, driverid y constructorid a tipo object.\n\nrecords_data['fastestlapspeed'] = pd.to_numeric(records_data['fastestlapspeed'])\nrecords_data[['raceid', 'driverid', 'constructorid', 'statusid']] = records_data[['raceid', 'driverid', 'constructorid', 'statusid']].astype('object')\n\nrecords_data.dtypes\n\nconstructorid             object\nconstructorref            object\nname                      object\nnationality               object\ncircuit_name              object\ncircuit_location          object\ncircuit_country           object\nyear                       int64\nraceid                    object\ndriverid                  object\nnumber                     int64\ngrid                       int64\npositionorder              int64\npoints                     int64\nlaps                       int64\nmilliseconds             float64\nfastestlap               float64\nrank                     float64\nfastestlapspeed          float64\nstatusid                  object\nfastest_pit_stop         float64\nfastest_pit_stop_time    float64\ndtype: object\n\n\n\n\nDimensiones de los registros\nDeterminar el tamaño de nuestros registros es fundamental, ya que nos permite comprender la magnitud de la información que estamos manejando. Esto a su vez nos ayuda a establecer posibles caminos a seguir en caso de realizar transformaciones y análisis adicionales.\n\nrecords_data.shape\n\n(7441, 22)\n\n\n\nlen(records_data['constructorref'].unique())\n\n88\n\n\nEsto indica que desde el año 1950 hasta el 2023, en las más de 1000 carreras que se han llevado a cabo, han competido 88 equipos en esta competencia. Además, teniendo más de 7000 registros significa que estamos trabajando con una cantidad considerable de datos sobre equipos constructores.\n\n\nDatos faltantes\nDeterminar la presencia de datos faltantes es crucial, ya que puede indicar si podemos confiar en una columna para el análisis o si necesitamos tomar medidas para imputar esos valores ausentes.\n\nrecords_data.isnull().sum()\n\nconstructorid               0\nconstructorref              0\nname                        0\nnationality                 0\ncircuit_name                0\ncircuit_location            0\ncircuit_country             0\nyear                        0\nraceid                      0\ndriverid                    0\nnumber                      0\ngrid                        0\npositionorder               0\npoints                      0\nlaps                        0\nmilliseconds             1546\nfastestlap               3888\nrank                     3877\nfastestlapspeed          3888\nstatusid                    0\nfastest_pit_stop         4932\nfastest_pit_stop_time    4932\ndtype: int64\n\n\nCon los resultados obtenidos, observamos que tenemos una cantidad significativa de datos faltantes. Esta situación puede afectar los análisis futuros, dependiendo del tipo de variable que estemos considerando. Es importante determinar un método adecuado para la imputación de datos en caso de que sea necesario. Veamos el porcentaje que representa esta cantidad de datos faltantes en el total de nuestros datos.\n\nmissing_values = records_data.isnull().sum()\nmissing_percentage = round((missing_values / len(records_data)) * 100, 4)\nmissing_percentage\n\nconstructorid             0.0000\nconstructorref            0.0000\nname                      0.0000\nnationality               0.0000\ncircuit_name              0.0000\ncircuit_location          0.0000\ncircuit_country           0.0000\nyear                      0.0000\nraceid                    0.0000\ndriverid                  0.0000\nnumber                    0.0000\ngrid                      0.0000\npositionorder             0.0000\npoints                    0.0000\nlaps                      0.0000\nmilliseconds             20.7768\nfastestlap               52.2510\nrank                     52.1032\nfastestlapspeed          52.2510\nstatusid                  0.0000\nfastest_pit_stop         66.2814\nfastest_pit_stop_time    66.2814\ndtype: float64\n\n\nTenemos un gran porcentaje de datos faltantes en nuestras variables. Sin embargo, estos datos faltantes parecen estar concentrados en las variables relacionadas con medidas de tiempos y velocidades. Esto sugiere que estos datos podrían faltar debido a limitaciones técnicas o falta de registro en las fechas más antiguas, donde la toma de estas medidas podría no haber sido sistemática.\nPara comprender mejor la distribución de estos datos faltantes, examinemos en qué fechas están ocurriendo y verifiquemos la fecha máxima y mínima en la que faltan estas observaciones.\n\nrecords_data[records_data.isnull().any(axis = 1)]\n\n\n\n\n\n\n\n\n\nconstructorid\nconstructorref\nname\nnationality\ncircuit_name\ncircuit_location\ncircuit_country\nyear\nraceid\ndriverid\n...\npositionorder\npoints\nlaps\nmilliseconds\nfastestlap\nrank\nfastestlapspeed\nstatusid\nfastest_pit_stop\nfastest_pit_stop_time\n\n\n\n\n0\n1\nmclaren\nMcLaren\nBritish\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n1\n...\n1\n10\n58\n5690616.0\n39.0\n2.0\n218.300\n1\nNaN\nNaN\n\n\n1\n2\nbmw_sauber\nBMW Sauber\nGerman\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n2\n...\n2\n8\n58\n5696094.0\n41.0\n3.0\n217.586\n1\nNaN\nNaN\n\n\n2\n3\nwilliams\nWilliams\nBritish\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n3\n...\n3\n6\n58\n5698779.0\n41.0\n5.0\n216.719\n1\nNaN\nNaN\n\n\n3\n4\nrenault\nRenault\nFrench\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n4\n...\n4\n5\n58\n5707797.0\n58.0\n7.0\n215.464\n1\nNaN\nNaN\n\n\n4\n1\nmclaren\nMcLaren\nBritish\nAlbert Park Grand Prix Circuit\nMelbourne\nAustralia\n2008\n18\n5\n...\n5\n4\n58\n5708630.0\n43.0\n1.0\n218.385\n1\nNaN\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n7299\n1\nmclaren\nMcLaren\nBritish\nAutódromo Hermanos Rodríguez\nMexico City\nMexico\n2022\n1094\n846\n...\n9\n2\n70\nNaN\n48.0\n17.0\n185.779\n11\n1.0\n22585.0\n\n\n7300\n51\nalfa\nAlfa Romeo\nSwiss\nAutódromo Hermanos Rodríguez\nMexico City\nMexico\n2022\n1094\n822\n...\n10\n1\n70\nNaN\n43.0\n16.0\n185.866\n11\n1.0\n23863.0\n\n\n7379\n1\nmclaren\nMcLaren\nBritish\nCircuit de Monaco\nMonte-Carlo\nMonaco\n2023\n1104\n846\n...\n9\n2\n77\nNaN\n46.0\n19.0\n154.324\n11\n1.0\n24663.0\n\n\n7380\n1\nmclaren\nMcLaren\nBritish\nCircuit de Monaco\nMonte-Carlo\nMonaco\n2023\n1104\n857\n...\n10\n1\n77\nNaN\n47.0\n14.0\n154.983\n11\n1.0\n25851.0\n\n\n7430\n117\naston_martin\nAston Martin\nBritish\nHungaroring\nBudapest\nHungary\n2023\n1109\n840\n...\n10\n1\n69\nNaN\n54.0\n11.0\n189.051\n11\n1.0\n21910.0\n\n\n\n\n5280 rows × 22 columns\n\n\n\n\n\n\nFecha mínima:  1958\nFecha promedio:  1990\nFecha máxima:  2023\n\n\nObservando estos resultados, podemos confirmar nuestra teoría. Estos registros faltantes pueden ser debidos a limitaciones técnicas en aquellos tiempos. Sin embargo, también tenemos datos faltantes recientes.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#exploración-de-los-datos",
    "href": "constructors.html#exploración-de-los-datos",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Exploración de los datos",
    "text": "Exploración de los datos\nEn esta sección realizaremos el verdadero análisis exploratorio de nuestros datos. Abordaremos los siguientes aspectos:\n\nMedidas de tendencia central: Calcularemos medidas como la media, la mediana y la moda para entender mejor la distribución de nuestros datos.\nLimpieza de los datos: Abordaremos la limpieza de nuestros datos, incluyendo la búsqueda de datos atípicos.\nTransformación: Determinaremos si es necesario aplicar alguna transformación a nuestros datos para facilitar los análisis subsiguientes.\nVisualización: Utilizaremos herramientas gráficas para explorar el comportamiento de nuestros datos y extraer patrones o tendencias.\n\nEsta fase nos permitirá comprender mejor la naturaleza de nuestros datos y prepararlos adecuadamente para análisis más avanzados.\n\nMedidas de tendencia central\n\nrecords_data.describe()\n\n\n\n\n\n\n\n\n\nyear\nnumber\ngrid\npositionorder\npoints\nlaps\nmilliseconds\nfastestlap\nrank\nfastestlapspeed\nfastest_pit_stop\nfastest_pit_stop_time\n\n\n\n\ncount\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n5.895000e+03\n3553.000000\n3564.000000\n3553.000000\n2509.000000\n2.509000e+03\n\n\nmean\n1997.963177\n14.495498\n7.137078\n4.354522\n6.467679\n62.388792\n5.989774e+06\n46.603152\n6.680415\n206.006290\n1.536070\n3.173199e+04\n\n\nstd\n18.309481\n15.192749\n4.989723\n2.463845\n5.667732\n13.737097\n1.089727e+06\n14.355980\n4.232408\n20.582848\n0.761929\n9.771809e+04\n\n\nmin\n1958.000000\n0.000000\n0.000000\n1.000000\n1.000000\n1.000000\n2.070710e+05\n2.000000\n0.000000\n147.980000\n1.000000\n1.317300e+04\n\n\n25%\n1983.000000\n5.000000\n3.000000\n2.000000\n2.000000\n54.000000\n5.388156e+06\n39.000000\n3.000000\n195.557000\n1.000000\n2.147400e+04\n\n\n50%\n2002.000000\n10.000000\n6.000000\n4.000000\n4.000000\n61.000000\n5.771321e+06\n48.000000\n6.000000\n206.603000\n1.000000\n2.287400e+04\n\n\n75%\n2014.000000\n19.000000\n10.000000\n6.000000\n9.000000\n71.000000\n6.295221e+06\n56.000000\n10.000000\n219.005000\n2.000000\n2.463900e+04\n\n\nmax\n2023.000000\n99.000000\n26.000000\n21.000000\n50.000000\n110.000000\n1.472659e+07\n85.000000\n20.000000\n257.320000\n6.000000\n1.517308e+06\n\n\n\n\n\n\n\n\n\nEstos resultados nos pueden permitir concluir lo siguiente:\n\nPuntos, posición en la parrilla y número de vueltas: Los datos muestran que el promedio de puntos obtenidos por carrera es de aproximadamente 6.47. La posición promedio en la parrilla de salida es alrededor de 7.14. En cuanto al número de vueltas, el promedio es de aproximadamente 62.39. Estas variabilidades indican que hay una amplia gama de resultados en términos de puntos, posición en la parrilla y número de vueltas, lo que podría atribuirse a diferencias en la dificultad de los circuitos, la calidad de los vehículos y las estrategias de los equipos en cada carrera.\nTiempo de carrera y velocidad: El tiempo medio de carrera es de aproximadamente 5.99 millones de milisegundos (alrededor de 99.83 minutos) millones de milisegundos. Esta variabilidad en los tiempos de carrera puede deberse a la longitud del circuito, las condiciones climáticas y la cantidad de incidentes en la pista. La velocidad media de la vuelta más rápida realizada por el ganador es de alrededor de 206.01 km/h. Estas diferencias en la velocidad pueden ser atribuibles a las características específicas del circuito y la competencia entre los conductores.\nParadas en boxes: El tiempo medio para la parada en boxes más rápida es de aproximadamente 31.73 segundos. Las paradas en boxes indican que hay una variabilidad en los tiempos de pit stop entre las carreras, que puede estar influenciada por factores como la estrategia del equipo y la eficiencia en el box.\n\n\n\nLimpieza de los datos\nLa limpieza de datos es una etapa crucial en cualquier análisis, por lo que en este apartado trataremos los datos faltantes y observaremos si existen datos atípicos en nuestras variables.\n\nDatos faltantes\nExisten diversas estrategias para abordar este problema. Usualmente, en este tipo de análisis se recurre a la imputación de valores faltantes utilizando la media, moda o mediana, o llenando los datos con los valores anteriores o siguientes. Sin embargo, estas técnicas pueden no ser óptimas para conjuntos de datos extensos o con características específicas.\nEn nuestro caso, una estrategia efectiva sería utilizar la imputación de datos faltantes basada en puntos similares en los datos mediante el algoritmo KNN (K-Nearest Neighbors) y Random Forest Classification. Este método considera las características de observaciones similares para estimar los valores faltantes de manera más precisa y realista, lo que resulta especialmente útil en conjuntos de datos complejos como el nuestro.\nInicialmente, creemos un DataFrame temporal donde estarán los mismos datos de records_data pero sin las columnas correspondientes a tipo object.\n\ntemp_df = records_data.select_dtypes(exclude=['object'])\n\nimputer = IterativeImputer(min_value=0, max_iter=30, imputation_order='roman', random_state=1)\nimputed_data = imputer.fit_transform(temp_df)\n\ntemp_df_imputed = pd.DataFrame(imputed_data, columns=temp_df.columns)\ntemp_df_imputed.isnull().sum()\n\nyear                     0\nnumber                   0\ngrid                     0\npositionorder            0\npoints                   0\nlaps                     0\nmilliseconds             0\nfastestlap               0\nrank                     0\nfastestlapspeed          0\nfastest_pit_stop         0\nfastest_pit_stop_time    0\ndtype: int64\n\n\nBien, ya no tenemos datos faltantes. Ahora, verifiquemos si los resultados obtenidos en las medidas de tendencia central del DataFrame original cambiaron significativamente.\n\ntemp_df_imputed.describe()\n\n\n\n\n\n\n\n\n\nyear\nnumber\ngrid\npositionorder\npoints\nlaps\nmilliseconds\nfastestlap\nrank\nfastestlapspeed\nfastest_pit_stop\nfastest_pit_stop_time\n\n\n\n\ncount\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n7.441000e+03\n7441.000000\n7441.000000\n7441.000000\n7441.000000\n7.441000e+03\n\n\nmean\n1997.963177\n14.495498\n7.137078\n4.354522\n6.467679\n62.388792\n6.081225e+06\n37.759931\n5.846977\n196.131523\n2.240600\n3.454560e+04\n\n\nstd\n18.309481\n15.192749\n4.989723\n2.463845\n5.667732\n13.737097\n1.042933e+06\n15.428452\n3.313179\n24.840240\n0.824293\n5.900247e+04\n\n\nmin\n1958.000000\n0.000000\n0.000000\n1.000000\n1.000000\n1.000000\n2.070710e+05\n0.000000\n0.000000\n102.884413\n0.646780\n0.000000e+00\n\n\n25%\n1983.000000\n5.000000\n3.000000\n2.000000\n2.000000\n54.000000\n5.471968e+06\n28.193697\n3.334282\n181.618486\n1.843325\n2.172100e+04\n\n\n50%\n2002.000000\n10.000000\n6.000000\n4.000000\n4.000000\n61.000000\n5.899051e+06\n37.728190\n5.300952\n198.225000\n2.185505\n2.571253e+04\n\n\n75%\n2014.000000\n19.000000\n10.000000\n6.000000\n9.000000\n71.000000\n6.496058e+06\n48.000000\n7.430359\n212.063000\n2.871513\n3.848875e+04\n\n\nmax\n2023.000000\n99.000000\n26.000000\n21.000000\n50.000000\n110.000000\n1.472659e+07\n85.000000\n20.818095\n327.756546\n6.000000\n1.517308e+06\n\n\n\n\n\n\n\n\n\nComparando los resultados de las medidas de tendencia central antes y después de la imputación de datos con el algoritmo KNN, observamos algunas diferencias significativas en ciertas variables:\n\nPuntos, posición en la parrilla y número de vueltas: No se observan cambios significativos en las medidas de tendencia central y dispersión de los puntos obtenidos, la posición en la parrilla de salida y el número de vueltas antes y después de la imputación de datos.\nTiempo de carrera y velocidad: Después de la imputación de datos, se observa un ligero aumento en la media del tiempo de carrera, mientras que la desviación estándar disminuye. Esto sugiere una mayor consistencia en los tiempos de carrera entre las carreras. Por otro lado, no hay cambios significativos en las estadísticas de velocidad de la vuelta más rápida antes y después de la imputación.\nParadas en boxes: Después de la imputación de datos, se observa un aumento en la media del tiempo de la parada más rápida, lo que indica que las paradas en boxes pueden haber sido ligeramente más lentas en promedio después de la imputación. Sin embargo, la desviación estándar disminuye, lo que sugiere una mayor consistencia en los tiempos de parada más rápida entre las carreras.\n\nAhora que hemos realizado la imputación de datos, pasemos estos datos a nuestro dataframe original.\n\nrecords_data[temp_df.columns] = temp_df_imputed\nrecords_data.isnull().sum()\n\nconstructorid            0\nconstructorref           0\nname                     0\nnationality              0\ncircuit_name             0\ncircuit_location         0\ncircuit_country          0\nyear                     0\nraceid                   0\ndriverid                 0\nnumber                   0\ngrid                     0\npositionorder            0\npoints                   0\nlaps                     0\nmilliseconds             0\nfastestlap               0\nrank                     0\nfastestlapspeed          0\nstatusid                 0\nfastest_pit_stop         0\nfastest_pit_stop_time    0\ndtype: int64\n\n\n\n\nDatos atípicos\nVeamos ahora si existen datos atípicos en nuestro registro. En este caso, utilizaremos el rango intercuartílico (IQR) para identificar los valores atípicos. Si un valor cae por debajo de Q1 - 1.5 * IQR o por encima de Q3 + 1.5 * IQR, se considera un valor atípico.\n\nnumeric_columns = temp_df.columns\n\nfor col in numeric_columns:\n    q1 = records_data[col].quantile(0.25)\n    q3 = records_data[col].quantile(0.75)\n\n    iqr = q3 - q1\n    lower_bound = q1 - 1.5 * iqr\n    upper_bound = q3 + 1.5 * iqr\n    outliers = records_data[(records_data[col] &lt; lower_bound) | (records_data[col] &gt; upper_bound)]\n    n_outliers = len(outliers)\n    print(f'#Outliers in {col} are {n_outliers} and represent a {round(n_outliers/len(records_data) * 100, 4)}% of total records')\n\n#Outliers in year are 0 and represent a 0.0% of total records\n#Outliers in number are 503 and represent a 6.7598% of total records\n#Outliers in grid are 94 and represent a 1.2633% of total records\n#Outliers in positionorder are 1 and represent a 0.0134% of total records\n#Outliers in points are 274 and represent a 3.6823% of total records\n#Outliers in laps are 263 and represent a 3.5345% of total records\n#Outliers in milliseconds are 309 and represent a 4.1527% of total records\n#Outliers in fastestlap are 10 and represent a 0.1344% of total records\n#Outliers in rank are 272 and represent a 3.6554% of total records\n#Outliers in fastestlapspeed are 155 and represent a 2.0831% of total records\n#Outliers in fastest_pit_stop are 12 and represent a 0.1613% of total records\n#Outliers in fastest_pit_stop_time are 451 and represent a 6.061% of total records\n\n\nComo podemos observar, respecto a los más de 7000 registros que tiene la tabla, hay una pequeña cantidada de datos significativa de datos atípicos en nuestras variables. Veamos gráficamente qué es lo que está ocurriendo con ellos.\nRealizaremos un gráfico de caja y bigotes e histogramas para ver el comportamiento y la distribución de nuestros datos.\n\nplt.figure(figsize=(9,12))\n\ni = 1\nfor col in numeric_columns:\n    plt.subplot(5,3,i)\n    plt.boxplot(records_data[col],whis=1.5)\n    plt.title(col)\n\n    i += 1\nplt.show()\n\n\n\n\n\n\n\n\n\nplt.figure(figsize=(8,12))\n\ni = 1\nfor col in numeric_columns:\n    plt.subplot(5, 3, i)\n    sns.histplot(records_data[col], kde=True)\n    plt.title(col)\n    i += 1\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nDada la naturaleza de las variables, en algunos casos como rank, lap, grid, points, entre otros que son datos numéricos discretos y representan una categoría específica, es normal que existan datos atípicos. Por otro lado, para las otras variables en nuestra base de datos, estos datos atípicos no están afectando mucho la distribución de cada una de ellas, por lo tanto, no realizaremos cambios en ellas.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  },
  {
    "objectID": "constructors.html#visualización",
    "href": "constructors.html#visualización",
    "title": "Campeonato Mundial de la Formula 1 (1950 - 2023)",
    "section": "Visualización",
    "text": "Visualización\nLa visualización es uno de los puntos más importantes a la hora de realizar una exploración de los datos. Con ella, no solo podemos encontrar las relaciones que existen entre nuestras variables, sino que también podemos representar gráficamente las informaciones más relevantes de los datos.\nComencemos visualizando los gráficos de correlación y dispersión entre las variables para comprender mejor sus relaciones y encontrar posibles patrones.\n\nGráfico de correlación\n\ncorr = records_data[numeric_columns].corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\nsns.heatmap(corr, annot=True, cmap='PRGn', square=True, center=0, mask=mask)\n\n\n\n\n\n\n\n\nComo podemos observar, las variables con una alta correlación (&gt;0.5 o &lt;-0.5) son aquellas que están relacionadas entre sí, como laps, fastestlapspeed, fastest_lap, positionorder, year, fastest_pip_stop entre otras. Por lo tanto, esto no debería ser un problema y podemos proseguir con la exploración de los datos.\n\n\nGráfico de dispersión\n\nplt.figure(figsize=(8, 12))\nsns.pairplot(records_data[numeric_columns])\nplt.show()\n\n&lt;Figure size 768x1152 with 0 Axes&gt;\n\n\n\n\n\n\n\n\n\n\nDe este gráfico podemos notar que a medida que pasan los años, los equipos han ha evolucionado progresivamente en términos de velocidades y tiempos de carreras obtenidos. La velocidad y duración en boxes han aumentado, lo que indica una mejora en los automóviles y las técnicas de revisión de ellos. Sin embargo, estos cambios en las velocidades y tiempos también se han vuelto más dispersos a lo largo de los años, lo que implica que ha habido una gran diferencia entre los equipos constructores. Además, también podemos observar algunas relaciones proporcionales en nuestras variables, como aquellas relacionadas nuevamente con las velocidades y tiempos.\n\n\nDistribución de carreras\n\nconstructor_stats = records_data.groupby('name').size().reset_index(name='total_races')\nconstructor_stats = constructor_stats.sort_values(by='total_races', ascending=False)\nconstructor_stats = constructor_stats.rename(columns={'name': 'constructor_name'})\n\ntop_constructors = constructor_stats.head(5)\n\nplt.figure(figsize=(8, 7))\nsns.histplot(constructor_stats['total_races'], kde=False, bins=30, color='skyblue', edgecolor='black')\nplt.title('Distribución del Número Total de Carreras por Constructor')\nplt.xlabel('Número Total de Carreras')\nplt.ylabel('Frecuencia')\n\ntext = '\\n'.join([f\"{i+1}. {row['constructor_name']}: {row['total_races']} carreras\" for i, (index, row) in enumerate(top_constructors.iterrows(), start=0)])\nplt.text(max(top_constructors['total_races']) * 1.02, plt.ylim()[1] * 0.9, text, ha='right', va='top', fontsize=10)\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nSe observa que la mayoría de los constructores han participado en una cantidad menor de carreras, con una concentración significativa cerca del cero. Esto indica que hay muchos equipos que han tenido una presencia breve en el deporte (pocas temporadas). Sin embargo, hay un pequeño grupo de equipos, como Ferrari y McLaren, que resaltan con una participación en un número mucho mayor de carreras, superando los 800 Grandes Premios, lo que subraya su posición como pilares históricos de la Fórmula 1 con una larga tradición de competencia continua.\n\n\nDistribución de costructores por nacionalidad\n\nconstructor_stats = records_data.groupby('nationality').size().reset_index(name='num_constructors')\nconstructor_stats = constructor_stats.sort_values(by='num_constructors', ascending=False)\nconstructor_stats = constructor_stats.rename(columns={'nationality': 'constructor_nationality'})\n\ntop_constructors = constructor_stats.head(5)\n\nplt.figure(figsize=(8, 7))\nconstructor_stats.set_index('constructor_nationality')['num_constructors'].plot(kind='bar')\nplt.title('Número de Constructores por Nacionalidad')\nplt.xlabel('Nacionalidad')\nplt.ylabel('Número de Constructores')\nplt.xticks(rotation=45)  \nplt.tight_layout() \nplt.show()\n\n\n\n\n\n\n\n\n\nEl gráfico muestra la distribución de constructores de Fórmula 1 por nacionalidad. La nacionalidad británica domina claramente con la mayor cantidad de constructores, lo cual resalta la influencia y la historia del Reino Unido en el automovilismo de F1. Le siguen con menor frecuencia los constructores americanos e italianos, reflejando también su papel significativo en la F1.\nLa presencia de una variedad de otras nacionalidades indica la diversidad internacional de los equipos, aunque con una representación mucho menor comparada con las tres principales. Esta distribución no solo refleja la historia y geografía del deporte sino también las industrias automotrices nacionales y su apoyo al automovilismo.\n\n\nTop 5 equipos más ganadores\n\nconstructor_stats = records_data[records_data['positionorder'] == 1]\nconstructor_stats = records_data.groupby('name').size().reset_index(name='total_wins')\nconstructor_stats = constructor_stats.sort_values(by='total_wins', ascending=False)\nconstructor_stats = constructor_stats.rename(columns={'name': 'constructor_name'})\n\ntop_constructors = constructor_stats.head(5)\n\nplt.figure(figsize=(8, 7))\nplt.bar(top_constructors['constructor_name'], top_constructors['total_wins'], color='skyblue')\nplt.title('Top 5 Equipos Más Ganadores en F1')\nplt.xlabel('Equipo')\nplt.ylabel('Número Total de Victorias')\nplt.xticks()\nplt.show()\n\n\n\n\n\n\n\n\n\nEl gráfico muestra el top 10 de equipos más ganadores en la historia de la Fórmula 1. Ferrari lidera con una diferencia significativa, destacando su legado como la escudería más exitosa. McLaren le sigue, con Mercedes, Williams y Red Bull completando los cinco primeros lugares. Estos equipos han sido fundamentales en el deporte, no solo por su número de victorias sino también por su influencia en la evolución de la competición.\n\n\nEvolución de la velocidad\n\nplt.figure(figsize=(8, 8))\nsns.lineplot(x='year', y='fastestlapspeed', data=records_data, label='Velocidad de Vuelta Más Rápida')\nplt.title('Evolución de la velocidad a lo largo de los años')\nplt.xlabel('Año')\nplt.ylabel('Velocidad (km/h)')\nplt.legend()\nplt.show()\n\n\n\n\n\n\n\n\n\nEl gráfico presenta la evolución de la velocidad de la vuelta más rápida en la Fórmula 1 a lo largo de los años. Se observan fluctuaciones en la velocidad a lo largo del tiempo, con una tendencia general al aumento. La sombra alrededor de la línea indica la variabilidad en la velocidad de la vuelta más rápida cada año, sugiriendo que, aunque hay años con velocidades pico, también existen otros factores que pueden afectar la velocidad, como las regulaciones técnicas, las condiciones meteorológicas o el diseño de los circuitos.\nEl incremento significativo de la velocidad podría atribuirse a avances tecnológicos en los motores y la aerodinámica, así como a cambios en las regulaciones de la F1 que permiten vehículos más rápidos. Sin embargo, el pico en los años recientes también puede reflejar el desarrollo y perfeccionamiento constante en las estrategias de carrera y la optimización del rendimiento del vehículo.\n\n\nEvolución de la velocidad máxima alcanzada por equipo\n\nfig, axes = plt.subplots(3, 2, figsize=(12, 8))\n\nfor ax, team in zip(axes.flatten(), top_constructors['constructor_name']):\n    team_data = records_data[records_data['name'] == team]\n    sns.lineplot(x='year', y='fastestlapspeed', data=team_data, ax=ax)\n    ax.set_title(f'Evolución de {team} - Velocidad máxima alcanzada')\n    ax.set_xlabel('Año')\n    ax.set_ylabel('Velocidad máxima alcanzada (km/h)')\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nLa evolución de la velocidad máxima en la Fórmula 1 a lo largo de los años es un resultado complejo de factores como la tecnología, las regulaciones, el diseño de los circuitos y la competencia entre equipos. Cada equipo tiene su propia trayectoria, y las mejoras constantes o altibajos pueden atribuirse a diversas razones.\n\n\nEvolución de las paradas en boxes\n\nrecords_data['fastest_pit_stop_time_in_seconds'] = records_data['fastest_pit_stop_time'] / 1000\n\nplt.figure(figsize=(8, 8))\nsns.lineplot(x='year', y='fastestlapspeed', data=records_data, label='Velocidad de Vuelta Más Rápida')\nplt.title('Evolución de la velocidad a lo largo de los años')\nplt.xlabel('Año')\nplt.ylabel('Velocidad (km/h)')\nplt.legend()\nplt.show()\n\n\n\n\n\n\n\n\n\n\nEvolución de las paradas en boxes por equipo\n\nfig, axes = plt.subplots(3, 2, figsize=(12, 12))\n\nfor ax, team in zip(axes.flatten(), top_constructors['constructor_name']):\n    team_data = records_data[records_data['name'] == team]\n    sns.lineplot(x='year', y='fastest_pit_stop_time_in_seconds', data=team_data, ax=ax)\n    ax.set_title(f'Evolución de {team} - Tiempo Promedio de Parada en Boxes')\n    ax.set_xlabel('Año')\n    ax.set_ylabel('Tiempo Promedio de Parada en Boxes (segundos)')\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nLa gráfica muestra cómo ha evolucionado el tiempo promedio de parada en boxes para los mejores equipos de Fórmula 1 a lo largo de los años. Las mejoras tecnológicas, el entrenamiento del personal, las estrategias de carrera y los cambios en el diseño de los autos han influido en estos tiempos. Los equipos más eficientes han logrado reducir sus tiempos de parada, demostrando habilidad y dedicación en las carreras.",
    "crumbs": [
      "Análisis Exploratorio de Datos (EDA)",
      "Análisis de la tabla constructors"
    ]
  }
]